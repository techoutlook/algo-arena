(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();function LE(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var mm={exports:{}},Vl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S_;function CS(){if(S_)return Vl;S_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Vl.Fragment=e,Vl.jsx=t,Vl.jsxs=t,Vl}var A_;function xS(){return A_||(A_=1,mm.exports=CS()),mm.exports}var R=xS(),pm={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R_;function NS(){if(R_)return Ce;R_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function I(k){return k===null||typeof k!="object"?null:(k=S&&k[S]||k["@@iterator"],typeof k=="function"?k:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,$={};function B(k,K,ae){this.props=k,this.context=K,this.refs=$,this.updater=ae||O}B.prototype.isReactComponent={},B.prototype.setState=function(k,K){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,K,"setState")},B.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function X(){}X.prototype=B.prototype;function ee(k,K,ae){this.props=k,this.context=K,this.refs=$,this.updater=ae||O}var Q=ee.prototype=new X;Q.constructor=ee,U(Q,B.prototype),Q.isPureReactComponent=!0;var ue=Array.isArray,re={H:null,A:null,T:null,S:null},fe=Object.prototype.hasOwnProperty;function D(k,K,ae,oe,le,we){return ae=we.ref,{$$typeof:i,type:k,key:K,ref:ae!==void 0?ae:null,props:we}}function C(k,K){return D(k.type,K,void 0,void 0,void 0,k.props)}function w(k){return typeof k=="object"&&k!==null&&k.$$typeof===i}function A(k){var K={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ae){return K[ae]})}var M=/\/+/g;function j(k,K){return typeof k=="object"&&k!==null&&k.key!=null?A(""+k.key):K.toString(36)}function N(){}function Je(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(N,N):(k.status="pending",k.then(function(K){k.status==="pending"&&(k.status="fulfilled",k.value=K)},function(K){k.status==="pending"&&(k.status="rejected",k.reason=K)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function de(k,K,ae,oe,le){var we=typeof k;(we==="undefined"||we==="boolean")&&(k=null);var Ie=!1;if(k===null)Ie=!0;else switch(we){case"bigint":case"string":case"number":Ie=!0;break;case"object":switch(k.$$typeof){case i:case e:Ie=!0;break;case E:return Ie=k._init,de(Ie(k._payload),K,ae,oe,le)}}if(Ie)return le=le(k),Ie=oe===""?"."+j(k,0):oe,ue(le)?(ae="",Ie!=null&&(ae=Ie.replace(M,"$&/")+"/"),de(le,K,ae,"",function(st){return st})):le!=null&&(w(le)&&(le=C(le,ae+(le.key==null||k&&k.key===le.key?"":(""+le.key).replace(M,"$&/")+"/")+Ie)),K.push(le)),1;Ie=0;var pt=oe===""?".":oe+":";if(ue(k))for(var Be=0;Be<k.length;Be++)oe=k[Be],we=pt+j(oe,Be),Ie+=de(oe,K,ae,we,le);else if(Be=I(k),typeof Be=="function")for(k=Be.call(k),Be=0;!(oe=k.next()).done;)oe=oe.value,we=pt+j(oe,Be++),Ie+=de(oe,K,ae,we,le);else if(we==="object"){if(typeof k.then=="function")return de(Je(k),K,ae,oe,le);throw K=String(k),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Ie}function ne(k,K,ae){if(k==null)return k;var oe=[],le=0;return de(k,oe,"","",function(we){return K.call(ae,we,le++)}),oe}function ge(k){if(k._status===-1){var K=k._result;K=K(),K.then(function(ae){(k._status===0||k._status===-1)&&(k._status=1,k._result=ae)},function(ae){(k._status===0||k._status===-1)&&(k._status=2,k._result=ae)}),k._status===-1&&(k._status=0,k._result=K)}if(k._status===1)return k._result.default;throw k._result}var me=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function De(){}return Ce.Children={map:ne,forEach:function(k,K,ae){ne(k,function(){K.apply(this,arguments)},ae)},count:function(k){var K=0;return ne(k,function(){K++}),K},toArray:function(k){return ne(k,function(K){return K})||[]},only:function(k){if(!w(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Ce.Component=B,Ce.Fragment=t,Ce.Profiler=o,Ce.PureComponent=ee,Ce.StrictMode=s,Ce.Suspense=p,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=re,Ce.act=function(){throw Error("act(...) is not supported in production builds of React.")},Ce.cache=function(k){return function(){return k.apply(null,arguments)}},Ce.cloneElement=function(k,K,ae){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var oe=U({},k.props),le=k.key,we=void 0;if(K!=null)for(Ie in K.ref!==void 0&&(we=void 0),K.key!==void 0&&(le=""+K.key),K)!fe.call(K,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&K.ref===void 0||(oe[Ie]=K[Ie]);var Ie=arguments.length-2;if(Ie===1)oe.children=ae;else if(1<Ie){for(var pt=Array(Ie),Be=0;Be<Ie;Be++)pt[Be]=arguments[Be+2];oe.children=pt}return D(k.type,le,void 0,void 0,we,oe)},Ce.createContext=function(k){return k={$$typeof:f,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},Ce.createElement=function(k,K,ae){var oe,le={},we=null;if(K!=null)for(oe in K.key!==void 0&&(we=""+K.key),K)fe.call(K,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(le[oe]=K[oe]);var Ie=arguments.length-2;if(Ie===1)le.children=ae;else if(1<Ie){for(var pt=Array(Ie),Be=0;Be<Ie;Be++)pt[Be]=arguments[Be+2];le.children=pt}if(k&&k.defaultProps)for(oe in Ie=k.defaultProps,Ie)le[oe]===void 0&&(le[oe]=Ie[oe]);return D(k,we,void 0,void 0,null,le)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(k){return{$$typeof:m,render:k}},Ce.isValidElement=w,Ce.lazy=function(k){return{$$typeof:E,_payload:{_status:-1,_result:k},_init:ge}},Ce.memo=function(k,K){return{$$typeof:g,type:k,compare:K===void 0?null:K}},Ce.startTransition=function(k){var K=re.T,ae={};re.T=ae;try{var oe=k(),le=re.S;le!==null&&le(ae,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(De,me)}catch(we){me(we)}finally{re.T=K}},Ce.unstable_useCacheRefresh=function(){return re.H.useCacheRefresh()},Ce.use=function(k){return re.H.use(k)},Ce.useActionState=function(k,K,ae){return re.H.useActionState(k,K,ae)},Ce.useCallback=function(k,K){return re.H.useCallback(k,K)},Ce.useContext=function(k){return re.H.useContext(k)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(k,K){return re.H.useDeferredValue(k,K)},Ce.useEffect=function(k,K){return re.H.useEffect(k,K)},Ce.useId=function(){return re.H.useId()},Ce.useImperativeHandle=function(k,K,ae){return re.H.useImperativeHandle(k,K,ae)},Ce.useInsertionEffect=function(k,K){return re.H.useInsertionEffect(k,K)},Ce.useLayoutEffect=function(k,K){return re.H.useLayoutEffect(k,K)},Ce.useMemo=function(k,K){return re.H.useMemo(k,K)},Ce.useOptimistic=function(k,K){return re.H.useOptimistic(k,K)},Ce.useReducer=function(k,K,ae){return re.H.useReducer(k,K,ae)},Ce.useRef=function(k){return re.H.useRef(k)},Ce.useState=function(k){return re.H.useState(k)},Ce.useSyncExternalStore=function(k,K,ae){return re.H.useSyncExternalStore(k,K,ae)},Ce.useTransition=function(){return re.H.useTransition()},Ce.version="19.0.0",Ce}var I_;function _p(){return I_||(I_=1,pm.exports=NS()),pm.exports}var P=_p();const bn=LE(P);var gm={exports:{}},Ll={},ym={exports:{}},vm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C_;function OS(){return C_||(C_=1,function(i){function e(ne,ge){var me=ne.length;ne.push(ge);e:for(;0<me;){var De=me-1>>>1,k=ne[De];if(0<o(k,ge))ne[De]=ge,ne[me]=k,me=De;else break e}}function t(ne){return ne.length===0?null:ne[0]}function s(ne){if(ne.length===0)return null;var ge=ne[0],me=ne.pop();if(me!==ge){ne[0]=me;e:for(var De=0,k=ne.length,K=k>>>1;De<K;){var ae=2*(De+1)-1,oe=ne[ae],le=ae+1,we=ne[le];if(0>o(oe,me))le<k&&0>o(we,oe)?(ne[De]=we,ne[le]=me,De=le):(ne[De]=oe,ne[ae]=me,De=ae);else if(le<k&&0>o(we,me))ne[De]=we,ne[le]=me,De=le;else break e}}return ge}function o(ne,ge){var me=ne.sortIndex-ge.sortIndex;return me!==0?me:ne.id-ge.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,S=null,I=3,O=!1,U=!1,$=!1,B=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,ee=typeof setImmediate<"u"?setImmediate:null;function Q(ne){for(var ge=t(g);ge!==null;){if(ge.callback===null)s(g);else if(ge.startTime<=ne)s(g),ge.sortIndex=ge.expirationTime,e(p,ge);else break;ge=t(g)}}function ue(ne){if($=!1,Q(ne),!U)if(t(p)!==null)U=!0,Je();else{var ge=t(g);ge!==null&&de(ue,ge.startTime-ne)}}var re=!1,fe=-1,D=5,C=-1;function w(){return!(i.unstable_now()-C<D)}function A(){if(re){var ne=i.unstable_now();C=ne;var ge=!0;try{e:{U=!1,$&&($=!1,X(fe),fe=-1),O=!0;var me=I;try{t:{for(Q(ne),S=t(p);S!==null&&!(S.expirationTime>ne&&w());){var De=S.callback;if(typeof De=="function"){S.callback=null,I=S.priorityLevel;var k=De(S.expirationTime<=ne);if(ne=i.unstable_now(),typeof k=="function"){S.callback=k,Q(ne),ge=!0;break t}S===t(p)&&s(p),Q(ne)}else s(p);S=t(p)}if(S!==null)ge=!0;else{var K=t(g);K!==null&&de(ue,K.startTime-ne),ge=!1}}break e}finally{S=null,I=me,O=!1}ge=void 0}}finally{ge?M():re=!1}}}var M;if(typeof ee=="function")M=function(){ee(A)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,N=j.port2;j.port1.onmessage=A,M=function(){N.postMessage(null)}}else M=function(){B(A,0)};function Je(){re||(re=!0,M())}function de(ne,ge){fe=B(function(){ne(i.unstable_now())},ge)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(ne){ne.callback=null},i.unstable_continueExecution=function(){U||O||(U=!0,Je())},i.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<ne?Math.floor(1e3/ne):5},i.unstable_getCurrentPriorityLevel=function(){return I},i.unstable_getFirstCallbackNode=function(){return t(p)},i.unstable_next=function(ne){switch(I){case 1:case 2:case 3:var ge=3;break;default:ge=I}var me=I;I=ge;try{return ne()}finally{I=me}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(ne,ge){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var me=I;I=ne;try{return ge()}finally{I=me}},i.unstable_scheduleCallback=function(ne,ge,me){var De=i.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?De+me:De):me=De,ne){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=me+k,ne={id:E++,callback:ge,priorityLevel:ne,startTime:me,expirationTime:k,sortIndex:-1},me>De?(ne.sortIndex=me,e(g,ne),t(p)===null&&ne===t(g)&&($?(X(fe),fe=-1):$=!0,de(ue,me-De))):(ne.sortIndex=k,e(p,ne),U||O||(U=!0,Je())),ne},i.unstable_shouldYield=w,i.unstable_wrapCallback=function(ne){var ge=I;return function(){var me=I;I=ge;try{return ne.apply(this,arguments)}finally{I=me}}}}(vm)),vm}var x_;function DS(){return x_||(x_=1,ym.exports=OS()),ym.exports}var _m={exports:{}},Qt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N_;function MS(){if(N_)return Qt;N_=1;var i=_p();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:p,containerInfo:g,implementation:E}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Qt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Qt.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},Qt.flushSync=function(p){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=E,s.d.f()}},Qt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Qt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Qt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,S=m(E,g.crossOrigin),I=typeof g.integrity=="string"?g.integrity:void 0,O=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:S,integrity:I,fetchPriority:O}):E==="script"&&s.d.X(p,{crossOrigin:S,integrity:I,fetchPriority:O,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Qt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Qt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,S=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Qt.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Qt.requestFormReset=function(p){s.d.r(p)},Qt.unstable_batchedUpdates=function(p,g){return p(g)},Qt.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},Qt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Qt.version="19.0.0",Qt}var O_;function kS(){if(O_)return _m.exports;O_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),_m.exports=MS(),_m.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D_;function PS(){if(D_)return Ll;D_=1;var i=DS(),e=_p(),t=kS();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}var u=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),I=Symbol.for("react.consumer"),O=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),Q=Symbol.for("react.offscreen"),ue=Symbol.for("react.memo_cache_sentinel"),re=Symbol.iterator;function fe(n){return n===null||typeof n!="object"?null:(n=re&&n[re]||n["@@iterator"],typeof n=="function"?n:null)}var D=Symbol.for("react.client.reference");function C(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===D?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case p:return"Fragment";case m:return"Portal";case E:return"Profiler";case g:return"StrictMode";case $:return"Suspense";case B:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case O:return(n.displayName||"Context")+".Provider";case I:return(n._context.displayName||"Context")+".Consumer";case U:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case X:return r=n.displayName||null,r!==null?r:C(n.type)||"Memo";case ee:r=n._payload,n=n._init;try{return C(n(r))}catch{}}return null}var w=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,A=Object.assign,M,j;function N(n){if(M===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);M=r&&r[1]||"",j=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+M+n+j}var Je=!1;function de(n,r){if(!n||Je)return"";Je=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(Y){var F=Y}Reflect.construct(n,[],te)}else{try{te.call()}catch(Y){F=Y}n.call(te.prototype)}}else{try{throw Error()}catch(Y){F=Y}(te=n())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(Y){if(Y&&F&&typeof Y.stack=="string")return[Y.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var x=_.split(`
`),L=T.split(`
`);for(h=l=0;l<x.length&&!x[l].includes("DetermineComponentFrameRoot");)l++;for(;h<L.length&&!L[h].includes("DetermineComponentFrameRoot");)h++;if(l===x.length||h===L.length)for(l=x.length-1,h=L.length-1;1<=l&&0<=h&&x[l]!==L[h];)h--;for(;1<=l&&0<=h;l--,h--)if(x[l]!==L[h]){if(l!==1||h!==1)do if(l--,h--,0>h||x[l]!==L[h]){var W=`
`+x[l].replace(" at new "," at ");return n.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",n.displayName)),W}while(1<=l&&0<=h);break}}}finally{Je=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?N(a):""}function ne(n){switch(n.tag){case 26:case 27:case 5:return N(n.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 15:return n=de(n.type,!1),n;case 11:return n=de(n.type.render,!1),n;case 1:return n=de(n.type,!0),n;default:return""}}function ge(n){try{var r="";do r+=ne(n),n=n.return;while(n);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function me(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function De(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function k(n){if(me(n)!==n)throw Error(s(188))}function K(n){var r=n.alternate;if(!r){if(r=me(n),r===null)throw Error(s(188));return r!==n?null:n}for(var a=n,l=r;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return k(h),n;if(d===l)return k(h),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,l=d;break}if(T===l){_=!0,l=h,a=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===a){_=!0,a=d,l=h;break}if(T===l){_=!0,l=d,a=h;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:r}function ae(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=ae(n),r!==null)return r;n=n.sibling}return null}var oe=Array.isArray,le=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,we={pending:!1,data:null,method:null,action:null},Ie=[],pt=-1;function Be(n){return{current:n}}function st(n){0>pt||(n.current=Ie[pt],Ie[pt]=null,pt--)}function Ke(n,r){pt++,Ie[pt]=n.current,n.current=r}var Jt=Be(null),xi=Be(null),An=Be(null),dr=Be(null);function mr(n,r){switch(Ke(An,r),Ke(xi,n),Ke(Jt,null),n=r.nodeType,n){case 9:case 11:r=(r=r.documentElement)&&(r=r.namespaceURI)?Jv(r):0;break;default:if(n=n===8?r.parentNode:r,r=n.tagName,n=n.namespaceURI)n=Jv(n),r=e_(n,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}st(Jt),Ke(Jt,r)}function Ni(){st(Jt),st(xi),st(An)}function Oo(n){n.memoizedState!==null&&Ke(dr,n);var r=Jt.current,a=e_(r,n.type);r!==a&&(Ke(xi,n),Ke(Jt,a))}function ha(n){xi.current===n&&(st(Jt),st(xi)),dr.current===n&&(st(dr),Ol._currentValue=we)}var fa=Object.prototype.hasOwnProperty,ps=i.unstable_scheduleCallback,da=i.unstable_cancelCallback,gf=i.unstable_shouldYield,Do=i.unstable_requestPaint,on=i.unstable_now,wu=i.unstable_getCurrentPriorityLevel,Et=i.unstable_ImmediatePriority,xt=i.unstable_UserBlockingPriority,Oi=i.unstable_NormalPriority,Su=i.unstable_LowPriority,Mo=i.unstable_IdlePriority,yf=i.log,gs=i.unstable_setDisableYieldValue,pr=null,$t=null;function ko(n){if($t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(pr,n,void 0,(n.current.flags&128)===128)}catch{}}function ti(n){if(typeof yf=="function"&&gs(n),$t&&typeof $t.setStrictMode=="function")try{$t.setStrictMode(pr,n)}catch{}}var en=Math.clz32?Math.clz32:Ru,Po=Math.log,Au=Math.LN2;function Ru(n){return n>>>=0,n===0?32:31-(Po(n)/Au|0)|0}var ni=128,gr=4194304;function Fn(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Rn(n,r){var a=n.pendingLanes;if(a===0)return 0;var l=0,h=n.suspendedLanes,d=n.pingedLanes,_=n.warmLanes;n=n.finishedLanes!==0;var T=a&134217727;return T!==0?(a=T&~h,a!==0?l=Fn(a):(d&=T,d!==0?l=Fn(d):n||(_=T&~_,_!==0&&(l=Fn(_))))):(T=a&~h,T!==0?l=Fn(T):d!==0?l=Fn(d):n||(_=a&~_,_!==0&&(l=Fn(_)))),l===0?0:r!==0&&r!==l&&(r&h)===0&&(h=l&-l,_=r&-r,h>=_||h===32&&(_&4194176)!==0)?r:l}function yr(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function ma(n,r){switch(n){case 1:case 2:case 4:case 8:return r+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vo(){var n=ni;return ni<<=1,(ni&4194176)===0&&(ni=128),n}function vr(){var n=gr;return gr<<=1,(gr&62914560)===0&&(gr=4194304),n}function pa(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function ft(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Iu(n,r,a,l,h,d){var _=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var T=n.entanglements,x=n.expirationTimes,L=n.hiddenUpdates;for(a=_&~a;0<a;){var W=31-en(a),te=1<<W;T[W]=0,x[W]=-1;var F=L[W];if(F!==null)for(L[W]=null,W=0;W<F.length;W++){var Y=F[W];Y!==null&&(Y.lane&=-536870913)}a&=~te}l!==0&&_r(n,l,0),d!==0&&h===0&&n.tag!==0&&(n.suspendedLanes|=d&~(_&~r))}function _r(n,r,a){n.pendingLanes|=r,n.suspendedLanes&=~r;var l=31-en(r);n.entangledLanes|=r,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194218}function Er(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var l=31-en(a),h=1<<l;h&r|n[l]&r&&(n[l]|=r),a&=~h}}function Cu(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function xu(){var n=le.p;return n!==0?n:(n=window.event,n===void 0?32:v_(n.type))}function Tr(n,r){var a=le.p;try{return le.p=n,r()}finally{le.p=a}}var ii=Math.random().toString(36).slice(2),Nt="__reactFiber$"+ii,Tt="__reactProps$"+ii,Di="__reactContainer$"+ii,ys="__reactEvents$"+ii,ga="__reactListeners$"+ii,ri="__reactHandles$"+ii,Lo="__reactResources$"+ii,br="__reactMarker$"+ii;function vs(n){delete n[Nt],delete n[Tt],delete n[ys],delete n[ga],delete n[ri]}function Gn(n){var r=n[Nt];if(r)return r;for(var a=n.parentNode;a;){if(r=a[Di]||a[Nt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=i_(n);n!==null;){if(a=n[Nt])return a;n=i_(n)}return r}n=a,a=n.parentNode}return null}function Mi(n){if(n=n[Nt]||n[Di]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function wr(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function Sr(n){var r=n[Lo];return r||(r=n[Lo]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function et(n){n[br]=!0}var Uo=new Set,ya={};function hn(n,r){ln(n,r),ln(n+"Capture",r)}function ln(n,r){for(ya[n]=r,n=0;n<r.length;n++)Uo.add(r[n])}var fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jo={},zo={};function Nu(n){return fa.call(zo,n)?!0:fa.call(jo,n)?!1:vf.test(n)?zo[n]=!0:(jo[n]=!0,!1)}function Ar(n,r,a){if(Nu(r))if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+a)}}function Rr(n,r,a){if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+a)}}function In(n,r,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(r,a,""+l)}}function tn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Ou(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function _f(n){var r=Ou(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),l=""+n[r];if(!n.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return h.call(this)},set:function(_){l=""+_,d.call(this,_)}}),Object.defineProperty(n,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function _s(n){n._valueTracker||(n._valueTracker=_f(n))}function Bo(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return n&&(l=Ou(n)?n.checked?"true":"false":n.value),n=l,n!==a?(r.setValue(n),!0):!1}function va(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var ki=/[\n"\\]/g;function at(n){return n.replace(ki,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ir(n,r,a,l,h,d,_,T){n.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?n.type=_:n.removeAttribute("type"),r!=null?_==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+tn(r)):n.value!==""+tn(r)&&(n.value=""+tn(r)):_!=="submit"&&_!=="reset"||n.removeAttribute("value"),r!=null?_a(n,_,tn(r)):a!=null?_a(n,_,tn(a)):l!=null&&n.removeAttribute("value"),h==null&&d!=null&&(n.defaultChecked=!!d),h!=null&&(n.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.name=""+tn(T):n.removeAttribute("name")}function Es(n,r,a,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+tn(a):"",r=r!=null?""+tn(r):a,T||r===n.value||(n.value=r),n.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=T?n.checked:!!l,n.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(n.name=_)}function _a(n,r,a){r==="number"&&va(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function He(n,r,a,l){if(n=n.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<n.length;a++)h=r.hasOwnProperty("$"+n[a].value),n[a].selected!==h&&(n[a].selected=h),h&&l&&(n[a].defaultSelected=!0)}else{for(a=""+tn(a),r=null,h=0;h<n.length;h++){if(n[h].value===a){n[h].selected=!0,l&&(n[h].defaultSelected=!0);return}r!==null||n[h].disabled||(r=n[h])}r!==null&&(r.selected=!0)}}function Ts(n,r,a){if(r!=null&&(r=""+tn(r),r!==n.value&&(n.value=r),a==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=a!=null?""+tn(a):""}function Cr(n,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(oe(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=tn(r),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function Cn(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var Ef=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ho(n,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":l?n.setProperty(r,a):typeof a!="number"||a===0||Ef.has(r)?r==="float"?n.cssFloat=a:n[r]=(""+a).trim():n[r]=a+"px"}function Du(n,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&Ho(n,h,l)}else for(var d in r)r.hasOwnProperty(d)&&Ho(n,d,r[d])}function qo(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),bf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function si(n){return bf.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var xn=null;function Ea(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Pi=null,Vi=null;function Li(n){var r=Mi(n);if(r&&(n=r.stateNode)){var a=n[Tt]||null;e:switch(n=r.stateNode,r.type){case"input":if(Ir(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+at(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==n&&l.form===n.form){var h=l[Tt]||null;if(!h)throw Error(s(90));Ir(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===n.form&&Bo(l)}break e;case"textarea":Ts(n,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&He(n,!!a.multiple,r,!1)}}}var Fo=!1;function Mu(n,r,a){if(Fo)return n(r,a);Fo=!0;try{var l=n(r);return l}finally{if(Fo=!1,(Pi!==null||Vi!==null)&&(Sc(),Pi&&(r=Pi,n=Vi,Vi=Pi=null,Li(r),n)))for(r=0;r<n.length;r++)Li(n[r])}}function bs(n,r){var a=n.stateNode;if(a===null)return null;var l=a[Tt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Nn=!1;if(fn)try{var ws={};Object.defineProperty(ws,"passive",{get:function(){Nn=!0}}),window.addEventListener("test",ws,ws),window.removeEventListener("test",ws,ws)}catch{Nn=!1}var ai=null,xr=null,Ui=null;function Go(){if(Ui)return Ui;var n,r=xr,a=r.length,l,h="value"in ai?ai.value:ai.textContent,d=h.length;for(n=0;n<a&&r[n]===h[n];n++);var _=a-n;for(l=1;l<=_&&r[a-l]===h[d-l];l++);return Ui=h.slice(n,1<l?1-l:void 0)}function oi(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function li(){return!0}function $o(){return!1}function Ot(n){function r(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in n)n.hasOwnProperty(T)&&(a=n[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?li:$o,this.isPropagationStopped=$o,this}return A(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=li)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=li)},persist:function(){},isPersistent:li}),r}var Ge={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ta=Ot(Ge),Ss=A({},Ge,{view:0,detail:0}),ku=Ot(Ss),ba,wa,ui,As=A({},Ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cs,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ui&&(ui&&n.type==="mousemove"?(ba=n.screenX-ui.screenX,wa=n.screenY-ui.screenY):wa=ba=0,ui=n),ba)},movementY:function(n){return"movementY"in n?n.movementY:wa}}),On=Ot(As),Pu=A({},As,{dataTransfer:0}),wf=Ot(Pu),Rs=A({},Ss,{relatedTarget:0}),Sa=Ot(Rs),Ko=A({},Ge,{animationName:0,elapsedTime:0,pseudoElement:0}),Aa=Ot(Ko),Vu=A({},Ge,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Ra=Ot(Vu),Sf=A({},Ge,{data:0}),Qo=Ot(Sf),Is={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yo(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=Uu[n])?!!r[n]:!1}function Cs(){return Yo}var ju=A({},Ss,{key:function(n){if(n.key){var r=Is[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=oi(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Lu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cs,charCode:function(n){return n.type==="keypress"?oi(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?oi(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Ia=Ot(ju),zu=A({},As,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xo=Ot(zu),ji=A({},Ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cs}),Bu=Ot(ji),Hu=A({},Ge,{propertyName:0,elapsedTime:0,pseudoElement:0}),qu=Ot(Hu),Fu=A({},As,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Ca=Ot(Fu),nn=A({},Ge,{newState:0,oldState:0}),Gu=Ot(nn),$u=[9,13,27,32],ci=fn&&"CompositionEvent"in window,c=null;fn&&"documentMode"in document&&(c=document.documentMode);var y=fn&&"TextEvent"in window&&!c,v=fn&&(!ci||c&&8<c&&11>=c),b=" ",H=!1;function G(n,r){switch(n){case"keyup":return $u.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function se(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Le=!1;function bt(n,r){switch(n){case"compositionend":return se(r);case"keypress":return r.which!==32?null:(H=!0,b);case"textInput":return n=r.data,n===b&&H?null:n;default:return null}}function Ue(n,r){if(Le)return n==="compositionend"||!ci&&G(n,r)?(n=Go(),Ui=xr=ai=null,Le=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return v&&r.locale!=="ko"?null:r.data;default:return null}}var Dt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wt(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!Dt[n.type]:r==="textarea"}function zi(n,r,a,l){Pi?Vi?Vi.push(l):Vi=[l]:Pi=l,r=xc(r,"onChange"),0<r.length&&(a=new Ta("onChange","change",null,a,l),n.push({event:a,listeners:r}))}var Ut=null,hi=null;function Wo(n){Qv(n,0)}function Ku(n){var r=wr(n);if(Bo(r))return n}function wg(n,r){if(n==="change")return r}var Sg=!1;if(fn){var Af;if(fn){var Rf="oninput"in document;if(!Rf){var Ag=document.createElement("div");Ag.setAttribute("oninput","return;"),Rf=typeof Ag.oninput=="function"}Af=Rf}else Af=!1;Sg=Af&&(!document.documentMode||9<document.documentMode)}function Rg(){Ut&&(Ut.detachEvent("onpropertychange",Ig),hi=Ut=null)}function Ig(n){if(n.propertyName==="value"&&Ku(hi)){var r=[];zi(r,hi,n,Ea(n)),Mu(Wo,r)}}function rw(n,r,a){n==="focusin"?(Rg(),Ut=r,hi=a,Ut.attachEvent("onpropertychange",Ig)):n==="focusout"&&Rg()}function sw(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Ku(hi)}function aw(n,r){if(n==="click")return Ku(r)}function ow(n,r){if(n==="input"||n==="change")return Ku(r)}function lw(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var dn=typeof Object.is=="function"?Object.is:lw;function Zo(n,r){if(dn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!fa.call(r,h)||!dn(n[h],r[h]))return!1}return!0}function Cg(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function xg(n,r){var a=Cg(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=r&&l>=r)return{node:a,offset:r-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Cg(a)}}function Ng(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?Ng(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function Og(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=va(n.document);r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=va(n.document)}return r}function If(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}function uw(n,r){var a=Og(r);r=n.focusedElem;var l=n.selectionRange;if(a!==r&&r&&r.ownerDocument&&Ng(r.ownerDocument.documentElement,r)){if(l!==null&&If(r)){if(n=l.start,a=l.end,a===void 0&&(a=n),"selectionStart"in r)r.selectionStart=n,r.selectionEnd=Math.min(a,r.value.length);else if(a=(n=r.ownerDocument||document)&&n.defaultView||window,a.getSelection){a=a.getSelection();var h=r.textContent.length,d=Math.min(l.start,h);l=l.end===void 0?d:Math.min(l.end,h),!a.extend&&d>l&&(h=l,l=d,d=h),h=xg(r,d);var _=xg(r,l);h&&_&&(a.rangeCount!==1||a.anchorNode!==h.node||a.anchorOffset!==h.offset||a.focusNode!==_.node||a.focusOffset!==_.offset)&&(n=n.createRange(),n.setStart(h.node,h.offset),a.removeAllRanges(),d>l?(a.addRange(n),a.extend(_.node,_.offset)):(n.setEnd(_.node,_.offset),a.addRange(n)))}}for(n=[],a=r;a=a.parentNode;)a.nodeType===1&&n.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<n.length;r++)a=n[r],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var cw=fn&&"documentMode"in document&&11>=document.documentMode,xa=null,Cf=null,Jo=null,xf=!1;function Dg(n,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;xf||xa==null||xa!==va(l)||(l=xa,"selectionStart"in l&&If(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Jo&&Zo(Jo,l)||(Jo=l,l=xc(Cf,"onSelect"),0<l.length&&(r=new Ta("onSelect","select",null,r,a),n.push({event:r,listeners:l}),r.target=xa)))}function xs(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var Na={animationend:xs("Animation","AnimationEnd"),animationiteration:xs("Animation","AnimationIteration"),animationstart:xs("Animation","AnimationStart"),transitionrun:xs("Transition","TransitionRun"),transitionstart:xs("Transition","TransitionStart"),transitioncancel:xs("Transition","TransitionCancel"),transitionend:xs("Transition","TransitionEnd")},Nf={},Mg={};fn&&(Mg=document.createElement("div").style,"AnimationEvent"in window||(delete Na.animationend.animation,delete Na.animationiteration.animation,delete Na.animationstart.animation),"TransitionEvent"in window||delete Na.transitionend.transition);function Ns(n){if(Nf[n])return Nf[n];if(!Na[n])return n;var r=Na[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in Mg)return Nf[n]=r[a];return n}var kg=Ns("animationend"),Pg=Ns("animationiteration"),Vg=Ns("animationstart"),hw=Ns("transitionrun"),fw=Ns("transitionstart"),dw=Ns("transitioncancel"),Lg=Ns("transitionend"),Ug=new Map,jg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function $n(n,r){Ug.set(n,r),hn(r,[n])}var Dn=[],Oa=0,Of=0;function Qu(){for(var n=Oa,r=Of=Oa=0;r<n;){var a=Dn[r];Dn[r++]=null;var l=Dn[r];Dn[r++]=null;var h=Dn[r];Dn[r++]=null;var d=Dn[r];if(Dn[r++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&zg(a,h,d)}}function Yu(n,r,a,l){Dn[Oa++]=n,Dn[Oa++]=r,Dn[Oa++]=a,Dn[Oa++]=l,Of|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function Df(n,r,a,l){return Yu(n,r,a,l),Xu(n)}function Nr(n,r){return Yu(n,null,null,r),Xu(n)}function zg(n,r,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=n.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(h=!0)),n=d,d=d.return;h&&r!==null&&n.tag===3&&(d=n.stateNode,h=31-en(a),d=d.hiddenUpdates,n=d[h],n===null?d[h]=[r]:n.push(r),r.lane=a|536870912)}function Xu(n){if(50<Sl)throw Sl=0,Ud=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var Da={},Bg=new WeakMap;function Mn(n,r){if(typeof n=="object"&&n!==null){var a=Bg.get(n);return a!==void 0?a:(r={value:n,source:r,stack:ge(r)},Bg.set(n,r),r)}return{value:n,source:r,stack:ge(r)}}var Ma=[],ka=0,Wu=null,Zu=0,kn=[],Pn=0,Os=null,Bi=1,Hi="";function Ds(n,r){Ma[ka++]=Zu,Ma[ka++]=Wu,Wu=n,Zu=r}function Hg(n,r,a){kn[Pn++]=Bi,kn[Pn++]=Hi,kn[Pn++]=Os,Os=n;var l=Bi;n=Hi;var h=32-en(l)-1;l&=~(1<<h),a+=1;var d=32-en(r)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Bi=1<<32-en(r)+h|a<<h|l,Hi=d+n}else Bi=1<<d|a<<h|l,Hi=n}function Mf(n){n.return!==null&&(Ds(n,1),Hg(n,1,0))}function kf(n){for(;n===Wu;)Wu=Ma[--ka],Ma[ka]=null,Zu=Ma[--ka],Ma[ka]=null;for(;n===Os;)Os=kn[--Pn],kn[Pn]=null,Hi=kn[--Pn],kn[Pn]=null,Bi=kn[--Pn],kn[Pn]=null}var rn=null,jt=null,qe=!1,Kn=null,fi=!1,Pf=Error(s(519));function Ms(n){var r=Error(s(418,""));throw nl(Mn(r,n)),Pf}function qg(n){var r=n.stateNode,a=n.type,l=n.memoizedProps;switch(r[Nt]=n,r[Tt]=l,a){case"dialog":Pe("cancel",r),Pe("close",r);break;case"iframe":case"object":case"embed":Pe("load",r);break;case"video":case"audio":for(a=0;a<Rl.length;a++)Pe(Rl[a],r);break;case"source":Pe("error",r);break;case"img":case"image":case"link":Pe("error",r),Pe("load",r);break;case"details":Pe("toggle",r);break;case"input":Pe("invalid",r),Es(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),_s(r);break;case"select":Pe("invalid",r);break;case"textarea":Pe("invalid",r),Cr(r,l.value,l.defaultValue,l.children),_s(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||Zv(r.textContent,a)?(l.popover!=null&&(Pe("beforetoggle",r),Pe("toggle",r)),l.onScroll!=null&&Pe("scroll",r),l.onScrollEnd!=null&&Pe("scrollend",r),l.onClick!=null&&(r.onclick=Nc),r=!0):r=!1,r||Ms(n)}function Fg(n){for(rn=n.return;rn;)switch(rn.tag){case 3:case 27:fi=!0;return;case 5:case 13:fi=!1;return;default:rn=rn.return}}function el(n){if(n!==rn)return!1;if(!qe)return Fg(n),qe=!0,!1;var r=!1,a;if((a=n.tag!==3&&n.tag!==27)&&((a=n.tag===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||tm(n.type,n.memoizedProps)),a=!a),a&&(r=!0),r&&jt&&Ms(n),Fg(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(r===0){jt=Yn(n.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;n=n.nextSibling}jt=null}}else jt=rn?Yn(n.stateNode.nextSibling):null;return!0}function tl(){jt=rn=null,qe=!1}function nl(n){Kn===null?Kn=[n]:Kn.push(n)}var il=Error(s(460)),Gg=Error(s(474)),Vf={then:function(){}};function $g(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Ju(){}function Kg(n,r,a){switch(a=n[a],a===void 0?n.push(r):a!==r&&(r.then(Ju,Ju),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,n===il?Error(s(483)):n;default:if(typeof r.status=="string")r.then(Ju,Ju);else{if(n=We,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,n===il?Error(s(483)):n}throw rl=r,il}}var rl=null;function Qg(){if(rl===null)throw Error(s(459));var n=rl;return rl=null,n}var Pa=null,sl=0;function ec(n){var r=sl;return sl+=1,Pa===null&&(Pa=[]),Kg(Pa,n,r)}function al(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function tc(n,r){throw r.$$typeof===u?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function Yg(n){var r=n._init;return r(n._payload)}function Xg(n){function r(z,V){if(n){var q=z.deletions;q===null?(z.deletions=[V],z.flags|=16):q.push(V)}}function a(z,V){if(!n)return null;for(;V!==null;)r(z,V),V=V.sibling;return null}function l(z){for(var V=new Map;z!==null;)z.key!==null?V.set(z.key,z):V.set(z.index,z),z=z.sibling;return V}function h(z,V){return z=Hr(z,V),z.index=0,z.sibling=null,z}function d(z,V,q){return z.index=q,n?(q=z.alternate,q!==null?(q=q.index,q<V?(z.flags|=33554434,V):q):(z.flags|=33554434,V)):(z.flags|=1048576,V)}function _(z){return n&&z.alternate===null&&(z.flags|=33554434),z}function T(z,V,q,Z){return V===null||V.tag!==6?(V=Nd(q,z.mode,Z),V.return=z,V):(V=h(V,q),V.return=z,V)}function x(z,V,q,Z){var he=q.type;return he===p?W(z,V,q.props.children,Z,q.key):V!==null&&(V.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===ee&&Yg(he)===V.type)?(V=h(V,q.props),al(V,q),V.return=z,V):(V=_c(q.type,q.key,q.props,null,z.mode,Z),al(V,q),V.return=z,V)}function L(z,V,q,Z){return V===null||V.tag!==4||V.stateNode.containerInfo!==q.containerInfo||V.stateNode.implementation!==q.implementation?(V=Od(q,z.mode,Z),V.return=z,V):(V=h(V,q.children||[]),V.return=z,V)}function W(z,V,q,Z,he){return V===null||V.tag!==7?(V=qs(q,z.mode,Z,he),V.return=z,V):(V=h(V,q),V.return=z,V)}function te(z,V,q){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Nd(""+V,z.mode,q),V.return=z,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case f:return q=_c(V.type,V.key,V.props,null,z.mode,q),al(q,V),q.return=z,q;case m:return V=Od(V,z.mode,q),V.return=z,V;case ee:var Z=V._init;return V=Z(V._payload),te(z,V,q)}if(oe(V)||fe(V))return V=qs(V,z.mode,q,null),V.return=z,V;if(typeof V.then=="function")return te(z,ec(V),q);if(V.$$typeof===O)return te(z,gc(z,V),q);tc(z,V)}return null}function F(z,V,q,Z){var he=V!==null?V.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return he!==null?null:T(z,V,""+q,Z);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case f:return q.key===he?x(z,V,q,Z):null;case m:return q.key===he?L(z,V,q,Z):null;case ee:return he=q._init,q=he(q._payload),F(z,V,q,Z)}if(oe(q)||fe(q))return he!==null?null:W(z,V,q,Z,null);if(typeof q.then=="function")return F(z,V,ec(q),Z);if(q.$$typeof===O)return F(z,V,gc(z,q),Z);tc(z,q)}return null}function Y(z,V,q,Z,he){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return z=z.get(q)||null,T(V,z,""+Z,he);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case f:return z=z.get(Z.key===null?q:Z.key)||null,x(V,z,Z,he);case m:return z=z.get(Z.key===null?q:Z.key)||null,L(V,z,Z,he);case ee:var Ne=Z._init;return Z=Ne(Z._payload),Y(z,V,q,Z,he)}if(oe(Z)||fe(Z))return z=z.get(q)||null,W(V,z,Z,he,null);if(typeof Z.then=="function")return Y(z,V,q,ec(Z),he);if(Z.$$typeof===O)return Y(z,V,q,gc(V,Z),he);tc(V,Z)}return null}function pe(z,V,q,Z){for(var he=null,Ne=null,ye=V,Te=V=0,Pt=null;ye!==null&&Te<q.length;Te++){ye.index>Te?(Pt=ye,ye=null):Pt=ye.sibling;var Fe=F(z,ye,q[Te],Z);if(Fe===null){ye===null&&(ye=Pt);break}n&&ye&&Fe.alternate===null&&r(z,ye),V=d(Fe,V,Te),Ne===null?he=Fe:Ne.sibling=Fe,Ne=Fe,ye=Pt}if(Te===q.length)return a(z,ye),qe&&Ds(z,Te),he;if(ye===null){for(;Te<q.length;Te++)ye=te(z,q[Te],Z),ye!==null&&(V=d(ye,V,Te),Ne===null?he=ye:Ne.sibling=ye,Ne=ye);return qe&&Ds(z,Te),he}for(ye=l(ye);Te<q.length;Te++)Pt=Y(ye,z,Te,q[Te],Z),Pt!==null&&(n&&Pt.alternate!==null&&ye.delete(Pt.key===null?Te:Pt.key),V=d(Pt,V,Te),Ne===null?he=Pt:Ne.sibling=Pt,Ne=Pt);return n&&ye.forEach(function(Yr){return r(z,Yr)}),qe&&Ds(z,Te),he}function Ae(z,V,q,Z){if(q==null)throw Error(s(151));for(var he=null,Ne=null,ye=V,Te=V=0,Pt=null,Fe=q.next();ye!==null&&!Fe.done;Te++,Fe=q.next()){ye.index>Te?(Pt=ye,ye=null):Pt=ye.sibling;var Yr=F(z,ye,Fe.value,Z);if(Yr===null){ye===null&&(ye=Pt);break}n&&ye&&Yr.alternate===null&&r(z,ye),V=d(Yr,V,Te),Ne===null?he=Yr:Ne.sibling=Yr,Ne=Yr,ye=Pt}if(Fe.done)return a(z,ye),qe&&Ds(z,Te),he;if(ye===null){for(;!Fe.done;Te++,Fe=q.next())Fe=te(z,Fe.value,Z),Fe!==null&&(V=d(Fe,V,Te),Ne===null?he=Fe:Ne.sibling=Fe,Ne=Fe);return qe&&Ds(z,Te),he}for(ye=l(ye);!Fe.done;Te++,Fe=q.next())Fe=Y(ye,z,Te,Fe.value,Z),Fe!==null&&(n&&Fe.alternate!==null&&ye.delete(Fe.key===null?Te:Fe.key),V=d(Fe,V,Te),Ne===null?he=Fe:Ne.sibling=Fe,Ne=Fe);return n&&ye.forEach(function(IS){return r(z,IS)}),qe&&Ds(z,Te),he}function ut(z,V,q,Z){if(typeof q=="object"&&q!==null&&q.type===p&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case f:e:{for(var he=q.key;V!==null;){if(V.key===he){if(he=q.type,he===p){if(V.tag===7){a(z,V.sibling),Z=h(V,q.props.children),Z.return=z,z=Z;break e}}else if(V.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===ee&&Yg(he)===V.type){a(z,V.sibling),Z=h(V,q.props),al(Z,q),Z.return=z,z=Z;break e}a(z,V);break}else r(z,V);V=V.sibling}q.type===p?(Z=qs(q.props.children,z.mode,Z,q.key),Z.return=z,z=Z):(Z=_c(q.type,q.key,q.props,null,z.mode,Z),al(Z,q),Z.return=z,z=Z)}return _(z);case m:e:{for(he=q.key;V!==null;){if(V.key===he)if(V.tag===4&&V.stateNode.containerInfo===q.containerInfo&&V.stateNode.implementation===q.implementation){a(z,V.sibling),Z=h(V,q.children||[]),Z.return=z,z=Z;break e}else{a(z,V);break}else r(z,V);V=V.sibling}Z=Od(q,z.mode,Z),Z.return=z,z=Z}return _(z);case ee:return he=q._init,q=he(q._payload),ut(z,V,q,Z)}if(oe(q))return pe(z,V,q,Z);if(fe(q)){if(he=fe(q),typeof he!="function")throw Error(s(150));return q=he.call(q),Ae(z,V,q,Z)}if(typeof q.then=="function")return ut(z,V,ec(q),Z);if(q.$$typeof===O)return ut(z,V,gc(z,q),Z);tc(z,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,V!==null&&V.tag===6?(a(z,V.sibling),Z=h(V,q),Z.return=z,z=Z):(a(z,V),Z=Nd(q,z.mode,Z),Z.return=z,z=Z),_(z)):a(z,V)}return function(z,V,q,Z){try{sl=0;var he=ut(z,V,q,Z);return Pa=null,he}catch(ye){if(ye===il)throw ye;var Ne=jn(29,ye,null,z.mode);return Ne.lanes=Z,Ne.return=z,Ne}finally{}}}var ks=Xg(!0),Wg=Xg(!1),Va=Be(null),nc=Be(0);function Zg(n,r){n=Ji,Ke(nc,n),Ke(Va,r),Ji=n|r.baseLanes}function Lf(){Ke(nc,Ji),Ke(Va,Va.current)}function Uf(){Ji=nc.current,st(Va),st(nc)}var Vn=Be(null),di=null;function Or(n){var r=n.alternate;Ke(St,St.current&1),Ke(Vn,n),di===null&&(r===null||Va.current!==null||r.memoizedState!==null)&&(di=n)}function Jg(n){if(n.tag===22){if(Ke(St,St.current),Ke(Vn,n),di===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(di=n)}}else Dr()}function Dr(){Ke(St,St.current),Ke(Vn,Vn.current)}function qi(n){st(Vn),di===n&&(di=null),st(St)}var St=Be(0);function ic(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var mw=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){r.aborted=!0,n.forEach(function(a){return a()})}},pw=i.unstable_scheduleCallback,gw=i.unstable_NormalPriority,At={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jf(){return{controller:new mw,data:new Map,refCount:0}}function ol(n){n.refCount--,n.refCount===0&&pw(gw,function(){n.controller.abort()})}var ll=null,zf=0,La=0,Ua=null;function yw(n,r){if(ll===null){var a=ll=[];zf=0,La=$d(),Ua={status:"pending",value:void 0,then:function(l){a.push(l)}}}return zf++,r.then(ey,ey),r}function ey(){if(--zf===0&&ll!==null){Ua!==null&&(Ua.status="fulfilled");var n=ll;ll=null,La=0,Ua=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function vw(n,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return n.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var ty=w.S;w.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&yw(n,r),ty!==null&&ty(n,r)};var Ps=Be(null);function Bf(){var n=Ps.current;return n!==null?n:We.pooledCache}function rc(n,r){r===null?Ke(Ps,Ps.current):Ke(Ps,r.pool)}function ny(){var n=Bf();return n===null?null:{parent:At._currentValue,pool:n}}var Mr=0,xe=null,Qe=null,gt=null,sc=!1,ja=!1,Vs=!1,ac=0,ul=0,za=null,_w=0;function dt(){throw Error(s(321))}function Hf(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!dn(n[a],r[a]))return!1;return!0}function qf(n,r,a,l,h,d){return Mr=d,xe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,w.H=n===null||n.memoizedState===null?Ls:kr,Vs=!1,d=a(l,h),Vs=!1,ja&&(d=ry(r,a,l,h)),iy(n),d}function iy(n){w.H=mi;var r=Qe!==null&&Qe.next!==null;if(Mr=0,gt=Qe=xe=null,sc=!1,ul=0,za=null,r)throw Error(s(300));n===null||Mt||(n=n.dependencies,n!==null&&pc(n)&&(Mt=!0))}function ry(n,r,a,l){xe=n;var h=0;do{if(ja&&(za=null),ul=0,ja=!1,25<=h)throw Error(s(301));if(h+=1,gt=Qe=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}w.H=Us,d=r(a,l)}while(ja);return d}function Ew(){var n=w.H,r=n.useState()[0];return r=typeof r.then=="function"?cl(r):r,n=n.useState()[0],(Qe!==null?Qe.memoizedState:null)!==n&&(xe.flags|=1024),r}function Ff(){var n=ac!==0;return ac=0,n}function Gf(n,r,a){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a}function $f(n){if(sc){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}sc=!1}Mr=0,gt=Qe=xe=null,ja=!1,ul=ac=0,za=null}function un(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?xe.memoizedState=gt=n:gt=gt.next=n,gt}function yt(){if(Qe===null){var n=xe.alternate;n=n!==null?n.memoizedState:null}else n=Qe.next;var r=gt===null?xe.memoizedState:gt.next;if(r!==null)gt=r,Qe=n;else{if(n===null)throw xe.alternate===null?Error(s(467)):Error(s(310));Qe=n,n={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},gt===null?xe.memoizedState=gt=n:gt=gt.next=n}return gt}var oc;oc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function cl(n){var r=ul;return ul+=1,za===null&&(za=[]),n=Kg(za,n,r),r=xe,(gt===null?r.memoizedState:gt.next)===null&&(r=r.alternate,w.H=r===null||r.memoizedState===null?Ls:kr),n}function lc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return cl(n);if(n.$$typeof===O)return Kt(n)}throw Error(s(438,String(n)))}function Kf(n){var r=null,a=xe.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=xe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=oc(),xe.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(n),l=0;l<n;l++)a[l]=ue;return r.index++,a}function Fi(n,r){return typeof r=="function"?r(n):r}function uc(n){var r=yt();return Qf(r,Qe,n)}function Qf(n,r,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=n.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}r.baseQueue=h=d,l.pending=null}if(d=n.baseState,h===null)n.memoizedState=d;else{r=h.next;var T=_=null,x=null,L=r,W=!1;do{var te=L.lane&-536870913;if(te!==L.lane?(je&te)===te:(Mr&te)===te){var F=L.revertLane;if(F===0)x!==null&&(x=x.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),te===La&&(W=!0);else if((Mr&F)===F){L=L.next,F===La&&(W=!0);continue}else te={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},x===null?(T=x=te,_=d):x=x.next=te,xe.lanes|=F,qr|=F;te=L.action,Vs&&a(d,te),d=L.hasEagerState?L.eagerState:a(d,te)}else F={lane:te,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},x===null?(T=x=F,_=d):x=x.next=F,xe.lanes|=te,qr|=te;L=L.next}while(L!==null&&L!==r);if(x===null?_=d:x.next=T,!dn(d,n.memoizedState)&&(Mt=!0,W&&(a=Ua,a!==null)))throw a;n.memoizedState=d,n.baseState=_,n.baseQueue=x,l.lastRenderedState=d}return h===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function Yf(n){var r=yt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,h=a.pending,d=r.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=n(d,_.action),_=_.next;while(_!==h);dn(d,r.memoizedState)||(Mt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function sy(n,r,a){var l=xe,h=yt(),d=qe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var _=!dn((Qe||h).memoizedState,a);if(_&&(h.memoizedState=a,Mt=!0),h=h.queue,Zf(ly.bind(null,l,h,n),[n]),h.getSnapshot!==r||_||gt!==null&&gt.memoizedState.tag&1){if(l.flags|=2048,Ba(9,oy.bind(null,l,h,a,r),{destroy:void 0},null),We===null)throw Error(s(349));d||(Mr&60)!==0||ay(l,r,a)}return a}function ay(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=xe.updateQueue,r===null?(r=oc(),xe.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function oy(n,r,a,l){r.value=a,r.getSnapshot=l,uy(r)&&cy(n)}function ly(n,r,a){return a(function(){uy(r)&&cy(n)})}function uy(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!dn(n,a)}catch{return!0}}function cy(n){var r=Nr(n,2);r!==null&&sn(r,n,2)}function Xf(n){var r=un();if(typeof n=="function"){var a=n;if(n=a(),Vs){ti(!0);try{a()}finally{ti(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:n},r}function hy(n,r,a,l){return n.baseState=a,Qf(n,Qe,typeof l=="function"?l:Fi)}function Tw(n,r,a,l,h){if(fc(n))throw Error(s(485));if(n=r.action,n!==null){var d={payload:h,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};w.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,fy(r,d)):(d.next=a.next,r.pending=a.next=d)}}function fy(n,r){var a=r.action,l=r.payload,h=n.state;if(r.isTransition){var d=w.T,_={};w.T=_;try{var T=a(h,l),x=w.S;x!==null&&x(_,T),dy(n,r,T)}catch(L){Wf(n,r,L)}finally{w.T=d}}else try{d=a(h,l),dy(n,r,d)}catch(L){Wf(n,r,L)}}function dy(n,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){my(n,r,l)},function(l){return Wf(n,r,l)}):my(n,r,a)}function my(n,r,a){r.status="fulfilled",r.value=a,py(r),n.state=a,r=n.pending,r!==null&&(a=r.next,a===r?n.pending=null:(a=a.next,r.next=a,fy(n,a)))}function Wf(n,r,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,py(r),r=r.next;while(r!==l)}n.action=null}function py(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function gy(n,r){return r}function yy(n,r){if(qe){var a=We.formState;if(a!==null){e:{var l=xe;if(qe){if(jt){t:{for(var h=jt,d=fi;h.nodeType!==8;){if(!d){h=null;break t}if(h=Yn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){jt=Yn(h.nextSibling),l=h.data==="F!";break e}}Ms(l)}l=!1}l&&(r=a[0])}}return a=un(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gy,lastRenderedState:r},a.queue=l,a=Py.bind(null,xe,l),l.dispatch=a,l=Xf(!1),d=id.bind(null,xe,!1,l.queue),l=un(),h={state:r,dispatch:null,action:n,pending:null},l.queue=h,a=Tw.bind(null,xe,h,d,a),h.dispatch=a,l.memoizedState=n,[r,a,!1]}function vy(n){var r=yt();return _y(r,Qe,n)}function _y(n,r,a){r=Qf(n,r,gy)[0],n=uc(Fi)[0],r=typeof r=="object"&&r!==null&&typeof r.then=="function"?cl(r):r;var l=yt(),h=l.queue,d=h.dispatch;return a!==l.memoizedState&&(xe.flags|=2048,Ba(9,bw.bind(null,h,a),{destroy:void 0},null)),[r,d,n]}function bw(n,r){n.action=r}function Ey(n){var r=yt(),a=Qe;if(a!==null)return _y(r,a,n);yt(),r=r.memoizedState,a=yt();var l=a.queue.dispatch;return a.memoizedState=n,[r,l,!1]}function Ba(n,r,a,l){return n={tag:n,create:r,inst:a,deps:l,next:null},r=xe.updateQueue,r===null&&(r=oc(),xe.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,r.lastEffect=n),n}function Ty(){return yt().memoizedState}function cc(n,r,a,l){var h=un();xe.flags|=n,h.memoizedState=Ba(1|r,a,{destroy:void 0},l===void 0?null:l)}function hc(n,r,a,l){var h=yt();l=l===void 0?null:l;var d=h.memoizedState.inst;Qe!==null&&l!==null&&Hf(l,Qe.memoizedState.deps)?h.memoizedState=Ba(r,a,d,l):(xe.flags|=n,h.memoizedState=Ba(1|r,a,d,l))}function by(n,r){cc(8390656,8,n,r)}function Zf(n,r){hc(2048,8,n,r)}function wy(n,r){return hc(4,2,n,r)}function Sy(n,r){return hc(4,4,n,r)}function Ay(n,r){if(typeof r=="function"){n=n();var a=r(n);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function Ry(n,r,a){a=a!=null?a.concat([n]):null,hc(4,4,Ay.bind(null,r,n),a)}function Jf(){}function Iy(n,r){var a=yt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Hf(r,l[1])?l[0]:(a.memoizedState=[n,r],n)}function Cy(n,r){var a=yt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Hf(r,l[1]))return l[0];if(l=n(),Vs){ti(!0);try{n()}finally{ti(!1)}}return a.memoizedState=[l,r],l}function ed(n,r,a){return a===void 0||(Mr&1073741824)!==0?n.memoizedState=r:(n.memoizedState=a,n=Nv(),xe.lanes|=n,qr|=n,a)}function xy(n,r,a,l){return dn(a,r)?a:Va.current!==null?(n=ed(n,a,l),dn(n,r)||(Mt=!0),n):(Mr&42)===0?(Mt=!0,n.memoizedState=a):(n=Nv(),xe.lanes|=n,qr|=n,r)}function Ny(n,r,a,l,h){var d=le.p;le.p=d!==0&&8>d?d:8;var _=w.T,T={};w.T=T,id(n,!1,r,a);try{var x=h(),L=w.S;if(L!==null&&L(T,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var W=vw(x,l);hl(n,r,W,yn(n))}else hl(n,r,l,yn(n))}catch(te){hl(n,r,{then:function(){},status:"rejected",reason:te},yn())}finally{le.p=d,w.T=_}}function ww(){}function td(n,r,a,l){if(n.tag!==5)throw Error(s(476));var h=Oy(n).queue;Ny(n,h,r,we,a===null?ww:function(){return Dy(n),a(l)})}function Oy(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:we,baseState:we,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:we},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:a},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function Dy(n){var r=Oy(n).next.queue;hl(n,r,{},yn())}function nd(){return Kt(Ol)}function My(){return yt().memoizedState}function ky(){return yt().memoizedState}function Sw(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var a=yn();n=Lr(a);var l=Ur(r,n,a);l!==null&&(sn(l,r,a),ml(l,r,a)),r={cache:jf()},n.payload=r;return}r=r.return}}function Aw(n,r,a){var l=yn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},fc(n)?Vy(r,a):(a=Df(n,r,a,l),a!==null&&(sn(a,n,l),Ly(a,r,l)))}function Py(n,r,a){var l=yn();hl(n,r,a,l)}function hl(n,r,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(fc(n))Vy(r,h);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var _=r.lastRenderedState,T=d(_,a);if(h.hasEagerState=!0,h.eagerState=T,dn(T,_))return Yu(n,r,h,0),We===null&&Qu(),!1}catch{}finally{}if(a=Df(n,r,h,l),a!==null)return sn(a,n,l),Ly(a,r,l),!0}return!1}function id(n,r,a,l){if(l={lane:2,revertLane:$d(),action:l,hasEagerState:!1,eagerState:null,next:null},fc(n)){if(r)throw Error(s(479))}else r=Df(n,a,l,2),r!==null&&sn(r,n,2)}function fc(n){var r=n.alternate;return n===xe||r!==null&&r===xe}function Vy(n,r){ja=sc=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function Ly(n,r,a){if((a&4194176)!==0){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,Er(n,a)}}var mi={readContext:Kt,use:lc,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt};mi.useCacheRefresh=dt,mi.useMemoCache=dt,mi.useHostTransitionStatus=dt,mi.useFormState=dt,mi.useActionState=dt,mi.useOptimistic=dt;var Ls={readContext:Kt,use:lc,useCallback:function(n,r){return un().memoizedState=[n,r===void 0?null:r],n},useContext:Kt,useEffect:by,useImperativeHandle:function(n,r,a){a=a!=null?a.concat([n]):null,cc(4194308,4,Ay.bind(null,r,n),a)},useLayoutEffect:function(n,r){return cc(4194308,4,n,r)},useInsertionEffect:function(n,r){cc(4,2,n,r)},useMemo:function(n,r){var a=un();r=r===void 0?null:r;var l=n();if(Vs){ti(!0);try{n()}finally{ti(!1)}}return a.memoizedState=[l,r],l},useReducer:function(n,r,a){var l=un();if(a!==void 0){var h=a(r);if(Vs){ti(!0);try{a(r)}finally{ti(!1)}}}else h=r;return l.memoizedState=l.baseState=h,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:h},l.queue=n,n=n.dispatch=Aw.bind(null,xe,n),[l.memoizedState,n]},useRef:function(n){var r=un();return n={current:n},r.memoizedState=n},useState:function(n){n=Xf(n);var r=n.queue,a=Py.bind(null,xe,r);return r.dispatch=a,[n.memoizedState,a]},useDebugValue:Jf,useDeferredValue:function(n,r){var a=un();return ed(a,n,r)},useTransition:function(){var n=Xf(!1);return n=Ny.bind(null,xe,n.queue,!0,!1),un().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,a){var l=xe,h=un();if(qe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),We===null)throw Error(s(349));(je&60)!==0||ay(l,r,a)}h.memoizedState=a;var d={value:a,getSnapshot:r};return h.queue=d,by(ly.bind(null,l,d,n),[n]),l.flags|=2048,Ba(9,oy.bind(null,l,d,a,r),{destroy:void 0},null),a},useId:function(){var n=un(),r=We.identifierPrefix;if(qe){var a=Hi,l=Bi;a=(l&~(1<<32-en(l)-1)).toString(32)+a,r=":"+r+"R"+a,a=ac++,0<a&&(r+="H"+a.toString(32)),r+=":"}else a=_w++,r=":"+r+"r"+a.toString(32)+":";return n.memoizedState=r},useCacheRefresh:function(){return un().memoizedState=Sw.bind(null,xe)}};Ls.useMemoCache=Kf,Ls.useHostTransitionStatus=nd,Ls.useFormState=yy,Ls.useActionState=yy,Ls.useOptimistic=function(n){var r=un();r.memoizedState=r.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=id.bind(null,xe,!0,a),a.dispatch=r,[n,r]};var kr={readContext:Kt,use:lc,useCallback:Iy,useContext:Kt,useEffect:Zf,useImperativeHandle:Ry,useInsertionEffect:wy,useLayoutEffect:Sy,useMemo:Cy,useReducer:uc,useRef:Ty,useState:function(){return uc(Fi)},useDebugValue:Jf,useDeferredValue:function(n,r){var a=yt();return xy(a,Qe.memoizedState,n,r)},useTransition:function(){var n=uc(Fi)[0],r=yt().memoizedState;return[typeof n=="boolean"?n:cl(n),r]},useSyncExternalStore:sy,useId:My};kr.useCacheRefresh=ky,kr.useMemoCache=Kf,kr.useHostTransitionStatus=nd,kr.useFormState=vy,kr.useActionState=vy,kr.useOptimistic=function(n,r){var a=yt();return hy(a,Qe,n,r)};var Us={readContext:Kt,use:lc,useCallback:Iy,useContext:Kt,useEffect:Zf,useImperativeHandle:Ry,useInsertionEffect:wy,useLayoutEffect:Sy,useMemo:Cy,useReducer:Yf,useRef:Ty,useState:function(){return Yf(Fi)},useDebugValue:Jf,useDeferredValue:function(n,r){var a=yt();return Qe===null?ed(a,n,r):xy(a,Qe.memoizedState,n,r)},useTransition:function(){var n=Yf(Fi)[0],r=yt().memoizedState;return[typeof n=="boolean"?n:cl(n),r]},useSyncExternalStore:sy,useId:My};Us.useCacheRefresh=ky,Us.useMemoCache=Kf,Us.useHostTransitionStatus=nd,Us.useFormState=Ey,Us.useActionState=Ey,Us.useOptimistic=function(n,r){var a=yt();return Qe!==null?hy(a,Qe,n,r):(a.baseState=n,[n,a.queue.dispatch])};function rd(n,r,a,l){r=n.memoizedState,a=a(l,r),a=a==null?r:A({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var sd={isMounted:function(n){return(n=n._reactInternals)?me(n)===n:!1},enqueueSetState:function(n,r,a){n=n._reactInternals;var l=yn(),h=Lr(l);h.payload=r,a!=null&&(h.callback=a),r=Ur(n,h,l),r!==null&&(sn(r,n,l),ml(r,n,l))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var l=yn(),h=Lr(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=Ur(n,h,l),r!==null&&(sn(r,n,l),ml(r,n,l))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=yn(),l=Lr(a);l.tag=2,r!=null&&(l.callback=r),r=Ur(n,l,a),r!==null&&(sn(r,n,a),ml(r,n,a))}};function Uy(n,r,a,l,h,d,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,d,_):r.prototype&&r.prototype.isPureReactComponent?!Zo(a,l)||!Zo(h,d):!0}function jy(n,r,a,l){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==n&&sd.enqueueReplaceState(r,r.state,null)}function js(n,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(n=n.defaultProps){a===r&&(a=A({},a));for(var h in n)a[h]===void 0&&(a[h]=n[h])}return a}var dc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function zy(n){dc(n)}function By(n){console.error(n)}function Hy(n){dc(n)}function mc(n,r){try{var a=n.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function qy(n,r,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function ad(n,r,a){return a=Lr(a),a.tag=3,a.payload={element:null},a.callback=function(){mc(n,r)},a}function Fy(n){return n=Lr(n),n.tag=3,n}function Gy(n,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;n.payload=function(){return h(d)},n.callback=function(){qy(r,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(n.callback=function(){qy(r,a,l),typeof h!="function"&&(Fr===null?Fr=new Set([this]):Fr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function Rw(n,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&dl(r,a,h,!0),a=Vn.current,a!==null){switch(a.tag){case 13:return di===null?Bd():a.alternate===null&&lt===0&&(lt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Vf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),qd(n,l,h)),!1;case 22:return a.flags|=65536,l===Vf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),qd(n,l,h)),!1}throw Error(s(435,a.tag))}return qd(n,l,h),Bd(),!1}if(qe)return r=Vn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==Pf&&(n=Error(s(422),{cause:l}),nl(Mn(n,a)))):(l!==Pf&&(r=Error(s(423),{cause:l}),nl(Mn(r,a))),n=n.current.alternate,n.flags|=65536,h&=-h,n.lanes|=h,l=Mn(l,a),h=ad(n.stateNode,l,h),Td(n,h),lt!==4&&(lt=2)),!1;var d=Error(s(520),{cause:l});if(d=Mn(d,a),bl===null?bl=[d]:bl.push(d),lt!==4&&(lt=2),r===null)return!0;l=Mn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,n=h&-h,a.lanes|=n,n=ad(a.stateNode,l,n),Td(a,n),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Fr===null||!Fr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Fy(h),Gy(h,n,a,l),Td(a,h),!1}a=a.return}while(a!==null);return!1}var $y=Error(s(461)),Mt=!1;function zt(n,r,a,l){r.child=n===null?Wg(r,null,a,l):ks(r,n.child,a,l)}function Ky(n,r,a,l,h){a=a.render;var d=r.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return Bs(r),l=qf(n,r,a,_,d,h),T=Ff(),n!==null&&!Mt?(Gf(n,r,h),Gi(n,r,h)):(qe&&T&&Mf(r),r.flags|=1,zt(n,r,l,h),r.child)}function Qy(n,r,a,l,h){if(n===null){var d=a.type;return typeof d=="function"&&!xd(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,Yy(n,r,d,l,h)):(n=_c(a.type,null,l,r,r.mode,h),n.ref=r.ref,n.return=r,r.child=n)}if(d=n.child,!pd(n,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Zo,a(_,l)&&n.ref===r.ref)return Gi(n,r,h)}return r.flags|=1,n=Hr(d,l),n.ref=r.ref,n.return=r,r.child=n}function Yy(n,r,a,l,h){if(n!==null){var d=n.memoizedProps;if(Zo(d,l)&&n.ref===r.ref)if(Mt=!1,r.pendingProps=l=d,pd(n,h))(n.flags&131072)!==0&&(Mt=!0);else return r.lanes=n.lanes,Gi(n,r,h)}return od(n,r,a,l,h)}function Xy(n,r,a){var l=r.pendingProps,h=l.children,d=(r.stateNode._pendingVisibility&2)!==0,_=n!==null?n.memoizedState:null;if(fl(n,r),l.mode==="hidden"||d){if((r.flags&128)!==0){if(l=_!==null?_.baseLanes|a:a,n!==null){for(h=r.child=n.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return Wy(n,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&rc(r,_!==null?_.cachePool:null),_!==null?Zg(r,_):Lf(),Jg(r);else return r.lanes=r.childLanes=536870912,Wy(n,r,_!==null?_.baseLanes|a:a,a)}else _!==null?(rc(r,_.cachePool),Zg(r,_),Dr(),r.memoizedState=null):(n!==null&&rc(r,null),Lf(),Dr());return zt(n,r,h,a),r.child}function Wy(n,r,a,l){var h=Bf();return h=h===null?null:{parent:At._currentValue,pool:h},r.memoizedState={baseLanes:a,cachePool:h},n!==null&&rc(r,null),Lf(),Jg(r),n!==null&&dl(n,r,l,!0),null}function fl(n,r){var a=r.ref;if(a===null)n!==null&&n.ref!==null&&(r.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(r.flags|=2097664)}}function od(n,r,a,l,h){return Bs(r),a=qf(n,r,a,l,void 0,h),l=Ff(),n!==null&&!Mt?(Gf(n,r,h),Gi(n,r,h)):(qe&&l&&Mf(r),r.flags|=1,zt(n,r,a,h),r.child)}function Zy(n,r,a,l,h,d){return Bs(r),r.updateQueue=null,a=ry(r,l,a,h),iy(n),l=Ff(),n!==null&&!Mt?(Gf(n,r,d),Gi(n,r,d)):(qe&&l&&Mf(r),r.flags|=1,zt(n,r,a,d),r.child)}function Jy(n,r,a,l,h){if(Bs(r),r.stateNode===null){var d=Da,_=a.contextType;typeof _=="object"&&_!==null&&(d=Kt(_)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=sd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},_d(r),_=a.contextType,d.context=typeof _=="object"&&_!==null?Kt(_):Da,d.state=r.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(rd(r,a,_,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&sd.enqueueReplaceState(d,d.state,null),gl(r,l,d,h),pl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(n===null){d=r.stateNode;var T=r.memoizedProps,x=js(a,T);d.props=x;var L=d.context,W=a.contextType;_=Da,typeof W=="object"&&W!==null&&(_=Kt(W));var te=a.getDerivedStateFromProps;W=typeof te=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,W||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||L!==_)&&jy(r,d,l,_),Vr=!1;var F=r.memoizedState;d.state=F,gl(r,l,d,h),pl(),L=r.memoizedState,T||F!==L||Vr?(typeof te=="function"&&(rd(r,a,te,l),L=r.memoizedState),(x=Vr||Uy(r,a,x,l,F,L,_))?(W||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=L),d.props=l,d.state=L,d.context=_,l=x):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,Ed(n,r),_=r.memoizedProps,W=js(a,_),d.props=W,te=r.pendingProps,F=d.context,L=a.contextType,x=Da,typeof L=="object"&&L!==null&&(x=Kt(L)),T=a.getDerivedStateFromProps,(L=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==te||F!==x)&&jy(r,d,l,x),Vr=!1,F=r.memoizedState,d.state=F,gl(r,l,d,h),pl();var Y=r.memoizedState;_!==te||F!==Y||Vr||n!==null&&n.dependencies!==null&&pc(n.dependencies)?(typeof T=="function"&&(rd(r,a,T,l),Y=r.memoizedState),(W=Vr||Uy(r,a,W,l,F,Y,x)||n!==null&&n.dependencies!==null&&pc(n.dependencies))?(L||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Y,x),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Y,x)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===n.memoizedProps&&F===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&F===n.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=Y),d.props=l,d.state=Y,d.context=x,l=W):(typeof d.componentDidUpdate!="function"||_===n.memoizedProps&&F===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&F===n.memoizedState||(r.flags|=1024),l=!1)}return d=l,fl(n,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,n!==null&&l?(r.child=ks(r,n.child,null,h),r.child=ks(r,null,a,h)):zt(n,r,a,h),r.memoizedState=d.state,n=r.child):n=Gi(n,r,h),n}function ev(n,r,a,l){return tl(),r.flags|=256,zt(n,r,a,l),r.child}var ld={dehydrated:null,treeContext:null,retryLane:0};function ud(n){return{baseLanes:n,cachePool:ny()}}function cd(n,r,a){return n=n!==null?n.childLanes&~a:0,r&&(n|=zn),n}function tv(n,r,a){var l=r.pendingProps,h=!1,d=(r.flags&128)!==0,_;if((_=d)||(_=n!==null&&n.memoizedState===null?!1:(St.current&2)!==0),_&&(h=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,n===null){if(qe){if(h?Or(r):Dr(),qe){var T=jt,x;if(x=T){e:{for(x=T,T=fi;x.nodeType!==8;){if(!T){T=null;break e}if(x=Yn(x.nextSibling),x===null){T=null;break e}}T=x}T!==null?(r.memoizedState={dehydrated:T,treeContext:Os!==null?{id:Bi,overflow:Hi}:null,retryLane:536870912},x=jn(18,null,null,0),x.stateNode=T,x.return=r,r.child=x,rn=r,jt=null,x=!0):x=!1}x||Ms(r)}if(T=r.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return T.data==="$!"?r.lanes=16:r.lanes=536870912,null;qi(r)}return T=l.children,l=l.fallback,h?(Dr(),h=r.mode,T=fd({mode:"hidden",children:T},h),l=qs(l,h,a,null),T.return=r,l.return=r,T.sibling=l,r.child=T,h=r.child,h.memoizedState=ud(a),h.childLanes=cd(n,_,a),r.memoizedState=ld,l):(Or(r),hd(r,T))}if(x=n.memoizedState,x!==null&&(T=x.dehydrated,T!==null)){if(d)r.flags&256?(Or(r),r.flags&=-257,r=dd(n,r,a)):r.memoizedState!==null?(Dr(),r.child=n.child,r.flags|=128,r=null):(Dr(),h=l.fallback,T=r.mode,l=fd({mode:"visible",children:l.children},T),h=qs(h,T,a,null),h.flags|=2,l.return=r,h.return=r,l.sibling=h,r.child=l,ks(r,n.child,null,a),l=r.child,l.memoizedState=ud(a),l.childLanes=cd(n,_,a),r.memoizedState=ld,r=h);else if(Or(r),T.data==="$!"){if(_=T.nextSibling&&T.nextSibling.dataset,_)var L=_.dgst;_=L,l=Error(s(419)),l.stack="",l.digest=_,nl({value:l,source:null,stack:null}),r=dd(n,r,a)}else if(Mt||dl(n,r,a,!1),_=(a&n.childLanes)!==0,Mt||_){if(_=We,_!==null){if(l=a&-a,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(_.suspendedLanes|a))!==0?0:l,l!==0&&l!==x.retryLane)throw x.retryLane=l,Nr(n,l),sn(_,n,l),$y}T.data==="$?"||Bd(),r=dd(n,r,a)}else T.data==="$?"?(r.flags|=128,r.child=n.child,r=Bw.bind(null,n),T._reactRetry=r,r=null):(n=x.treeContext,jt=Yn(T.nextSibling),rn=r,qe=!0,Kn=null,fi=!1,n!==null&&(kn[Pn++]=Bi,kn[Pn++]=Hi,kn[Pn++]=Os,Bi=n.id,Hi=n.overflow,Os=r),r=hd(r,l.children),r.flags|=4096);return r}return h?(Dr(),h=l.fallback,T=r.mode,x=n.child,L=x.sibling,l=Hr(x,{mode:"hidden",children:l.children}),l.subtreeFlags=x.subtreeFlags&31457280,L!==null?h=Hr(L,h):(h=qs(h,T,a,null),h.flags|=2),h.return=r,l.return=r,l.sibling=h,r.child=l,l=h,h=r.child,T=n.child.memoizedState,T===null?T=ud(a):(x=T.cachePool,x!==null?(L=At._currentValue,x=x.parent!==L?{parent:L,pool:L}:x):x=ny(),T={baseLanes:T.baseLanes|a,cachePool:x}),h.memoizedState=T,h.childLanes=cd(n,_,a),r.memoizedState=ld,l):(Or(r),a=n.child,n=a.sibling,a=Hr(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,n!==null&&(_=r.deletions,_===null?(r.deletions=[n],r.flags|=16):_.push(n)),r.child=a,r.memoizedState=null,a)}function hd(n,r){return r=fd({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function fd(n,r){return Iv(n,r,0,null)}function dd(n,r,a){return ks(r,n.child,null,a),n=hd(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function nv(n,r,a){n.lanes|=r;var l=n.alternate;l!==null&&(l.lanes|=r),yd(n.return,r,a)}function md(n,r,a,l,h){var d=n.memoizedState;d===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function iv(n,r,a){var l=r.pendingProps,h=l.revealOrder,d=l.tail;if(zt(n,r,l.children,a),l=St.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&nv(n,a,r);else if(n.tag===19)nv(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(Ke(St,l),h){case"forwards":for(a=r.child,h=null;a!==null;)n=a.alternate,n!==null&&ic(n)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),md(r,!1,h,a,d);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(n=h.alternate,n!==null&&ic(n)===null){r.child=h;break}n=h.sibling,h.sibling=a,a=h,h=n}md(r,!0,a,null,d);break;case"together":md(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Gi(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),qr|=r.lanes,(a&r.childLanes)===0)if(n!==null){if(dl(n,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,a=Hr(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=Hr(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function pd(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&pc(n)))}function Iw(n,r,a){switch(r.tag){case 3:mr(r,r.stateNode.containerInfo),Pr(r,At,n.memoizedState.cache),tl();break;case 27:case 5:Oo(r);break;case 4:mr(r,r.stateNode.containerInfo);break;case 10:Pr(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Or(r),r.flags|=128,null):(a&r.child.childLanes)!==0?tv(n,r,a):(Or(r),n=Gi(n,r,a),n!==null?n.sibling:null);Or(r);break;case 19:var h=(n.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(dl(n,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return iv(n,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Ke(St,St.current),l)break;return null;case 22:case 23:return r.lanes=0,Xy(n,r,a);case 24:Pr(r,At,n.memoizedState.cache)}return Gi(n,r,a)}function rv(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps)Mt=!0;else{if(!pd(n,a)&&(r.flags&128)===0)return Mt=!1,Iw(n,r,a);Mt=(n.flags&131072)!==0}else Mt=!1,qe&&(r.flags&1048576)!==0&&Hg(r,Zu,r.index);switch(r.lanes=0,r.tag){case 16:e:{n=r.pendingProps;var l=r.elementType,h=l._init;if(l=h(l._payload),r.type=l,typeof l=="function")xd(l)?(n=js(l,n),r.tag=1,r=Jy(null,r,l,n,a)):(r.tag=0,r=od(null,r,l,n,a));else{if(l!=null){if(h=l.$$typeof,h===U){r.tag=11,r=Ky(null,r,l,n,a);break e}else if(h===X){r.tag=14,r=Qy(null,r,l,n,a);break e}}throw r=C(l)||l,Error(s(306,r,""))}}return r;case 0:return od(n,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=js(l,r.pendingProps),Jy(n,r,l,h,a);case 3:e:{if(mr(r,r.stateNode.containerInfo),n===null)throw Error(s(387));var d=r.pendingProps;h=r.memoizedState,l=h.element,Ed(n,r),gl(r,d,null,a);var _=r.memoizedState;if(d=_.cache,Pr(r,At,d),d!==h.cache&&vd(r,[At],a,!0),pl(),d=_.element,h.isDehydrated)if(h={element:d,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=h,r.memoizedState=h,r.flags&256){r=ev(n,r,d,a);break e}else if(d!==l){l=Mn(Error(s(424)),r),nl(l),r=ev(n,r,d,a);break e}else for(jt=Yn(r.stateNode.containerInfo.firstChild),rn=r,qe=!0,Kn=null,fi=!0,a=Wg(r,null,d,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(tl(),d===l){r=Gi(n,r,a);break e}zt(n,r,d,a)}r=r.child}return r;case 26:return fl(n,r),n===null?(a=o_(r.type,null,r.pendingProps,null))?r.memoizedState=a:qe||(a=r.type,n=r.pendingProps,l=Oc(An.current).createElement(a),l[Nt]=r,l[Tt]=n,Bt(l,a,n),et(l),r.stateNode=l):r.memoizedState=o_(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return Oo(r),n===null&&qe&&(l=r.stateNode=r_(r.type,r.pendingProps,An.current),rn=r,fi=!0,jt=Yn(l.firstChild)),l=r.pendingProps.children,n!==null||qe?zt(n,r,l,a):r.child=ks(r,null,l,a),fl(n,r),r.child;case 5:return n===null&&qe&&((h=l=jt)&&(l=iS(l,r.type,r.pendingProps,fi),l!==null?(r.stateNode=l,rn=r,jt=Yn(l.firstChild),fi=!1,h=!0):h=!1),h||Ms(r)),Oo(r),h=r.type,d=r.pendingProps,_=n!==null?n.memoizedProps:null,l=d.children,tm(h,d)?l=null:_!==null&&tm(h,_)&&(r.flags|=32),r.memoizedState!==null&&(h=qf(n,r,Ew,null,null,a),Ol._currentValue=h),fl(n,r),zt(n,r,l,a),r.child;case 6:return n===null&&qe&&((n=a=jt)&&(a=rS(a,r.pendingProps,fi),a!==null?(r.stateNode=a,rn=r,jt=null,n=!0):n=!1),n||Ms(r)),null;case 13:return tv(n,r,a);case 4:return mr(r,r.stateNode.containerInfo),l=r.pendingProps,n===null?r.child=ks(r,null,l,a):zt(n,r,l,a),r.child;case 11:return Ky(n,r,r.type,r.pendingProps,a);case 7:return zt(n,r,r.pendingProps,a),r.child;case 8:return zt(n,r,r.pendingProps.children,a),r.child;case 12:return zt(n,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Pr(r,r.type,l.value),zt(n,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,Bs(r),h=Kt(h),l=l(h),r.flags|=1,zt(n,r,l,a),r.child;case 14:return Qy(n,r,r.type,r.pendingProps,a);case 15:return Yy(n,r,r.type,r.pendingProps,a);case 19:return iv(n,r,a);case 22:return Xy(n,r,a);case 24:return Bs(r),l=Kt(At),n===null?(h=Bf(),h===null&&(h=We,d=jf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),r.memoizedState={parent:l,cache:h},_d(r),Pr(r,At,h)):((n.lanes&a)!==0&&(Ed(n,r),gl(r,null,null,a),pl()),h=n.memoizedState,d=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),Pr(r,At,l)):(l=d.cache,Pr(r,At,l),l!==h.cache&&vd(r,[At],a,!0))),zt(n,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}var gd=Be(null),zs=null,$i=null;function Pr(n,r,a){Ke(gd,r._currentValue),r._currentValue=a}function Ki(n){n._currentValue=gd.current,st(gd)}function yd(n,r,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),n===a)break;n=n.return}}function vd(n,r,a,l){var h=n.child;for(h!==null&&(h.return=n);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var x=0;x<r.length;x++)if(T.context===r[x]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),yd(d.return,a,n),l||(_=null);break e}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),yd(_,a,n),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===n){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function dl(n,r,a,l){n=null;for(var h=r,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=h.type;dn(h.pendingProps.value,_.value)||(n!==null?n.push(T):n=[T])}}else if(h===dr.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(n!==null?n.push(Ol):n=[Ol])}h=h.return}n!==null&&vd(r,n,a,l),r.flags|=262144}function pc(n){for(n=n.firstContext;n!==null;){if(!dn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Bs(n){zs=n,$i=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Kt(n){return sv(zs,n)}function gc(n,r){return zs===null&&Bs(n),sv(n,r)}function sv(n,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},$i===null){if(n===null)throw Error(s(308));$i=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else $i=$i.next=r;return a}var Vr=!1;function _d(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ed(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Lr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Ur(n,r,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(nt&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=Xu(n),zg(n,null,a),r}return Yu(n,l,r,a),Xu(n)}function ml(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194176)!==0)){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,Er(n,a)}}function Td(n,r){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=r:d=d.next=r}else h=d=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}var bd=!1;function pl(){if(bd){var n=Ua;if(n!==null)throw n}}function gl(n,r,a,l){bd=!1;var h=n.updateQueue;Vr=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var x=T,L=x.next;x.next=null,_===null?d=L:_.next=L,_=x;var W=n.alternate;W!==null&&(W=W.updateQueue,T=W.lastBaseUpdate,T!==_&&(T===null?W.firstBaseUpdate=L:T.next=L,W.lastBaseUpdate=x))}if(d!==null){var te=h.baseState;_=0,W=L=x=null,T=d;do{var F=T.lane&-536870913,Y=F!==T.lane;if(Y?(je&F)===F:(l&F)===F){F!==0&&F===La&&(bd=!0),W!==null&&(W=W.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var pe=n,Ae=T;F=r;var ut=a;switch(Ae.tag){case 1:if(pe=Ae.payload,typeof pe=="function"){te=pe.call(ut,te,F);break e}te=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=Ae.payload,F=typeof pe=="function"?pe.call(ut,te,F):pe,F==null)break e;te=A({},te,F);break e;case 2:Vr=!0}}F=T.callback,F!==null&&(n.flags|=64,Y&&(n.flags|=8192),Y=h.callbacks,Y===null?h.callbacks=[F]:Y.push(F))}else Y={lane:F,tag:T.tag,payload:T.payload,callback:T.callback,next:null},W===null?(L=W=Y,x=te):W=W.next=Y,_|=F;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;Y=T,T=Y.next,Y.next=null,h.lastBaseUpdate=Y,h.shared.pending=null}}while(!0);W===null&&(x=te),h.baseState=x,h.firstBaseUpdate=L,h.lastBaseUpdate=W,d===null&&(h.shared.lanes=0),qr|=_,n.lanes=_,n.memoizedState=te}}function av(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function ov(n,r){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)av(a[n],r)}function yl(n,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&n)===n){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(T){Xe(r,r.return,T)}}function jr(n,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&n)===n){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=r;var x=a;try{T()}catch(L){Xe(h,x,L)}}}l=l.next}while(l!==d)}}catch(L){Xe(r,r.return,L)}}function lv(n){var r=n.updateQueue;if(r!==null){var a=n.stateNode;try{ov(r,a)}catch(l){Xe(n,n.return,l)}}}function uv(n,r,a){a.props=js(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){Xe(n,r,l)}}function Hs(n,r){try{var a=n.ref;if(a!==null){var l=n.stateNode;switch(n.tag){case 26:case 27:case 5:var h=l;break;default:h=l}typeof a=="function"?n.refCleanup=a(h):a.current=h}}catch(d){Xe(n,r,d)}}function mn(n,r){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Xe(n,r,h)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Xe(n,r,h)}else a.current=null}function cv(n){var r=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Xe(n,n.return,h)}}function hv(n,r,a){try{var l=n.stateNode;Zw(l,n.type,a,r),l[Tt]=r}catch(h){Xe(n,n.return,h)}}function fv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27||n.tag===4}function wd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||fv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==27&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Sd(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?a.nodeType===8?a.parentNode.insertBefore(n,r):a.insertBefore(n,r):(a.nodeType===8?(r=a.parentNode,r.insertBefore(n,a)):(r=a,r.appendChild(n)),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Nc));else if(l!==4&&l!==27&&(n=n.child,n!==null))for(Sd(n,r,a),n=n.sibling;n!==null;)Sd(n,r,a),n=n.sibling}function yc(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(l!==4&&l!==27&&(n=n.child,n!==null))for(yc(n,r,a),n=n.sibling;n!==null;)yc(n,r,a),n=n.sibling}var Qi=!1,ot=!1,Ad=!1,dv=typeof WeakSet=="function"?WeakSet:Set,kt=null,mv=!1;function Cw(n,r){if(n=n.containerInfo,Jd=Lc,n=Og(n),If(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,T=-1,x=-1,L=0,W=0,te=n,F=null;t:for(;;){for(var Y;te!==a||h!==0&&te.nodeType!==3||(T=_+h),te!==d||l!==0&&te.nodeType!==3||(x=_+l),te.nodeType===3&&(_+=te.nodeValue.length),(Y=te.firstChild)!==null;)F=te,te=Y;for(;;){if(te===n)break t;if(F===a&&++L===h&&(T=_),F===d&&++W===l&&(x=_),(Y=te.nextSibling)!==null)break;te=F,F=te.parentNode}te=Y}a=T===-1||x===-1?null:{start:T,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(em={focusedElem:n,selectionRange:a},Lc=!1,kt=r;kt!==null;)if(r=kt,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,kt=n;else for(;kt!==null;){switch(r=kt,d=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,a=r,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var pe=js(a.type,h,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(pe,d),l.__reactInternalSnapshotBeforeUpdate=n}catch(Ae){Xe(a,a.return,Ae)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,a=n.nodeType,a===9)rm(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":rm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,kt=n;break}kt=r.return}return pe=mv,mv=!1,pe}function pv(n,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Xi(n,a),l&4&&yl(5,a);break;case 1:if(Xi(n,a),l&4)if(n=a.stateNode,r===null)try{n.componentDidMount()}catch(T){Xe(a,a.return,T)}else{var h=js(a.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(h,r,n.__reactInternalSnapshotBeforeUpdate)}catch(T){Xe(a,a.return,T)}}l&64&&lv(a),l&512&&Hs(a,a.return);break;case 3:if(Xi(n,a),l&64&&(l=a.updateQueue,l!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{ov(l,n)}catch(T){Xe(a,a.return,T)}}break;case 26:Xi(n,a),l&512&&Hs(a,a.return);break;case 27:case 5:Xi(n,a),r===null&&l&4&&cv(a),l&512&&Hs(a,a.return);break;case 12:Xi(n,a);break;case 13:Xi(n,a),l&4&&vv(n,a);break;case 22:if(h=a.memoizedState!==null||Qi,!h){r=r!==null&&r.memoizedState!==null||ot;var d=Qi,_=ot;Qi=h,(ot=r)&&!_?zr(n,a,(a.subtreeFlags&8772)!==0):Xi(n,a),Qi=d,ot=_}l&512&&(a.memoizedProps.mode==="manual"?Hs(a,a.return):mn(a,a.return));break;default:Xi(n,a)}}function gv(n){var r=n.alternate;r!==null&&(n.alternate=null,gv(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&vs(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var vt=null,pn=!1;function Yi(n,r,a){for(a=a.child;a!==null;)yv(n,r,a),a=a.sibling}function yv(n,r,a){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(pr,a)}catch{}switch(a.tag){case 26:ot||mn(a,r),Yi(n,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ot||mn(a,r);var l=vt,h=pn;for(vt=a.stateNode,Yi(n,r,a),a=a.stateNode,r=a.attributes;r.length;)a.removeAttributeNode(r[0]);vs(a),vt=l,pn=h;break;case 5:ot||mn(a,r);case 6:h=vt;var d=pn;if(vt=null,Yi(n,r,a),vt=h,pn=d,vt!==null)if(pn)try{n=vt,l=a.stateNode,n.nodeType===8?n.parentNode.removeChild(l):n.removeChild(l)}catch(_){Xe(a,r,_)}else try{vt.removeChild(a.stateNode)}catch(_){Xe(a,r,_)}break;case 18:vt!==null&&(pn?(r=vt,a=a.stateNode,r.nodeType===8?im(r.parentNode,a):r.nodeType===1&&im(r,a),Pl(r)):im(vt,a.stateNode));break;case 4:l=vt,h=pn,vt=a.stateNode.containerInfo,pn=!0,Yi(n,r,a),vt=l,pn=h;break;case 0:case 11:case 14:case 15:ot||jr(2,a,r),ot||jr(4,a,r),Yi(n,r,a);break;case 1:ot||(mn(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&uv(a,r,l)),Yi(n,r,a);break;case 21:Yi(n,r,a);break;case 22:ot||mn(a,r),ot=(l=ot)||a.memoizedState!==null,Yi(n,r,a),ot=l;break;default:Yi(n,r,a)}}function vv(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Pl(n)}catch(a){Xe(r,r.return,a)}}function xw(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new dv),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new dv),r;default:throw Error(s(435,n.tag))}}function Rd(n,r){var a=xw(n);r.forEach(function(l){var h=Hw.bind(null,n,l);a.has(l)||(a.add(l),l.then(h,h))})}function Ln(n,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=n,_=r,T=_;e:for(;T!==null;){switch(T.tag){case 27:case 5:vt=T.stateNode,pn=!1;break e;case 3:vt=T.stateNode.containerInfo,pn=!0;break e;case 4:vt=T.stateNode.containerInfo,pn=!0;break e}T=T.return}if(vt===null)throw Error(s(160));yv(d,_,h),vt=null,pn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)_v(r,n),r=r.sibling}var Qn=null;function _v(n,r){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Ln(r,n),Un(n),l&4&&(jr(3,n,n.return),yl(3,n),jr(5,n,n.return));break;case 1:Ln(r,n),Un(n),l&512&&(ot||a===null||mn(a,a.return)),l&64&&Qi&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Qn;if(Ln(r,n),Un(n),l&512&&(ot||a===null||mn(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[br]||d[Nt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Bt(d,l,a),d[Nt]=n,et(d),l=d;break e;case"link":var _=c_("link","href",h).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(a.href==null?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break t}}d=h.createElement(l),Bt(d,l,a),h.head.appendChild(d);break;case"meta":if(_=c_("meta","content",h).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break t}}d=h.createElement(l),Bt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Nt]=n,et(d),l=d}n.stateNode=l}else h_(h,n.type,n.stateNode);else n.stateNode=u_(h,l,n.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?h_(h,n.type,n.stateNode):u_(h,l,n.memoizedProps)):l===null&&n.stateNode!==null&&hv(n,n.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&n.alternate===null){h=n.stateNode,d=n.memoizedProps;try{for(var x=h.firstChild;x;){var L=x.nextSibling,W=x.nodeName;x[br]||W==="HEAD"||W==="BODY"||W==="SCRIPT"||W==="STYLE"||W==="LINK"&&x.rel.toLowerCase()==="stylesheet"||h.removeChild(x),x=L}for(var te=n.type,F=h.attributes;F.length;)h.removeAttributeNode(F[0]);Bt(h,te,d),h[Nt]=n,h[Tt]=d}catch(pe){Xe(n,n.return,pe)}}case 5:if(Ln(r,n),Un(n),l&512&&(ot||a===null||mn(a,a.return)),n.flags&32){h=n.stateNode;try{Cn(h,"")}catch(pe){Xe(n,n.return,pe)}}l&4&&n.stateNode!=null&&(h=n.memoizedProps,hv(n,h,a!==null?a.memoizedProps:h)),l&1024&&(Ad=!0);break;case 6:if(Ln(r,n),Un(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(pe){Xe(n,n.return,pe)}}break;case 3:if(kc=null,h=Qn,Qn=Dc(r.containerInfo),Ln(r,n),Qn=h,Un(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Pl(r.containerInfo)}catch(pe){Xe(n,n.return,pe)}Ad&&(Ad=!1,Ev(n));break;case 4:l=Qn,Qn=Dc(n.stateNode.containerInfo),Ln(r,n),Un(n),Qn=l;break;case 12:Ln(r,n),Un(n);break;case 13:Ln(r,n),Un(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Pd=on()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Rd(n,l)));break;case 22:if(l&512&&(ot||a===null||mn(a,a.return)),x=n.memoizedState!==null,L=a!==null&&a.memoizedState!==null,W=Qi,te=ot,Qi=W||x,ot=te||L,Ln(r,n),ot=te,Qi=W,Un(n),r=n.stateNode,r._current=n,r._visibility&=-3,r._visibility|=r._pendingVisibility&2,l&8192&&(r._visibility=x?r._visibility&-2:r._visibility|1,x&&(r=Qi||ot,a===null||L||r||Ha(n)),n.memoizedProps===null||n.memoizedProps.mode!=="manual"))e:for(a=null,r=n;;){if(r.tag===5||r.tag===26||r.tag===27){if(a===null){L=a=r;try{if(h=L.stateNode,x)d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{_=L.stateNode,T=L.memoizedProps.style;var Y=T!=null&&T.hasOwnProperty("display")?T.display:null;_.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(pe){Xe(L,L.return,pe)}}}else if(r.tag===6){if(a===null){L=r;try{L.stateNode.nodeValue=x?"":L.memoizedProps}catch(pe){Xe(L,L.return,pe)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Rd(n,a))));break;case 19:Ln(r,n),Un(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Rd(n,l)));break;case 21:break;default:Ln(r,n),Un(n)}}function Un(n){var r=n.flags;if(r&2){try{if(n.tag!==27){e:{for(var a=n.return;a!==null;){if(fv(a)){var l=a;break e}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var h=l.stateNode,d=wd(n);yc(n,d,h);break;case 5:var _=l.stateNode;l.flags&32&&(Cn(_,""),l.flags&=-33);var T=wd(n);yc(n,T,_);break;case 3:case 4:var x=l.stateNode.containerInfo,L=wd(n);Sd(n,L,x);break;default:throw Error(s(161))}}}catch(W){Xe(n,n.return,W)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function Ev(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;Ev(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function Xi(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)pv(n,r.alternate,r),r=r.sibling}function Ha(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:jr(4,r,r.return),Ha(r);break;case 1:mn(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&uv(r,r.return,a),Ha(r);break;case 26:case 27:case 5:mn(r,r.return),Ha(r);break;case 22:mn(r,r.return),r.memoizedState===null&&Ha(r);break;default:Ha(r)}n=n.sibling}}function zr(n,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=n,d=r,_=d.flags;switch(d.tag){case 0:case 11:case 15:zr(h,d,a),yl(4,d);break;case 1:if(zr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(L){Xe(l,l.return,L)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var x=h.shared.hiddenCallbacks;if(x!==null)for(h.shared.hiddenCallbacks=null,h=0;h<x.length;h++)av(x[h],T)}catch(L){Xe(l,l.return,L)}}a&&_&64&&lv(d),Hs(d,d.return);break;case 26:case 27:case 5:zr(h,d,a),a&&l===null&&_&4&&cv(d),Hs(d,d.return);break;case 12:zr(h,d,a);break;case 13:zr(h,d,a),a&&_&4&&vv(h,d);break;case 22:d.memoizedState===null&&zr(h,d,a),Hs(d,d.return);break;default:zr(h,d,a)}r=r.sibling}}function Id(n,r){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&ol(a))}function Cd(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&ol(n))}function Br(n,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Tv(n,r,a,l),r=r.sibling}function Tv(n,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:Br(n,r,a,l),h&2048&&yl(9,r);break;case 3:Br(n,r,a,l),h&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&ol(n)));break;case 12:if(h&2048){Br(n,r,a,l),n=r.stateNode;try{var d=r.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(x){Xe(r,r.return,x)}}else Br(n,r,a,l);break;case 23:break;case 22:d=r.stateNode,r.memoizedState!==null?d._visibility&4?Br(n,r,a,l):vl(n,r):d._visibility&4?Br(n,r,a,l):(d._visibility|=4,qa(n,r,a,l,(r.subtreeFlags&10256)!==0)),h&2048&&Id(r.alternate,r);break;case 24:Br(n,r,a,l),h&2048&&Cd(r.alternate,r);break;default:Br(n,r,a,l)}}function qa(n,r,a,l,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=n,_=r,T=a,x=l,L=_.flags;switch(_.tag){case 0:case 11:case 15:qa(d,_,T,x,h),yl(8,_);break;case 23:break;case 22:var W=_.stateNode;_.memoizedState!==null?W._visibility&4?qa(d,_,T,x,h):vl(d,_):(W._visibility|=4,qa(d,_,T,x,h)),h&&L&2048&&Id(_.alternate,_);break;case 24:qa(d,_,T,x,h),h&&L&2048&&Cd(_.alternate,_);break;default:qa(d,_,T,x,h)}r=r.sibling}}function vl(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=n,l=r,h=l.flags;switch(l.tag){case 22:vl(a,l),h&2048&&Id(l.alternate,l);break;case 24:vl(a,l),h&2048&&Cd(l.alternate,l);break;default:vl(a,l)}r=r.sibling}}var _l=8192;function Fa(n){if(n.subtreeFlags&_l)for(n=n.child;n!==null;)bv(n),n=n.sibling}function bv(n){switch(n.tag){case 26:Fa(n),n.flags&_l&&n.memoizedState!==null&&yS(Qn,n.memoizedState,n.memoizedProps);break;case 5:Fa(n);break;case 3:case 4:var r=Qn;Qn=Dc(n.stateNode.containerInfo),Fa(n),Qn=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=_l,_l=16777216,Fa(n),_l=r):Fa(n));break;default:Fa(n)}}function wv(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function El(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];kt=l,Av(l,n)}wv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Sv(n),n=n.sibling}function Sv(n){switch(n.tag){case 0:case 11:case 15:El(n),n.flags&2048&&jr(9,n,n.return);break;case 3:El(n);break;case 12:El(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&4&&(n.return===null||n.return.tag!==13)?(r._visibility&=-5,vc(n)):El(n);break;default:El(n)}}function vc(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];kt=l,Av(l,n)}wv(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:jr(8,r,r.return),vc(r);break;case 22:a=r.stateNode,a._visibility&4&&(a._visibility&=-5,vc(r));break;default:vc(r)}n=n.sibling}}function Av(n,r){for(;kt!==null;){var a=kt;switch(a.tag){case 0:case 11:case 15:jr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ol(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,kt=l;else e:for(a=n;kt!==null;){l=kt;var h=l.sibling,d=l.return;if(gv(l),l===a){kt=null;break e}if(h!==null){h.return=d,kt=h;break e}kt=d}}}function Nw(n,r,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(n,r,a,l){return new Nw(n,r,a,l)}function xd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Hr(n,r){var a=n.alternate;return a===null?(a=jn(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&31457280,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Rv(n,r){n.flags&=31457282;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function _c(n,r,a,l,h,d){var _=0;if(l=n,typeof n=="function")xd(n)&&(_=1);else if(typeof n=="string")_=pS(n,a,Jt.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case p:return qs(a.children,h,d,r);case g:_=8,h|=24;break;case E:return n=jn(12,a,r,h|2),n.elementType=E,n.lanes=d,n;case $:return n=jn(13,a,r,h),n.elementType=$,n.lanes=d,n;case B:return n=jn(19,a,r,h),n.elementType=B,n.lanes=d,n;case Q:return Iv(a,h,d,r);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case S:case O:_=10;break e;case I:_=9;break e;case U:_=11;break e;case X:_=14;break e;case ee:_=16,l=null;break e}_=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return r=jn(_,a,r,h),r.elementType=n,r.type=l,r.lanes=d,r}function qs(n,r,a,l){return n=jn(7,n,l,r),n.lanes=a,n}function Iv(n,r,a,l){n=jn(22,n,l,r),n.elementType=Q,n.lanes=a;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=h._current;if(d===null)throw Error(s(456));if((h._pendingVisibility&2)===0){var _=Nr(d,2);_!==null&&(h._pendingVisibility|=2,sn(_,d,2))}},attach:function(){var d=h._current;if(d===null)throw Error(s(456));if((h._pendingVisibility&2)!==0){var _=Nr(d,2);_!==null&&(h._pendingVisibility&=-3,sn(_,d,2))}}};return n.stateNode=h,n}function Nd(n,r,a){return n=jn(6,n,null,r),n.lanes=a,n}function Od(n,r,a){return r=jn(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}function Wi(n){n.flags|=4}function Cv(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!f_(r)){if(r=Vn.current,r!==null&&((je&4194176)===je?di!==null:(je&62914560)!==je&&(je&536870912)===0||r!==di))throw rl=Vf,Gg;n.flags|=8192}}function Ec(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?vr():536870912,n.lanes|=r,$a|=r)}function Tl(n,r){if(!qe)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function tt(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(r)for(var h=n.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&31457280,l|=h.flags&31457280,h.return=n,h=h.sibling;else for(h=n.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=n,h=h.sibling;return n.subtreeFlags|=l,n.childLanes=a,r}function Ow(n,r,a){var l=r.pendingProps;switch(kf(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(r),null;case 1:return tt(r),null;case 3:return a=r.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Ki(At),Ni(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(el(r)?Wi(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Kn!==null&&(jd(Kn),Kn=null))),tt(r),null;case 26:return a=r.memoizedState,n===null?(Wi(r),a!==null?(tt(r),Cv(r,a)):(tt(r),r.flags&=-16777217)):a?a!==n.memoizedState?(Wi(r),tt(r),Cv(r,a)):(tt(r),r.flags&=-16777217):(n.memoizedProps!==l&&Wi(r),tt(r),r.flags&=-16777217),null;case 27:ha(r),a=An.current;var h=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==l&&Wi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return tt(r),null}n=Jt.current,el(r)?qg(r):(n=r_(h,l,a),r.stateNode=n,Wi(r))}return tt(r),null;case 5:if(ha(r),a=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==l&&Wi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return tt(r),null}if(n=Jt.current,el(r))qg(r);else{switch(h=Oc(An.current),n){case 1:n=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=h.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}n[Nt]=r,n[Tt]=l;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)n.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=n;e:switch(Bt(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Wi(r)}}return tt(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==l&&Wi(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(n=An.current,el(r)){if(n=r.stateNode,a=r.memoizedProps,l=null,h=rn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}n[Nt]=r,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Zv(n.nodeValue,a)),n||Ms(r)}else n=Oc(n).createTextNode(l),n[Nt]=r,r.stateNode=n}return tt(r),null;case 13:if(l=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(h=el(r),l!==null&&l.dehydrated!==null){if(n===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Nt]=r}else tl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;tt(r),h=!1}else Kn!==null&&(jd(Kn),Kn=null),h=!0;if(!h)return r.flags&256?(qi(r),r):(qi(r),null)}if(qi(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==n&&a&&(r.child.flags|=8192),Ec(r,r.updateQueue),tt(r),null;case 4:return Ni(),n===null&&Xd(r.stateNode.containerInfo),tt(r),null;case 10:return Ki(r.type),tt(r),null;case 19:if(st(St),h=r.memoizedState,h===null)return tt(r),null;if(l=(r.flags&128)!==0,d=h.rendering,d===null)if(l)Tl(h,!1);else{if(lt!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(d=ic(n),d!==null){for(r.flags|=128,Tl(h,!1),n=d.updateQueue,r.updateQueue=n,Ec(r,n),r.subtreeFlags=0,n=a,a=r.child;a!==null;)Rv(a,n),a=a.sibling;return Ke(St,St.current&1|2),r.child}n=n.sibling}h.tail!==null&&on()>Tc&&(r.flags|=128,l=!0,Tl(h,!1),r.lanes=4194304)}else{if(!l)if(n=ic(d),n!==null){if(r.flags|=128,l=!0,n=n.updateQueue,r.updateQueue=n,Ec(r,n),Tl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!qe)return tt(r),null}else 2*on()-h.renderingStartTime>Tc&&a!==536870912&&(r.flags|=128,l=!0,Tl(h,!1),r.lanes=4194304);h.isBackwards?(d.sibling=r.child,r.child=d):(n=h.last,n!==null?n.sibling=d:r.child=d,h.last=d)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=on(),r.sibling=null,n=St.current,Ke(St,l?n&1|2:n&1),r):(tt(r),null);case 22:case 23:return qi(r),Uf(),l=r.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(tt(r),r.subtreeFlags&6&&(r.flags|=8192)):tt(r),a=r.updateQueue,a!==null&&Ec(r,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),n!==null&&st(Ps),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Ki(At),tt(r),null;case 25:return null}throw Error(s(156,r.tag))}function Dw(n,r){switch(kf(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return Ki(At),Ni(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return ha(r),null;case 13:if(qi(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));tl()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return st(St),null;case 4:return Ni(),null;case 10:return Ki(r.type),null;case 22:case 23:return qi(r),Uf(),n!==null&&st(Ps),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return Ki(At),null;case 25:return null;default:return null}}function xv(n,r){switch(kf(r),r.tag){case 3:Ki(At),Ni();break;case 26:case 27:case 5:ha(r);break;case 4:Ni();break;case 13:qi(r);break;case 19:st(St);break;case 10:Ki(r.type);break;case 22:case 23:qi(r),Uf(),n!==null&&st(Ps);break;case 24:Ki(At)}}var Mw={getCacheForType:function(n){var r=Kt(At),a=r.data.get(n);return a===void 0&&(a=n(),r.data.set(n,a)),a}},kw=typeof WeakMap=="function"?WeakMap:Map,nt=0,We=null,Oe=null,je=0,Ze=0,gn=null,Zi=!1,Ga=!1,Dd=!1,Ji=0,lt=0,qr=0,Fs=0,Md=0,zn=0,$a=0,bl=null,pi=null,kd=!1,Pd=0,Tc=1/0,bc=null,Fr=null,wc=!1,Gs=null,wl=0,Vd=0,Ld=null,Sl=0,Ud=null;function yn(){if((nt&2)!==0&&je!==0)return je&-je;if(w.T!==null){var n=La;return n!==0?n:$d()}return xu()}function Nv(){zn===0&&(zn=(je&536870912)===0||qe?Vo():536870912);var n=Vn.current;return n!==null&&(n.flags|=32),zn}function sn(n,r,a){(n===We&&Ze===2||n.cancelPendingCommit!==null)&&(Ka(n,0),er(n,je,zn,!1)),ft(n,a),((nt&2)===0||n!==We)&&(n===We&&((nt&2)===0&&(Fs|=a),lt===4&&er(n,je,zn,!1)),gi(n))}function Ov(n,r,a){if((nt&6)!==0)throw Error(s(327));var l=!a&&(r&60)===0&&(r&n.expiredLanes)===0||yr(n,r),h=l?Lw(n,r):Hd(n,r,!0),d=l;do{if(h===0){Ga&&!l&&er(n,r,0,!1);break}else if(h===6)er(n,r,0,!Zi);else{if(a=n.current.alternate,d&&!Pw(a)){h=Hd(n,r,!1),d=!1;continue}if(h===2){if(d=r,n.errorRecoveryDisabledLanes&d)var _=0;else _=n.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var T=n;h=bl;var x=T.current.memoizedState.isDehydrated;if(x&&(Ka(T,_).flags|=256),_=Hd(T,_,!1),_!==2){if(Dd&&!x){T.errorRecoveryDisabledLanes|=d,Fs|=d,h=4;break e}d=pi,pi=h,d!==null&&jd(d)}h=_}if(d=!1,h!==2)continue}}if(h===1){Ka(n,0),er(n,r,0,!0);break}e:{switch(l=n,h){case 0:case 1:throw Error(s(345));case 4:if((r&4194176)===r){er(l,r,zn,!Zi);break e}break;case 2:pi=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=r,(r&62914560)===r&&(d=Pd+300-on(),10<d)){if(er(l,r,zn,!Zi),Rn(l,0)!==0)break e;l.timeoutHandle=t_(Dv.bind(null,l,a,pi,bc,kd,r,zn,Fs,$a,Zi,2,-0,0),d);break e}Dv(l,a,pi,bc,kd,r,zn,Fs,$a,Zi,0,-0,0)}}break}while(!0);gi(n)}function jd(n){pi===null?pi=n:pi.push.apply(pi,n)}function Dv(n,r,a,l,h,d,_,T,x,L,W,te,F){var Y=r.subtreeFlags;if((Y&8192||(Y&16785408)===16785408)&&(Nl={stylesheets:null,count:0,unsuspend:gS},bv(r),r=vS(),r!==null)){n.cancelPendingCommit=r(jv.bind(null,n,a,l,h,_,T,x,1,te,F)),er(n,d,_,!L);return}jv(n,a,l,h,_,T,x,W,te,F)}function Pw(n){for(var r=n;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!dn(d(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function er(n,r,a,l){r&=~Md,r&=~Fs,n.suspendedLanes|=r,n.pingedLanes&=~r,l&&(n.warmLanes|=r),l=n.expirationTimes;for(var h=r;0<h;){var d=31-en(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&_r(n,a,r)}function Sc(){return(nt&6)===0?(Al(0),!1):!0}function zd(){if(Oe!==null){if(Ze===0)var n=Oe.return;else n=Oe,$i=zs=null,$f(n),Pa=null,sl=0,n=Oe;for(;n!==null;)xv(n.alternate,n),n=n.return;Oe=null}}function Ka(n,r){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,eS(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),zd(),We=n,Oe=a=Hr(n.current,null),je=r,Ze=0,gn=null,Zi=!1,Ga=yr(n,r),Dd=!1,$a=zn=Md=Fs=qr=lt=0,pi=bl=null,kd=!1,(r&8)!==0&&(r|=r&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=r;0<l;){var h=31-en(l),d=1<<h;r|=n[h],l&=~d}return Ji=r,Qu(),a}function Mv(n,r){xe=null,w.H=mi,r===il?(r=Qg(),Ze=3):r===Gg?(r=Qg(),Ze=4):Ze=r===$y?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,gn=r,Oe===null&&(lt=1,mc(n,Mn(r,n.current)))}function kv(){var n=w.H;return w.H=mi,n===null?mi:n}function Pv(){var n=w.A;return w.A=Mw,n}function Bd(){lt=4,Zi||(je&4194176)!==je&&Vn.current!==null||(Ga=!0),(qr&134217727)===0&&(Fs&134217727)===0||We===null||er(We,je,zn,!1)}function Hd(n,r,a){var l=nt;nt|=2;var h=kv(),d=Pv();(We!==n||je!==r)&&(bc=null,Ka(n,r)),r=!1;var _=lt;e:do try{if(Ze!==0&&Oe!==null){var T=Oe,x=gn;switch(Ze){case 8:zd(),_=6;break e;case 3:case 2:case 6:Vn.current===null&&(r=!0);var L=Ze;if(Ze=0,gn=null,Qa(n,T,x,L),a&&Ga){_=0;break e}break;default:L=Ze,Ze=0,gn=null,Qa(n,T,x,L)}}Vw(),_=lt;break}catch(W){Mv(n,W)}while(!0);return r&&n.shellSuspendCounter++,$i=zs=null,nt=l,w.H=h,w.A=d,Oe===null&&(We=null,je=0,Qu()),_}function Vw(){for(;Oe!==null;)Vv(Oe)}function Lw(n,r){var a=nt;nt|=2;var l=kv(),h=Pv();We!==n||je!==r?(bc=null,Tc=on()+500,Ka(n,r)):Ga=yr(n,r);e:do try{if(Ze!==0&&Oe!==null){r=Oe;var d=gn;t:switch(Ze){case 1:Ze=0,gn=null,Qa(n,r,d,1);break;case 2:if($g(d)){Ze=0,gn=null,Lv(r);break}r=function(){Ze===2&&We===n&&(Ze=7),gi(n)},d.then(r,r);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:$g(d)?(Ze=0,gn=null,Lv(r)):(Ze=0,gn=null,Qa(n,r,d,7));break;case 5:var _=null;switch(Oe.tag){case 26:_=Oe.memoizedState;case 5:case 27:var T=Oe;if(!_||f_(_)){Ze=0,gn=null;var x=T.sibling;if(x!==null)Oe=x;else{var L=T.return;L!==null?(Oe=L,Ac(L)):Oe=null}break t}}Ze=0,gn=null,Qa(n,r,d,5);break;case 6:Ze=0,gn=null,Qa(n,r,d,6);break;case 8:zd(),lt=6;break e;default:throw Error(s(462))}}Uw();break}catch(W){Mv(n,W)}while(!0);return $i=zs=null,w.H=l,w.A=h,nt=a,Oe!==null?0:(We=null,je=0,Qu(),lt)}function Uw(){for(;Oe!==null&&!gf();)Vv(Oe)}function Vv(n){var r=rv(n.alternate,n,Ji);n.memoizedProps=n.pendingProps,r===null?Ac(n):Oe=r}function Lv(n){var r=n,a=r.alternate;switch(r.tag){case 15:case 0:r=Zy(a,r,r.pendingProps,r.type,void 0,je);break;case 11:r=Zy(a,r,r.pendingProps,r.type.render,r.ref,je);break;case 5:$f(r);default:xv(a,r),r=Oe=Rv(r,Ji),r=rv(a,r,Ji)}n.memoizedProps=n.pendingProps,r===null?Ac(n):Oe=r}function Qa(n,r,a,l){$i=zs=null,$f(r),Pa=null,sl=0;var h=r.return;try{if(Rw(n,h,r,a,je)){lt=1,mc(n,Mn(a,n.current)),Oe=null;return}}catch(d){if(h!==null)throw Oe=h,d;lt=1,mc(n,Mn(a,n.current)),Oe=null;return}r.flags&32768?(qe||l===1?n=!0:Ga||(je&536870912)!==0?n=!1:(Zi=n=!0,(l===2||l===3||l===6)&&(l=Vn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Uv(r,n)):Ac(r)}function Ac(n){var r=n;do{if((r.flags&32768)!==0){Uv(r,Zi);return}n=r.return;var a=Ow(r.alternate,r,Ji);if(a!==null){Oe=a;return}if(r=r.sibling,r!==null){Oe=r;return}Oe=r=n}while(r!==null);lt===0&&(lt=5)}function Uv(n,r){do{var a=Dw(n.alternate,n);if(a!==null){a.flags&=32767,Oe=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(n=n.sibling,n!==null)){Oe=n;return}Oe=n=a}while(n!==null);lt=6,Oe=null}function jv(n,r,a,l,h,d,_,T,x,L){var W=w.T,te=le.p;try{le.p=2,w.T=null,jw(n,r,a,l,te,h,d,_,T,x,L)}finally{w.T=W,le.p=te}}function jw(n,r,a,l,h,d,_,T){do Ya();while(Gs!==null);if((nt&6)!==0)throw Error(s(327));var x=n.finishedWork;if(l=n.finishedLanes,x===null)return null;if(n.finishedWork=null,n.finishedLanes=0,x===n.current)throw Error(s(177));n.callbackNode=null,n.callbackPriority=0,n.cancelPendingCommit=null;var L=x.lanes|x.childLanes;if(L|=Of,Iu(n,l,L,d,_,T),n===We&&(Oe=We=null,je=0),(x.subtreeFlags&10256)===0&&(x.flags&10256)===0||wc||(wc=!0,Vd=L,Ld=a,qw(Oi,function(){return Ya(),null})),a=(x.flags&15990)!==0,(x.subtreeFlags&15990)!==0||a?(a=w.T,w.T=null,d=le.p,le.p=2,_=nt,nt|=4,Cw(n,x),_v(x,n),uw(em,n.containerInfo),Lc=!!Jd,em=Jd=null,n.current=x,pv(n,x.alternate,x),Do(),nt=_,le.p=d,w.T=a):n.current=x,wc?(wc=!1,Gs=n,wl=l):zv(n,L),L=n.pendingLanes,L===0&&(Fr=null),ko(x.stateNode),gi(n),r!==null)for(h=n.onRecoverableError,x=0;x<r.length;x++)L=r[x],h(L.value,{componentStack:L.stack});return(wl&3)!==0&&Ya(),L=n.pendingLanes,(l&4194218)!==0&&(L&42)!==0?n===Ud?Sl++:(Sl=0,Ud=n):Sl=0,Al(0),null}function zv(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,ol(r)))}function Ya(){if(Gs!==null){var n=Gs,r=Vd;Vd=0;var a=Cu(wl),l=w.T,h=le.p;try{if(le.p=32>a?32:a,w.T=null,Gs===null)var d=!1;else{a=Ld,Ld=null;var _=Gs,T=wl;if(Gs=null,wl=0,(nt&6)!==0)throw Error(s(331));var x=nt;if(nt|=4,Sv(_.current),Tv(_,_.current,T,a),nt=x,Al(0,!1),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(pr,_)}catch{}d=!0}return d}finally{le.p=h,w.T=l,zv(n,r)}}return!1}function Bv(n,r,a){r=Mn(a,r),r=ad(n.stateNode,r,2),n=Ur(n,r,2),n!==null&&(ft(n,2),gi(n))}function Xe(n,r,a){if(n.tag===3)Bv(n,n,a);else for(;r!==null;){if(r.tag===3){Bv(r,n,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Fr===null||!Fr.has(l))){n=Mn(a,n),a=Fy(2),l=Ur(r,a,2),l!==null&&(Gy(a,l,r,n),ft(l,2),gi(l));break}}r=r.return}}function qd(n,r,a){var l=n.pingCache;if(l===null){l=n.pingCache=new kw;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(Dd=!0,h.add(a),n=zw.bind(null,n,r,a),r.then(n,n))}function zw(n,r,a){var l=n.pingCache;l!==null&&l.delete(r),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,We===n&&(je&a)===a&&(lt===4||lt===3&&(je&62914560)===je&&300>on()-Pd?(nt&2)===0&&Ka(n,0):Md|=a,$a===je&&($a=0)),gi(n)}function Hv(n,r){r===0&&(r=vr()),n=Nr(n,r),n!==null&&(ft(n,r),gi(n))}function Bw(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),Hv(n,a)}function Hw(n,r){var a=0;switch(n.tag){case 13:var l=n.stateNode,h=n.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),Hv(n,a)}function qw(n,r){return ps(n,r)}var Rc=null,Xa=null,Fd=!1,Ic=!1,Gd=!1,$s=0;function gi(n){n!==Xa&&n.next===null&&(Xa===null?Rc=Xa=n:Xa=Xa.next=n),Ic=!0,Fd||(Fd=!0,Gw(Fw))}function Al(n,r){if(!Gd&&Ic){Gd=!0;do for(var a=!1,l=Rc;l!==null;){if(n!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-en(42|n)+1)-1,d&=h&~(_&~T),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(a=!0,Gv(l,d))}else d=je,d=Rn(l,l===We?d:0),(d&3)===0||yr(l,d)||(a=!0,Gv(l,d));l=l.next}while(a);Gd=!1}}function Fw(){Ic=Fd=!1;var n=0;$s!==0&&(Jw()&&(n=$s),$s=0);for(var r=on(),a=null,l=Rc;l!==null;){var h=l.next,d=qv(l,r);d===0?(l.next=null,a===null?Rc=h:a.next=h,h===null&&(Xa=a)):(a=l,(n!==0||(d&3)!==0)&&(Ic=!0)),l=h}Al(n)}function qv(n,r){for(var a=n.suspendedLanes,l=n.pingedLanes,h=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var _=31-en(d),T=1<<_,x=h[_];x===-1?((T&a)===0||(T&l)!==0)&&(h[_]=ma(T,r)):x<=r&&(n.expiredLanes|=T),d&=~T}if(r=We,a=je,a=Rn(n,n===r?a:0),l=n.callbackNode,a===0||n===r&&Ze===2||n.cancelPendingCommit!==null)return l!==null&&l!==null&&da(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||yr(n,a)){if(r=a&-a,r===n.callbackPriority)return r;switch(l!==null&&da(l),Cu(a)){case 2:case 8:a=xt;break;case 32:a=Oi;break;case 268435456:a=Mo;break;default:a=Oi}return l=Fv.bind(null,n),a=ps(a,l),n.callbackPriority=r,n.callbackNode=a,r}return l!==null&&l!==null&&da(l),n.callbackPriority=2,n.callbackNode=null,2}function Fv(n,r){var a=n.callbackNode;if(Ya()&&n.callbackNode!==a)return null;var l=je;return l=Rn(n,n===We?l:0),l===0?null:(Ov(n,l,r),qv(n,on()),n.callbackNode!=null&&n.callbackNode===a?Fv.bind(null,n):null)}function Gv(n,r){if(Ya())return null;Ov(n,r,!0)}function Gw(n){tS(function(){(nt&6)!==0?ps(Et,n):n()})}function $d(){return $s===0&&($s=Vo()),$s}function $v(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:si(""+n)}function Kv(n,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,n.id&&a.setAttribute("form",n.id),r.parentNode.insertBefore(a,r),n=new FormData(n),a.parentNode.removeChild(a),n}function $w(n,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var d=$v((h[Tt]||null).action),_=l.submitter;_&&(r=(r=_[Tt]||null)?$v(r.formAction):_.getAttribute("formAction"),r!==null&&(d=r,_=null));var T=new Ta("action","action",null,l,h);n.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if($s!==0){var x=_?Kv(h,_):new FormData(h);td(a,{pending:!0,data:x,method:h.method,action:d},null,x)}}else typeof d=="function"&&(T.preventDefault(),x=_?Kv(h,_):new FormData(h),td(a,{pending:!0,data:x,method:h.method,action:d},d,x))},currentTarget:h}]})}}for(var Kd=0;Kd<jg.length;Kd++){var Qd=jg[Kd],Kw=Qd.toLowerCase(),Qw=Qd[0].toUpperCase()+Qd.slice(1);$n(Kw,"on"+Qw)}$n(kg,"onAnimationEnd"),$n(Pg,"onAnimationIteration"),$n(Vg,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n(hw,"onTransitionRun"),$n(fw,"onTransitionStart"),$n(dw,"onTransitionCancel"),$n(Lg,"onTransitionEnd"),ln("onMouseEnter",["mouseout","mouseover"]),ln("onMouseLeave",["mouseout","mouseover"]),ln("onPointerEnter",["pointerout","pointerover"]),ln("onPointerLeave",["pointerout","pointerover"]),hn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hn("onBeforeInput",["compositionend","keypress","textInput","paste"]),hn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rl));function Qv(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],h=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var _=l.length-1;0<=_;_--){var T=l[_],x=T.instance,L=T.currentTarget;if(T=T.listener,x!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=L;try{d(h)}catch(W){dc(W)}h.currentTarget=null,d=x}else for(_=0;_<l.length;_++){if(T=l[_],x=T.instance,L=T.currentTarget,T=T.listener,x!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=L;try{d(h)}catch(W){dc(W)}h.currentTarget=null,d=x}}}}function Pe(n,r){var a=r[ys];a===void 0&&(a=r[ys]=new Set);var l=n+"__bubble";a.has(l)||(Yv(r,n,2,!1),a.add(l))}function Yd(n,r,a){var l=0;r&&(l|=4),Yv(a,n,l,r)}var Cc="_reactListening"+Math.random().toString(36).slice(2);function Xd(n){if(!n[Cc]){n[Cc]=!0,Uo.forEach(function(a){a!=="selectionchange"&&(Yw.has(a)||Yd(a,!1,n),Yd(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[Cc]||(r[Cc]=!0,Yd("selectionchange",!1,r))}}function Yv(n,r,a,l){switch(v_(r)){case 2:var h=TS;break;case 8:h=bS;break;default:h=um}a=h.bind(null,r,a,n),h=void 0,!Nn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?n.addEventListener(r,a,{capture:!0,passive:h}):n.addEventListener(r,a,!0):h!==void 0?n.addEventListener(r,a,{passive:h}):n.addEventListener(r,a,!1)}function Wd(n,r,a,l,h){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h||T.nodeType===8&&T.parentNode===h)break;if(_===4)for(_=l.return;_!==null;){var x=_.tag;if((x===3||x===4)&&(x=_.stateNode.containerInfo,x===h||x.nodeType===8&&x.parentNode===h))return;_=_.return}for(;T!==null;){if(_=Gn(T),_===null)return;if(x=_.tag,x===5||x===6||x===26||x===27){l=d=_;continue e}T=T.parentNode}}l=l.return}Mu(function(){var L=d,W=Ea(a),te=[];e:{var F=Ug.get(n);if(F!==void 0){var Y=Ta,pe=n;switch(n){case"keypress":if(oi(a)===0)break e;case"keydown":case"keyup":Y=Ia;break;case"focusin":pe="focus",Y=Sa;break;case"focusout":pe="blur",Y=Sa;break;case"beforeblur":case"afterblur":Y=Sa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=On;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=wf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=Bu;break;case kg:case Pg:case Vg:Y=Aa;break;case Lg:Y=qu;break;case"scroll":case"scrollend":Y=ku;break;case"wheel":Y=Ca;break;case"copy":case"cut":case"paste":Y=Ra;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Xo;break;case"toggle":case"beforetoggle":Y=Gu}var Ae=(r&4)!==0,ut=!Ae&&(n==="scroll"||n==="scrollend"),z=Ae?F!==null?F+"Capture":null:F;Ae=[];for(var V=L,q;V!==null;){var Z=V;if(q=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||q===null||z===null||(Z=bs(V,z),Z!=null&&Ae.push(Il(V,Z,q))),ut)break;V=V.return}0<Ae.length&&(F=new Y(F,pe,null,a,W),te.push({event:F,listeners:Ae}))}}if((r&7)===0){e:{if(F=n==="mouseover"||n==="pointerover",Y=n==="mouseout"||n==="pointerout",F&&a!==xn&&(pe=a.relatedTarget||a.fromElement)&&(Gn(pe)||pe[Di]))break e;if((Y||F)&&(F=W.window===W?W:(F=W.ownerDocument)?F.defaultView||F.parentWindow:window,Y?(pe=a.relatedTarget||a.toElement,Y=L,pe=pe?Gn(pe):null,pe!==null&&(ut=me(pe),Ae=pe.tag,pe!==ut||Ae!==5&&Ae!==27&&Ae!==6)&&(pe=null)):(Y=null,pe=L),Y!==pe)){if(Ae=On,Z="onMouseLeave",z="onMouseEnter",V="mouse",(n==="pointerout"||n==="pointerover")&&(Ae=Xo,Z="onPointerLeave",z="onPointerEnter",V="pointer"),ut=Y==null?F:wr(Y),q=pe==null?F:wr(pe),F=new Ae(Z,V+"leave",Y,a,W),F.target=ut,F.relatedTarget=q,Z=null,Gn(W)===L&&(Ae=new Ae(z,V+"enter",pe,a,W),Ae.target=q,Ae.relatedTarget=ut,Z=Ae),ut=Z,Y&&pe)t:{for(Ae=Y,z=pe,V=0,q=Ae;q;q=Wa(q))V++;for(q=0,Z=z;Z;Z=Wa(Z))q++;for(;0<V-q;)Ae=Wa(Ae),V--;for(;0<q-V;)z=Wa(z),q--;for(;V--;){if(Ae===z||z!==null&&Ae===z.alternate)break t;Ae=Wa(Ae),z=Wa(z)}Ae=null}else Ae=null;Y!==null&&Xv(te,F,Y,Ae,!1),pe!==null&&ut!==null&&Xv(te,ut,pe,Ae,!0)}}e:{if(F=L?wr(L):window,Y=F.nodeName&&F.nodeName.toLowerCase(),Y==="select"||Y==="input"&&F.type==="file")var he=wg;else if(wt(F))if(Sg)he=ow;else{he=sw;var Ne=rw}else Y=F.nodeName,!Y||Y.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?L&&qo(L.elementType)&&(he=wg):he=aw;if(he&&(he=he(n,L))){zi(te,he,a,W);break e}Ne&&Ne(n,F,L),n==="focusout"&&L&&F.type==="number"&&L.memoizedProps.value!=null&&_a(F,"number",F.value)}switch(Ne=L?wr(L):window,n){case"focusin":(wt(Ne)||Ne.contentEditable==="true")&&(xa=Ne,Cf=L,Jo=null);break;case"focusout":Jo=Cf=xa=null;break;case"mousedown":xf=!0;break;case"contextmenu":case"mouseup":case"dragend":xf=!1,Dg(te,a,W);break;case"selectionchange":if(cw)break;case"keydown":case"keyup":Dg(te,a,W)}var ye;if(ci)e:{switch(n){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else Le?G(n,a)&&(Te="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Te="onCompositionStart");Te&&(v&&a.locale!=="ko"&&(Le||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&Le&&(ye=Go()):(ai=W,xr="value"in ai?ai.value:ai.textContent,Le=!0)),Ne=xc(L,Te),0<Ne.length&&(Te=new Qo(Te,n,null,a,W),te.push({event:Te,listeners:Ne}),ye?Te.data=ye:(ye=se(a),ye!==null&&(Te.data=ye)))),(ye=y?bt(n,a):Ue(n,a))&&(Te=xc(L,"onBeforeInput"),0<Te.length&&(Ne=new Qo("onBeforeInput","beforeinput",null,a,W),te.push({event:Ne,listeners:Te}),Ne.data=ye)),$w(te,n,L,a,W)}Qv(te,r)})}function Il(n,r,a){return{instance:n,listener:r,currentTarget:a}}function xc(n,r){for(var a=r+"Capture",l=[];n!==null;){var h=n,d=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=bs(n,a),h!=null&&l.unshift(Il(n,h,d)),h=bs(n,r),h!=null&&l.push(Il(n,h,d))),n=n.return}return l}function Wa(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Xv(n,r,a,l,h){for(var d=r._reactName,_=[];a!==null&&a!==l;){var T=a,x=T.alternate,L=T.stateNode;if(T=T.tag,x!==null&&x===l)break;T!==5&&T!==26&&T!==27||L===null||(x=L,h?(L=bs(a,d),L!=null&&_.unshift(Il(a,L,x))):h||(L=bs(a,d),L!=null&&_.push(Il(a,L,x)))),a=a.return}_.length!==0&&n.push({event:r,listeners:_})}var Xw=/\r\n?/g,Ww=/\u0000|\uFFFD/g;function Wv(n){return(typeof n=="string"?n:""+n).replace(Xw,`
`).replace(Ww,"")}function Zv(n,r){return r=Wv(r),Wv(n)===r}function Nc(){}function Ye(n,r,a,l,h,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Cn(n,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Cn(n,""+l);break;case"className":Rr(n,"class",l);break;case"tabIndex":Rr(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Rr(n,a,l);break;case"style":Du(n,l,d);break;case"data":if(r!=="object"){Rr(n,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=si(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&Ye(n,r,"name",h.name,h,null),Ye(n,r,"formEncType",h.formEncType,h,null),Ye(n,r,"formMethod",h.formMethod,h,null),Ye(n,r,"formTarget",h.formTarget,h,null)):(Ye(n,r,"encType",h.encType,h,null),Ye(n,r,"method",h.method,h,null),Ye(n,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=si(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=Nc);break;case"onScroll":l!=null&&Pe("scroll",n);break;case"onScrollEnd":l!=null&&Pe("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=si(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Pe("beforetoggle",n),Pe("toggle",n),Ar(n,"popover",l);break;case"xlinkActuate":In(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":In(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":In(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":In(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":In(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":In(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":In(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":In(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":In(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ar(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Tf.get(a)||a,Ar(n,a,l))}}function Zd(n,r,a,l,h,d){switch(a){case"style":Du(n,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?Cn(n,l):(typeof l=="number"||typeof l=="bigint")&&Cn(n,""+l);break;case"onScroll":l!=null&&Pe("scroll",n);break;case"onScrollEnd":l!=null&&Pe("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Nc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ya.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),d=n[Tt]||null,d=d!=null?d[a]:null,typeof d=="function"&&n.removeEventListener(r,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(r,l,h);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):Ar(n,a,l)}}}function Bt(n,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",n),Pe("load",n);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ye(n,r,d,_,a,null)}}h&&Ye(n,r,"srcSet",a.srcSet,a,null),l&&Ye(n,r,"src",a.src,a,null);return;case"input":Pe("invalid",n);var T=d=_=h=null,x=null,L=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":h=W;break;case"type":_=W;break;case"checked":x=W;break;case"defaultChecked":L=W;break;case"value":d=W;break;case"defaultValue":T=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:Ye(n,r,l,W,a,null)}}Es(n,d,T,x,L,_,h,!1),_s(n);return;case"select":Pe("invalid",n),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:Ye(n,r,h,T,a,null)}r=d,a=_,n.multiple=!!l,r!=null?He(n,!!l,r,!1):a!=null&&He(n,!!l,a,!0);return;case"textarea":Pe("invalid",n),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Ye(n,r,_,T,a,null)}Cr(n,l,h,d),_s(n);return;case"option":for(x in a)if(a.hasOwnProperty(x)&&(l=a[x],l!=null))switch(x){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ye(n,r,x,l,a,null)}return;case"dialog":Pe("cancel",n),Pe("close",n);break;case"iframe":case"object":Pe("load",n);break;case"video":case"audio":for(l=0;l<Rl.length;l++)Pe(Rl[l],n);break;case"image":Pe("error",n),Pe("load",n);break;case"details":Pe("toggle",n);break;case"embed":case"source":case"link":Pe("error",n),Pe("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in a)if(a.hasOwnProperty(L)&&(l=a[L],l!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ye(n,r,L,l,a,null)}return;default:if(qo(r)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&Zd(n,r,W,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Ye(n,r,T,l,a,null))}function Zw(n,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,x=null,L=null,W=null;for(Y in a){var te=a[Y];if(a.hasOwnProperty(Y)&&te!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":x=te;default:l.hasOwnProperty(Y)||Ye(n,r,Y,null,l,te)}}for(var F in l){var Y=l[F];if(te=a[F],l.hasOwnProperty(F)&&(Y!=null||te!=null))switch(F){case"type":d=Y;break;case"name":h=Y;break;case"checked":L=Y;break;case"defaultChecked":W=Y;break;case"value":_=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:Y!==te&&Ye(n,r,F,Y,l,te)}}Ir(n,_,T,x,L,W,d,h);return;case"select":Y=_=T=F=null;for(d in a)if(x=a[d],a.hasOwnProperty(d)&&x!=null)switch(d){case"value":break;case"multiple":Y=x;default:l.hasOwnProperty(d)||Ye(n,r,d,null,l,x)}for(h in l)if(d=l[h],x=a[h],l.hasOwnProperty(h)&&(d!=null||x!=null))switch(h){case"value":F=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==x&&Ye(n,r,h,d,l,x)}r=T,a=_,l=Y,F!=null?He(n,!!a,F,!1):!!l!=!!a&&(r!=null?He(n,!!a,r,!0):He(n,!!a,a?[]:"",!1));return;case"textarea":Y=F=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Ye(n,r,T,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":F=h;break;case"defaultValue":Y=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Ye(n,r,_,h,l,d)}Ts(n,F,Y);return;case"option":for(var pe in a)if(F=a[pe],a.hasOwnProperty(pe)&&F!=null&&!l.hasOwnProperty(pe))switch(pe){case"selected":n.selected=!1;break;default:Ye(n,r,pe,null,l,F)}for(x in l)if(F=l[x],Y=a[x],l.hasOwnProperty(x)&&F!==Y&&(F!=null||Y!=null))switch(x){case"selected":n.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:Ye(n,r,x,F,l,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in a)F=a[Ae],a.hasOwnProperty(Ae)&&F!=null&&!l.hasOwnProperty(Ae)&&Ye(n,r,Ae,null,l,F);for(L in l)if(F=l[L],Y=a[L],l.hasOwnProperty(L)&&F!==Y&&(F!=null||Y!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,r));break;default:Ye(n,r,L,F,l,Y)}return;default:if(qo(r)){for(var ut in a)F=a[ut],a.hasOwnProperty(ut)&&F!==void 0&&!l.hasOwnProperty(ut)&&Zd(n,r,ut,void 0,l,F);for(W in l)F=l[W],Y=a[W],!l.hasOwnProperty(W)||F===Y||F===void 0&&Y===void 0||Zd(n,r,W,F,l,Y);return}}for(var z in a)F=a[z],a.hasOwnProperty(z)&&F!=null&&!l.hasOwnProperty(z)&&Ye(n,r,z,null,l,F);for(te in l)F=l[te],Y=a[te],!l.hasOwnProperty(te)||F===Y||F==null&&Y==null||Ye(n,r,te,F,l,Y)}var Jd=null,em=null;function Oc(n){return n.nodeType===9?n:n.ownerDocument}function Jv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function e_(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function tm(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var nm=null;function Jw(){var n=window.event;return n&&n.type==="popstate"?n===nm?!1:(nm=n,!0):(nm=null,!1)}var t_=typeof setTimeout=="function"?setTimeout:void 0,eS=typeof clearTimeout=="function"?clearTimeout:void 0,n_=typeof Promise=="function"?Promise:void 0,tS=typeof queueMicrotask=="function"?queueMicrotask:typeof n_<"u"?function(n){return n_.resolve(null).then(n).catch(nS)}:t_;function nS(n){setTimeout(function(){throw n})}function im(n,r){var a=r,l=0;do{var h=a.nextSibling;if(n.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(l===0){n.removeChild(h),Pl(r);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=h}while(a);Pl(r)}function rm(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":rm(a),vs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function iS(n,r,a,l){for(;n.nodeType===1;){var h=a;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[br])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==h.rel||n.getAttribute("href")!==(h.href==null?null:h.href)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||n.getAttribute("title")!==(h.title==null?null:h.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(h.src==null?null:h.src)||n.getAttribute("type")!==(h.type==null?null:h.type)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=Yn(n.nextSibling),n===null)break}return null}function rS(n,r,a){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Yn(n.nextSibling),n===null))return null;return n}function Yn(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}function i_(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return n;r--}else a==="/$"&&r++}n=n.previousSibling}return null}function r_(n,r,a){switch(r=Oc(a),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}var Bn=new Map,s_=new Set;function Dc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.ownerDocument}var tr=le.d;le.d={f:sS,r:aS,D:oS,C:lS,L:uS,m:cS,X:fS,S:hS,M:dS};function sS(){var n=tr.f(),r=Sc();return n||r}function aS(n){var r=Mi(n);r!==null&&r.tag===5&&r.type==="form"?Dy(r):tr.r(n)}var Za=typeof document>"u"?null:document;function a_(n,r,a){var l=Za;if(l&&typeof r=="string"&&r){var h=at(r);h='link[rel="'+n+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),s_.has(h)||(s_.add(h),n={rel:n,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),Bt(r,"link",n),et(r),l.head.appendChild(r)))}}function oS(n){tr.D(n),a_("dns-prefetch",n,null)}function lS(n,r){tr.C(n,r),a_("preconnect",n,r)}function uS(n,r,a){tr.L(n,r,a);var l=Za;if(l&&n&&r){var h='link[rel="preload"][as="'+at(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+at(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+at(a.imageSizes)+'"]')):h+='[href="'+at(n)+'"]';var d=h;switch(r){case"style":d=Ja(n);break;case"script":d=eo(n)}Bn.has(d)||(n=A({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:n,as:r},a),Bn.set(d,n),l.querySelector(h)!==null||r==="style"&&l.querySelector(Cl(d))||r==="script"&&l.querySelector(xl(d))||(r=l.createElement("link"),Bt(r,"link",n),et(r),l.head.appendChild(r)))}}function cS(n,r){tr.m(n,r);var a=Za;if(a&&n){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+at(l)+'"][href="'+at(n)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=eo(n)}if(!Bn.has(d)&&(n=A({rel:"modulepreload",href:n},r),Bn.set(d,n),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(xl(d)))return}l=a.createElement("link"),Bt(l,"link",n),et(l),a.head.appendChild(l)}}}function hS(n,r,a){tr.S(n,r,a);var l=Za;if(l&&n){var h=Sr(l).hoistableStyles,d=Ja(n);r=r||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(Cl(d)))T.loading=5;else{n=A({rel:"stylesheet",href:n,"data-precedence":r},a),(a=Bn.get(d))&&sm(n,a);var x=_=l.createElement("link");et(x),Bt(x,"link",n),x._p=new Promise(function(L,W){x.onload=L,x.onerror=W}),x.addEventListener("load",function(){T.loading|=1}),x.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Mc(_,r,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function fS(n,r){tr.X(n,r);var a=Za;if(a&&n){var l=Sr(a).hoistableScripts,h=eo(n),d=l.get(h);d||(d=a.querySelector(xl(h)),d||(n=A({src:n,async:!0},r),(r=Bn.get(h))&&am(n,r),d=a.createElement("script"),et(d),Bt(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function dS(n,r){tr.M(n,r);var a=Za;if(a&&n){var l=Sr(a).hoistableScripts,h=eo(n),d=l.get(h);d||(d=a.querySelector(xl(h)),d||(n=A({src:n,async:!0,type:"module"},r),(r=Bn.get(h))&&am(n,r),d=a.createElement("script"),et(d),Bt(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function o_(n,r,a,l){var h=(h=An.current)?Dc(h):null;if(!h)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Ja(a.href),a=Sr(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=Ja(a.href);var d=Sr(h).hoistableStyles,_=d.get(n);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,_),(d=h.querySelector(Cl(n)))&&!d._p&&(_.instance=d,_.state.loading=5),Bn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Bn.set(n,a),d||mS(h,n,a,_.state))),r&&l===null)throw Error(s(528,""));return _}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=eo(a),a=Sr(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function Ja(n){return'href="'+at(n)+'"'}function Cl(n){return'link[rel="stylesheet"]['+n+"]"}function l_(n){return A({},n,{"data-precedence":n.precedence,precedence:null})}function mS(n,r,a,l){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=n.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Bt(r,"link",a),et(r),n.head.appendChild(r))}function eo(n){return'[src="'+at(n)+'"]'}function xl(n){return"script[async]"+n}function u_(n,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=n.querySelector('style[data-href~="'+at(a.href)+'"]');if(l)return r.instance=l,et(l),l;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),et(l),Bt(l,"style",h),Mc(l,a.precedence,n),r.instance=l;case"stylesheet":h=Ja(a.href);var d=n.querySelector(Cl(h));if(d)return r.state.loading|=4,r.instance=d,et(d),d;l=l_(a),(h=Bn.get(h))&&sm(l,h),d=(n.ownerDocument||n).createElement("link"),et(d);var _=d;return _._p=new Promise(function(T,x){_.onload=T,_.onerror=x}),Bt(d,"link",l),r.state.loading|=4,Mc(d,a.precedence,n),r.instance=d;case"script":return d=eo(a.src),(h=n.querySelector(xl(d)))?(r.instance=h,et(h),h):(l=a,(h=Bn.get(d))&&(l=A({},a),am(l,h)),n=n.ownerDocument||n,h=n.createElement("script"),et(h),Bt(h,"link",l),n.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Mc(l,a.precedence,n));return r.instance}function Mc(n,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===r)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(n,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(n,r.firstChild))}function sm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function am(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var kc=null;function c_(n,r,a){if(kc===null){var l=new Map,h=kc=new Map;h.set(a,l)}else h=kc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),h=0;h<a.length;h++){var d=a[h];if(!(d[br]||d[Nt]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(r)||"";_=n+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function h_(n,r,a){n=n.ownerDocument||n,n.head.insertBefore(a,r==="title"?n.querySelector("head > title"):null)}function pS(n,r,a){if(a===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function f_(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Nl=null;function gS(){}function yS(n,r,a){if(Nl===null)throw Error(s(475));var l=Nl;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Ja(a.href),d=n.querySelector(Cl(h));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=Pc.bind(l),n.then(l,l)),r.state.loading|=4,r.instance=d,et(d);return}d=n.ownerDocument||n,a=l_(a),(h=Bn.get(h))&&sm(a,h),d=d.createElement("link"),et(d);var _=d;_._p=new Promise(function(T,x){_.onload=T,_.onerror=x}),Bt(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Pc.bind(l),n.addEventListener("load",r),n.addEventListener("error",r))}}function vS(){if(Nl===null)throw Error(s(475));var n=Nl;return n.stylesheets&&n.count===0&&om(n,n.stylesheets),0<n.count?function(r){var a=setTimeout(function(){if(n.stylesheets&&om(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(a)}}:null}function Pc(){if(this.count--,this.count===0){if(this.stylesheets)om(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Vc=null;function om(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Vc=new Map,r.forEach(_S,n),Vc=null,Pc.call(n))}function _S(n,r){if(!(r.state.loading&4)){var a=Vc.get(n);if(a)var l=a.get(null);else{a=new Map,Vc.set(n,a);for(var h=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=r.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Pc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(h,n.firstChild)),r.state.loading|=4}}var Ol={$$typeof:O,Provider:null,Consumer:null,_currentValue:we,_currentValue2:we,_threadCount:0};function ES(n,r,a,l,h,d,_,T){this.tag=1,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pa(0),this.hiddenUpdates=pa(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function d_(n,r,a,l,h,d,_,T,x,L,W,te){return n=new ES(n,r,a,_,T,x,L,te),r=1,d===!0&&(r|=24),d=jn(3,null,null,r),n.current=d,d.stateNode=n,r=jf(),r.refCount++,n.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},_d(d),n}function m_(n){return n?(n=Da,n):Da}function p_(n,r,a,l,h,d){h=m_(h),l.context===null?l.context=h:l.pendingContext=h,l=Lr(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Ur(n,l,r),a!==null&&(sn(a,n,r),ml(a,n,r))}function g_(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function lm(n,r){g_(n,r),(n=n.alternate)&&g_(n,r)}function y_(n){if(n.tag===13){var r=Nr(n,67108864);r!==null&&sn(r,n,67108864),lm(n,67108864)}}var Lc=!0;function TS(n,r,a,l){var h=w.T;w.T=null;var d=le.p;try{le.p=2,um(n,r,a,l)}finally{le.p=d,w.T=h}}function bS(n,r,a,l){var h=w.T;w.T=null;var d=le.p;try{le.p=8,um(n,r,a,l)}finally{le.p=d,w.T=h}}function um(n,r,a,l){if(Lc){var h=cm(l);if(h===null)Wd(n,r,l,Uc,a),__(n,l);else if(SS(h,n,r,a,l))l.stopPropagation();else if(__(n,l),r&4&&-1<wS.indexOf(n)){for(;h!==null;){var d=Mi(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=Fn(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var x=1<<31-en(_);T.entanglements[1]|=x,_&=~x}gi(d),(nt&6)===0&&(Tc=on()+500,Al(0))}}break;case 13:T=Nr(d,2),T!==null&&sn(T,d,2),Sc(),lm(d,2)}if(d=cm(l),d===null&&Wd(n,r,l,Uc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Wd(n,r,l,null,a)}}function cm(n){return n=Ea(n),hm(n)}var Uc=null;function hm(n){if(Uc=null,n=Gn(n),n!==null){var r=me(n);if(r===null)n=null;else{var a=r.tag;if(a===13){if(n=De(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return Uc=n,null}function v_(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(wu()){case Et:return 2;case xt:return 8;case Oi:case Su:return 32;case Mo:return 268435456;default:return 32}default:return 32}}var fm=!1,Gr=null,$r=null,Kr=null,Dl=new Map,Ml=new Map,Qr=[],wS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function __(n,r){switch(n){case"focusin":case"focusout":Gr=null;break;case"dragenter":case"dragleave":$r=null;break;case"mouseover":case"mouseout":Kr=null;break;case"pointerover":case"pointerout":Dl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ml.delete(r.pointerId)}}function kl(n,r,a,l,h,d){return n===null||n.nativeEvent!==d?(n={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},r!==null&&(r=Mi(r),r!==null&&y_(r)),n):(n.eventSystemFlags|=l,r=n.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),n)}function SS(n,r,a,l,h){switch(r){case"focusin":return Gr=kl(Gr,n,r,a,l,h),!0;case"dragenter":return $r=kl($r,n,r,a,l,h),!0;case"mouseover":return Kr=kl(Kr,n,r,a,l,h),!0;case"pointerover":var d=h.pointerId;return Dl.set(d,kl(Dl.get(d)||null,n,r,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Ml.set(d,kl(Ml.get(d)||null,n,r,a,l,h)),!0}return!1}function E_(n){var r=Gn(n.target);if(r!==null){var a=me(r);if(a!==null){if(r=a.tag,r===13){if(r=De(a),r!==null){n.blockedOn=r,Tr(n.priority,function(){if(a.tag===13){var l=yn(),h=Nr(a,l);h!==null&&sn(h,a,l),lm(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function jc(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=cm(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);xn=l,a.target.dispatchEvent(l),xn=null}else return r=Mi(a),r!==null&&y_(r),n.blockedOn=a,!1;r.shift()}return!0}function T_(n,r,a){jc(n)&&a.delete(r)}function AS(){fm=!1,Gr!==null&&jc(Gr)&&(Gr=null),$r!==null&&jc($r)&&($r=null),Kr!==null&&jc(Kr)&&(Kr=null),Dl.forEach(T_),Ml.forEach(T_)}function zc(n,r){n.blockedOn===r&&(n.blockedOn=null,fm||(fm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,AS)))}var Bc=null;function b_(n){Bc!==n&&(Bc=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Bc===n&&(Bc=null);for(var r=0;r<n.length;r+=3){var a=n[r],l=n[r+1],h=n[r+2];if(typeof l!="function"){if(hm(l||a)===null)continue;break}var d=Mi(a);d!==null&&(n.splice(r,3),r-=3,td(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Pl(n){function r(x){return zc(x,n)}Gr!==null&&zc(Gr,n),$r!==null&&zc($r,n),Kr!==null&&zc(Kr,n),Dl.forEach(r),Ml.forEach(r);for(var a=0;a<Qr.length;a++){var l=Qr[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Qr.length&&(a=Qr[0],a.blockedOn===null);)E_(a),a.blockedOn===null&&Qr.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Tt]||null;if(typeof d=="function")_||b_(a);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Tt]||null)T=_.formAction;else if(hm(h)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),b_(a)}}}function dm(n){this._internalRoot=n}Hc.prototype.render=dm.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=yn();p_(a,l,n,r,null,null)},Hc.prototype.unmount=dm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;n.tag===0&&Ya(),p_(n.current,2,null,n,null,null),Sc(),r[Di]=null}};function Hc(n){this._internalRoot=n}Hc.prototype.unstable_scheduleHydration=function(n){if(n){var r=xu();n={blockedOn:null,target:n,priority:r};for(var a=0;a<Qr.length&&r!==0&&r<Qr[a].priority;a++);Qr.splice(a,0,n),a===0&&E_(n)}};var w_=e.version;if(w_!=="19.0.0")throw Error(s(527,w_,"19.0.0"));le.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=K(r),n=n!==null?ae(n):null,n=n===null?null:n.stateNode,n};var RS={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:w,findFiberByHostInstance:Gn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qc.isDisabled&&qc.supportsFiber)try{pr=qc.inject(RS),$t=qc}catch{}}return Ll.createRoot=function(n,r){if(!o(n))throw Error(s(299));var a=!1,l="",h=zy,d=By,_=Hy,T=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(T=r.unstable_transitionCallbacks)),r=d_(n,1,!1,null,null,a,l,h,d,_,T,null),n[Di]=r.current,Xd(n.nodeType===8?n.parentNode:n),new dm(r)},Ll.hydrateRoot=function(n,r,a){if(!o(n))throw Error(s(299));var l=!1,h="",d=zy,_=By,T=Hy,x=null,L=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(x=a.unstable_transitionCallbacks),a.formState!==void 0&&(L=a.formState)),r=d_(n,1,!0,r,a??null,l,h,d,_,T,x,L),r.context=m_(null),a=r.current,l=yn(),h=Lr(l),h.callback=null,Ur(a,h,l),r.current.lanes=l,ft(r,l),gi(r),n[Di]=r.current,Xd(n),new Hc(r)},Ll.version="19.0.0",Ll}var M_;function VS(){if(M_)return gm.exports;M_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),gm.exports=PS(),gm.exports}var LS=VS(),Ul={},k_;function US(){if(k_)return Ul;k_=1,Object.defineProperty(Ul,"__esModule",{value:!0}),Ul.parse=f,Ul.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const I=function(){};return I.prototype=Object.create(null),I})();function f(I,O){const U=new u,$=I.length;if($<2)return U;const B=(O==null?void 0:O.decode)||E;let X=0;do{const ee=I.indexOf("=",X);if(ee===-1)break;const Q=I.indexOf(";",X),ue=Q===-1?$:Q;if(ee>ue){X=I.lastIndexOf(";",ee-1)+1;continue}const re=m(I,X,ee),fe=p(I,ee,re),D=I.slice(re,fe);if(U[D]===void 0){let C=m(I,ee+1,ue),w=p(I,ue,C);const A=B(I.slice(C,w));U[D]=A}X=ue+1}while(X<$);return U}function m(I,O,U){do{const $=I.charCodeAt(O);if($!==32&&$!==9)return O}while(++O<U);return U}function p(I,O,U){for(;O>U;){const $=I.charCodeAt(--O);if($!==32&&$!==9)return O+1}return U}function g(I,O,U){const $=(U==null?void 0:U.encode)||encodeURIComponent;if(!i.test(I))throw new TypeError(`argument name is invalid: ${I}`);const B=$(O);if(!e.test(B))throw new TypeError(`argument val is invalid: ${O}`);let X=I+"="+B;if(!U)return X;if(U.maxAge!==void 0){if(!Number.isInteger(U.maxAge))throw new TypeError(`option maxAge is invalid: ${U.maxAge}`);X+="; Max-Age="+U.maxAge}if(U.domain){if(!t.test(U.domain))throw new TypeError(`option domain is invalid: ${U.domain}`);X+="; Domain="+U.domain}if(U.path){if(!s.test(U.path))throw new TypeError(`option path is invalid: ${U.path}`);X+="; Path="+U.path}if(U.expires){if(!S(U.expires)||!Number.isFinite(U.expires.valueOf()))throw new TypeError(`option expires is invalid: ${U.expires}`);X+="; Expires="+U.expires.toUTCString()}if(U.httpOnly&&(X+="; HttpOnly"),U.secure&&(X+="; Secure"),U.partitioned&&(X+="; Partitioned"),U.priority)switch(typeof U.priority=="string"?U.priority.toLowerCase():void 0){case"low":X+="; Priority=Low";break;case"medium":X+="; Priority=Medium";break;case"high":X+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${U.priority}`)}if(U.sameSite)switch(typeof U.sameSite=="string"?U.sameSite.toLowerCase():U.sameSite){case!0:case"strict":X+="; SameSite=Strict";break;case"lax":X+="; SameSite=Lax";break;case"none":X+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${U.sameSite}`)}return X}function E(I){if(I.indexOf("%")===-1)return I;try{return decodeURIComponent(I)}catch{return I}}function S(I){return o.call(I)==="[object Date]"}return Ul}US();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var P_="popstate";function jS(i={}){function e(o,u){let{pathname:f="/",search:m="",hash:p=""}=ra(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),qm("",{pathname:f,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function t(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:eu(u))}function s(o,u){Wn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return BS(e,t,s,i)}function it(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Wn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function zS(){return Math.random().toString(36).substring(2,10)}function V_(i,e){return{usr:i.state,key:i.key,idx:e}}function qm(i,e,t=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?ra(e):e,state:t,key:e&&e.key||s||zS()}}function eu({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function ra(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function BS(i,e,t,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function S(){m="POP";let B=E(),X=B==null?null:B-g;g=B,p&&p({action:m,location:$.location,delta:X})}function I(B,X){m="PUSH";let ee=qm($.location,B,X);t&&t(ee,B),g=E()+1;let Q=V_(ee,g),ue=$.createHref(ee);try{f.pushState(Q,"",ue)}catch(re){if(re instanceof DOMException&&re.name==="DataCloneError")throw re;o.location.assign(ue)}u&&p&&p({action:m,location:$.location,delta:1})}function O(B,X){m="REPLACE";let ee=qm($.location,B,X);t&&t(ee,B),g=E();let Q=V_(ee,g),ue=$.createHref(ee);f.replaceState(Q,"",ue),u&&p&&p({action:m,location:$.location,delta:0})}function U(B){let X=o.location.origin!=="null"?o.location.origin:o.location.href,ee=typeof B=="string"?B:eu(B);return ee=ee.replace(/ $/,"%20"),it(X,`No window.location.(origin|href) available to create URL for href: ${ee}`),new URL(ee,X)}let $={get action(){return m},get location(){return i(o,f)},listen(B){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(P_,S),p=B,()=>{o.removeEventListener(P_,S),p=null}},createHref(B){return e(o,B)},createURL:U,encodeLocation(B){let X=U(B);return{pathname:X.pathname,search:X.search,hash:X.hash}},push:I,replace:O,go(B){return f.go(B)}};return $}function UE(i,e,t="/"){return HS(i,e,t,!1)}function HS(i,e,t,s){let o=typeof e=="string"?ra(e):e,u=as(o.pathname||"/",t);if(u==null)return null;let f=jE(i);qS(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=e2(u);m=ZS(f[p],g,s)}return m}function jE(i,e=[],t=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(it(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=sr([s,p.relativePath]),E=t.concat(p);u.children&&u.children.length>0&&(it(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),jE(u.children,e,E,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:XS(g,u.index),routesMeta:E})};return i.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of zE(u.path))o(u,f,p)}),e}function zE(i){let e=i.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=zE(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function qS(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:WS(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var FS=/^:[\w-]+$/,GS=3,$S=2,KS=1,QS=10,YS=-2,L_=i=>i==="*";function XS(i,e){let t=i.split("/"),s=t.length;return t.some(L_)&&(s+=YS),e&&(s+=$S),t.filter(o=>!L_(o)).reduce((o,u)=>o+(FS.test(u)?GS:u===""?KS:QS),s)}function WS(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function ZS(i,e,t=!1){let{routesMeta:s}=i,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",S=hh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),I=p.route;if(!S&&g&&t&&!s[s.length-1].route.index&&(S=hh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!S)return null;Object.assign(o,S.params),f.push({params:o,pathname:sr([u,S.pathname]),pathnameBase:r2(sr([u,S.pathnameBase])),route:I}),S.pathnameBase!=="/"&&(u=sr([u,S.pathnameBase]))}return f}function hh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,s]=JS(i.path,i.caseSensitive,i.end),o=e.match(t);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:S},I)=>{if(E==="*"){let U=m[I]||"";f=u.slice(0,u.length-U.length).replace(/(.)\/+$/,"$1")}const O=m[I];return S&&!O?g[E]=void 0:g[E]=(O||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:i}}function JS(i,e=!1,t=!0){Wn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function e2(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Wn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function as(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=i.charAt(t);return s&&s!=="/"?null:i.slice(t)||"/"}function t2(i,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof i=="string"?ra(i):i;return{pathname:t?t.startsWith("/")?t:n2(t,e):e,search:s2(s),hash:a2(o)}}function n2(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Em(i,e,t,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function i2(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function BE(i){let e=i2(i);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function HE(i,e,t,s=!1){let o;typeof i=="string"?o=ra(i):(o={...i},it(!o.pathname||!o.pathname.includes("?"),Em("?","pathname","search",o)),it(!o.pathname||!o.pathname.includes("#"),Em("#","pathname","hash",o)),it(!o.search||!o.search.includes("#"),Em("#","search","hash",o)));let u=i===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=t;else{let S=e.length-1;if(!s&&f.startsWith("..")){let I=f.split("/");for(;I[0]==="..";)I.shift(),S-=1;o.pathname=I.join("/")}m=S>=0?e[S]:"/"}let p=t2(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var sr=i=>i.join("/").replace(/\/\/+/g,"/"),r2=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),s2=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,a2=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function o2(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var qE=["POST","PUT","PATCH","DELETE"];new Set(qE);var l2=["GET",...qE];new Set(l2);var Ao=P.createContext(null);Ao.displayName="DataRouter";var jh=P.createContext(null);jh.displayName="DataRouterState";var FE=P.createContext({isTransitioning:!1});FE.displayName="ViewTransition";var u2=P.createContext(new Map);u2.displayName="Fetchers";var c2=P.createContext(null);c2.displayName="Await";var Ri=P.createContext(null);Ri.displayName="Navigation";var cu=P.createContext(null);cu.displayName="Location";var hr=P.createContext({outlet:null,matches:[],isDataRoute:!1});hr.displayName="Route";var Ep=P.createContext(null);Ep.displayName="RouteError";function h2(i,{relative:e}={}){it(hu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=P.useContext(Ri),{hash:o,pathname:u,search:f}=fu(i,{relative:e}),m=u;return t!=="/"&&(m=u==="/"?t:sr([t,u])),s.createHref({pathname:m,search:f,hash:o})}function hu(){return P.useContext(cu)!=null}function Ii(){return it(hu(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(cu).location}var GE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function $E(i){P.useContext(Ri).static||P.useLayoutEffect(i)}function zh(){let{isDataRoute:i}=P.useContext(hr);return i?S2():f2()}function f2(){it(hu(),"useNavigate() may be used only in the context of a <Router> component.");let i=P.useContext(Ao),{basename:e,navigator:t}=P.useContext(Ri),{matches:s}=P.useContext(hr),{pathname:o}=Ii(),u=JSON.stringify(BE(s)),f=P.useRef(!1);return $E(()=>{f.current=!0}),P.useCallback((p,g={})=>{if(Wn(f.current,GE),!f.current)return;if(typeof p=="number"){t.go(p);return}let E=HE(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:sr([e,E.pathname])),(g.replace?t.replace:t.push)(E,g.state,g)},[e,t,u,o,i])}P.createContext(null);function fu(i,{relative:e}={}){let{matches:t}=P.useContext(hr),{pathname:s}=Ii(),o=JSON.stringify(BE(t));return P.useMemo(()=>HE(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function d2(i,e){return KE(i,e)}function KE(i,e,t,s){var ee;it(hu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=P.useContext(Ri),{matches:f}=P.useContext(hr),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",S=m&&m.route;{let Q=S&&S.path||"";QE(g,!S||Q.endsWith("*")||Q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${Q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Q}"> to <Route path="${Q==="/"?"*":`${Q}/*`}">.`)}let I=Ii(),O;if(e){let Q=typeof e=="string"?ra(e):e;it(E==="/"||((ee=Q.pathname)==null?void 0:ee.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${Q.pathname}" was given in the \`location\` prop.`),O=Q}else O=I;let U=O.pathname||"/",$=U;if(E!=="/"){let Q=E.replace(/^\//,"").split("/");$="/"+U.replace(/^\//,"").split("/").slice(Q.length).join("/")}let B=!u&&t&&t.matches&&t.matches.length>0?t.matches:UE(i,{pathname:$});Wn(S||B!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),Wn(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let X=v2(B&&B.map(Q=>Object.assign({},Q,{params:Object.assign({},p,Q.params),pathname:sr([E,o.encodeLocation?o.encodeLocation(Q.pathname).pathname:Q.pathname]),pathnameBase:Q.pathnameBase==="/"?E:sr([E,o.encodeLocation?o.encodeLocation(Q.pathnameBase).pathname:Q.pathnameBase])})),f,t,s);return e&&X?P.createElement(cu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},X):X}function m2(){let i=w2(),e=o2(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:u},"ErrorBoundary")," or"," ",P.createElement("code",{style:u},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),t?P.createElement("pre",{style:o},t):null,f)}var p2=P.createElement(m2,null),g2=class extends P.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?P.createElement(hr.Provider,{value:this.props.routeContext},P.createElement(Ep.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function y2({routeContext:i,match:e,children:t}){let s=P.useContext(Ao);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(hr.Provider,{value:i},t)}function v2(i,e=[],t=null,s=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let o=i,u=t==null?void 0:t.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);it(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(t)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:E,errors:S}=t,I=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!S||S[g.route.id]===void 0);if(g.route.lazy||I){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,E)=>{let S,I=!1,O=null,U=null;t&&(S=u&&g.route.id?u[g.route.id]:void 0,O=g.route.errorElement||p2,f&&(m<0&&E===0?(QE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,U=null):m===E&&(I=!0,U=g.route.hydrateFallbackElement||null)));let $=e.concat(o.slice(0,E+1)),B=()=>{let X;return S?X=O:I?X=U:g.route.Component?X=P.createElement(g.route.Component,null):g.route.element?X=g.route.element:X=p,P.createElement(y2,{match:g,routeContext:{outlet:p,matches:$,isDataRoute:t!=null},children:X})};return t&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?P.createElement(g2,{location:t.location,revalidation:t.revalidation,component:O,error:S,children:B(),routeContext:{outlet:null,matches:$,isDataRoute:!0}}):B()},null)}function Tp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _2(i){let e=P.useContext(Ao);return it(e,Tp(i)),e}function E2(i){let e=P.useContext(jh);return it(e,Tp(i)),e}function T2(i){let e=P.useContext(hr);return it(e,Tp(i)),e}function bp(i){let e=T2(i),t=e.matches[e.matches.length-1];return it(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function b2(){return bp("useRouteId")}function w2(){var s;let i=P.useContext(Ep),e=E2("useRouteError"),t=bp("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[t]}function S2(){let{router:i}=_2("useNavigate"),e=bp("useNavigate"),t=P.useRef(!1);return $E(()=>{t.current=!0}),P.useCallback(async(o,u={})=>{Wn(t.current,GE),t.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var U_={};function QE(i,e,t){!e&&!U_[i]&&(U_[i]=!0,Wn(!1,t))}P.memo(A2);function A2({routes:i,future:e,state:t}){return KE(i,void 0,t,e)}function Ks(i){it(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function R2({basename:i="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:u=!1}){it(!hu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),m=P.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof t=="string"&&(t=ra(t));let{pathname:p="/",search:g="",hash:E="",state:S=null,key:I="default"}=t,O=P.useMemo(()=>{let U=as(p,f);return U==null?null:{location:{pathname:U,search:g,hash:E,state:S,key:I},navigationType:s}},[f,p,g,E,S,I,s]);return Wn(O!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:P.createElement(Ri.Provider,{value:m},P.createElement(cu.Provider,{children:e,value:O}))}function I2({children:i,location:e}){return d2(Fm(i),e)}function Fm(i,e=[]){let t=[];return P.Children.forEach(i,(s,o)=>{if(!P.isValidElement(s))return;let u=[...e,o];if(s.type===P.Fragment){t.push.apply(t,Fm(s.props.children,u));return}it(s.type===Ks,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),it(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Fm(s.props.children,u)),t.push(f)}),t}var Jc="get",eh="application/x-www-form-urlencoded";function Bh(i){return i!=null&&typeof i.tagName=="string"}function C2(i){return Bh(i)&&i.tagName.toLowerCase()==="button"}function x2(i){return Bh(i)&&i.tagName.toLowerCase()==="form"}function N2(i){return Bh(i)&&i.tagName.toLowerCase()==="input"}function O2(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function D2(i,e){return i.button===0&&(!e||e==="_self")&&!O2(i)}var Fc=null;function M2(){if(Fc===null)try{new FormData(document.createElement("form"),0),Fc=!1}catch{Fc=!0}return Fc}var k2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Tm(i){return i!=null&&!k2.has(i)?(Wn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${eh}"`),null):i}function P2(i,e){let t,s,o,u,f;if(x2(i)){let m=i.getAttribute("action");s=m?as(m,e):null,t=i.getAttribute("method")||Jc,o=Tm(i.getAttribute("enctype"))||eh,u=new FormData(i)}else if(C2(i)||N2(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?as(p,e):null,t=i.getAttribute("formmethod")||m.getAttribute("method")||Jc,o=Tm(i.getAttribute("formenctype"))||Tm(m.getAttribute("enctype"))||eh,u=new FormData(m,i),!M2()){let{name:g,type:E,value:S}=i;if(E==="image"){let I=g?`${g}.`:"";u.append(`${I}x`,"0"),u.append(`${I}y`,"0")}else g&&u.append(g,S)}}else{if(Bh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Jc,s=null,o=eh,f=i}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:u,body:f}}function wp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function V2(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function L2(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function U2(i,e,t){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await V2(u,t);return f.links?f.links():[]}return[]}));return H2(s.flat(1).filter(L2).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function j_(i,e,t,s,o,u){let f=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,m=(p,g)=>{var E;return t[g].pathname!==p.pathname||((E=t[g].route.path)==null?void 0:E.endsWith("*"))&&t[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var S;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let I=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((S=t[0])==null?void 0:S.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof I=="boolean")return I}return!0}):[]}function j2(i,e,{includeHydrateFallback:t}={}){return z2(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function z2(i){return[...new Set(i)]}function B2(i){let e={},t=Object.keys(i).sort();for(let s of t)e[s]=i[s];return e}function H2(i,e){let t=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(B2(o));return t.has(u)||(t.add(u),s.push({key:u,link:o})),s},[])}function q2(i){let e=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function F2(){let i=P.useContext(Ao);return wp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function G2(){let i=P.useContext(jh);return wp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Sp=P.createContext(void 0);Sp.displayName="FrameworkContext";function YE(){let i=P.useContext(Sp);return wp(i,"You must render this element inside a <HydratedRouter> element"),i}function $2(i,e){let t=P.useContext(Sp),[s,o]=P.useState(!1),[u,f]=P.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:S}=e,I=P.useRef(null);P.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let $=X=>{X.forEach(ee=>{f(ee.isIntersecting)})},B=new IntersectionObserver($,{threshold:.5});return I.current&&B.observe(I.current),()=>{B.disconnect()}}},[i]),P.useEffect(()=>{if(s){let $=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout($)}}},[s]);let O=()=>{o(!0)},U=()=>{o(!1),f(!1)};return t?i!=="intent"?[u,I,{}]:[u,I,{onFocus:jl(m,O),onBlur:jl(p,U),onMouseEnter:jl(g,O),onMouseLeave:jl(E,U),onTouchStart:jl(S,O)}]:[!1,I,{}]}function jl(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function K2({page:i,...e}){let{router:t}=F2(),s=P.useMemo(()=>UE(t.routes,i,t.basename),[t.routes,i,t.basename]);return s?P.createElement(Y2,{page:i,matches:s,...e}):null}function Q2(i){let{manifest:e,routeModules:t}=YE(),[s,o]=P.useState([]);return P.useEffect(()=>{let u=!1;return U2(i,e,t).then(f=>{u||o(f)}),()=>{u=!0}},[i,e,t]),s}function Y2({page:i,matches:e,...t}){let s=Ii(),{manifest:o,routeModules:u}=YE(),{loaderData:f,matches:m}=G2(),p=P.useMemo(()=>j_(i,e,m,o,s,"data"),[i,e,m,o,s]),g=P.useMemo(()=>j_(i,e,m,o,s,"assets"),[i,e,m,o,s]),E=P.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let O=new Set,U=!1;if(e.forEach(B=>{var ee;let X=o.routes[B.route.id];!X||!X.hasLoader||(!p.some(Q=>Q.route.id===B.route.id)&&B.route.id in f&&((ee=u[B.route.id])!=null&&ee.shouldRevalidate)||X.hasClientLoader?U=!0:O.add(B.route.id))}),O.size===0)return[];let $=q2(i);return U&&O.size>0&&$.searchParams.set("_routes",e.filter(B=>O.has(B.route.id)).map(B=>B.route.id).join(",")),[$.pathname+$.search]},[f,s,o,p,e,i,u]),S=P.useMemo(()=>j2(g,o),[g,o]),I=Q2(g);return P.createElement(P.Fragment,null,E.map(O=>P.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...t})),S.map(O=>P.createElement("link",{key:O,rel:"modulepreload",href:O,...t})),I.map(({key:O,link:U})=>P.createElement("link",{key:O,...U})))}function X2(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var XE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{XE&&(window.__reactRouterVersion="7.2.0")}catch{}function W2({basename:i,children:e,window:t}){let s=P.useRef();s.current==null&&(s.current=jS({window:t,v5Compat:!0}));let o=s.current,[u,f]=P.useState({action:o.action,location:o.location}),m=P.useCallback(p=>{P.startTransition(()=>f(p))},[f]);return P.useLayoutEffect(()=>o.listen(m),[o,m]),P.createElement(R2,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var WE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vn=P.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:E,viewTransition:S,...I},O){let{basename:U}=P.useContext(Ri),$=typeof g=="string"&&WE.test(g),B,X=!1;if(typeof g=="string"&&$&&(B=g,XE))try{let w=new URL(window.location.href),A=g.startsWith("//")?new URL(w.protocol+g):new URL(g),M=as(A.pathname,U);A.origin===w.origin&&M!=null?g=M+A.search+A.hash:X=!0}catch{Wn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ee=h2(g,{relative:o}),[Q,ue,re]=$2(s,I),fe=tA(g,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:S});function D(w){e&&e(w),w.defaultPrevented||fe(w)}let C=P.createElement("a",{...I,...re,href:B||ee,onClick:X||u?e:D,ref:X2(O,ue),target:p,"data-discover":!$&&t==="render"?"true":void 0});return Q&&!$?P.createElement(P.Fragment,null,C,P.createElement(K2,{page:ee})):C});vn.displayName="Link";var Z2=P.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},E){let S=fu(f,{relative:g.relative}),I=Ii(),O=P.useContext(jh),{navigator:U,basename:$}=P.useContext(Ri),B=O!=null&&aA(S)&&m===!0,X=U.encodeLocation?U.encodeLocation(S).pathname:S.pathname,ee=I.pathname,Q=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;t||(ee=ee.toLowerCase(),Q=Q?Q.toLowerCase():null,X=X.toLowerCase()),Q&&$&&(Q=as(Q,$)||Q);const ue=X!=="/"&&X.endsWith("/")?X.length-1:X.length;let re=ee===X||!o&&ee.startsWith(X)&&ee.charAt(ue)==="/",fe=Q!=null&&(Q===X||!o&&Q.startsWith(X)&&Q.charAt(X.length)==="/"),D={isActive:re,isPending:fe,isTransitioning:B},C=re?e:void 0,w;typeof s=="function"?w=s(D):w=[s,re?"active":null,fe?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let A=typeof u=="function"?u(D):u;return P.createElement(vn,{...g,"aria-current":C,className:w,ref:E,style:A,to:f,viewTransition:m},typeof p=="function"?p(D):p)});Z2.displayName="NavLink";var J2=P.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:u,method:f=Jc,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:S,...I},O)=>{let U=rA(),$=sA(m,{relative:g}),B=f.toLowerCase()==="get"?"get":"post",X=typeof m=="string"&&WE.test(m),ee=Q=>{if(p&&p(Q),Q.defaultPrevented)return;Q.preventDefault();let ue=Q.nativeEvent.submitter,re=(ue==null?void 0:ue.getAttribute("formmethod"))||f;U(ue||Q.currentTarget,{fetcherKey:e,method:re,navigate:t,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:S})};return P.createElement("form",{ref:O,method:B,action:$,onSubmit:s?p:ee,...I,"data-discover":!X&&i==="render"?"true":void 0})});J2.displayName="Form";function eA(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ZE(i){let e=P.useContext(Ao);return it(e,eA(i)),e}function tA(i,{target:e,replace:t,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=zh(),p=Ii(),g=fu(i,{relative:u});return P.useCallback(E=>{if(D2(E,e)){E.preventDefault();let S=t!==void 0?t:eu(p)===eu(g);m(i,{replace:S,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,t,s,e,i,o,u,f])}var nA=0,iA=()=>`__${String(++nA)}__`;function rA(){let{router:i}=ZE("useSubmit"),{basename:e}=P.useContext(Ri),t=b2();return P.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=P2(s,e);if(o.navigate===!1){let E=o.fetcherKey||iA();await i.fetch(E,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,t])}function sA(i,{relative:e}={}){let{basename:t}=P.useContext(Ri),s=P.useContext(hr);it(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...fu(i||".",{relative:e})},f=Ii();if(i==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(S=>S).forEach(S=>m.append("index",S));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:sr([t,u.pathname])),eu(u)}function aA(i,e={}){let t=P.useContext(FE);it(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=ZE("useViewTransitionState"),o=fu(i,{relative:e.relative});if(!t.isTransitioning)return!1;let u=as(t.currentLocation.pathname,s)||t.currentLocation.pathname,f=as(t.nextLocation.pathname,s)||t.nextLocation.pathname;return hh(o.pathname,f)!=null||hh(o.pathname,u)!=null}new TextEncoder;/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oA=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),JE=(...i)=>i.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var lA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uA=P.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:f,...m},p)=>P.createElement("svg",{ref:p,...lA,width:e,height:e,stroke:i,strokeWidth:s?Number(t)*24/Number(e):t,className:JE("lucide",o),...m},[...f.map(([g,E])=>P.createElement(g,E)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=(i,e)=>{const t=P.forwardRef(({className:s,...o},u)=>P.createElement(uA,{ref:u,iconNode:e,className:JE(`lucide-${oA(i)}`,s),...o}));return t.displayName=`${i}`,t};/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],hA=Lt("ArrowRight",cA);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fA=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],dA=Lt("CircleCheckBig",fA);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mA=[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]],eT=Lt("Code",mA);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pA=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],gA=Lt("EyeOff",pA);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yA=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],vA=Lt("Eye",yA);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _A=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],EA=Lt("FileText",_A);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],bA=Lt("Info",TA);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wA=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],SA=Lt("Lock",wA);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AA=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],z_=Lt("LogIn",AA);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RA=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],IA=Lt("Mail",RA);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CA=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],xA=Lt("Maximize",CA);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NA=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],OA=Lt("Menu",NA);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DA=[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]],MA=Lt("Minimize",DA);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kA=[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]],PA=Lt("Terminal",kA);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VA=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],LA=Lt("TrendingUp",VA);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UA=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],jA=Lt("UserCheck",UA);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zA=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Gm=Lt("User",zA);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],HA=Lt("X",BA);var B_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},qA=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const o=i[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[t++],f=i[t++],m=i[t++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[t++],f=i[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},nT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,m=f?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,E=u>>2,S=(u&3)<<4|m>>4;let I=(m&15)<<2|g>>6,O=g&63;p||(O=64,f||(I=64)),s.push(t[E],t[S],t[I],t[O])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(tT(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):qA(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=t[i.charAt(o++)],m=o<i.length?t[i.charAt(o)]:0;++o;const g=o<i.length?t[i.charAt(o)]:64;++o;const S=o<i.length?t[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||S==null)throw new FA;const I=u<<2|m>>4;if(s.push(I),g!==64){const O=m<<4&240|g>>2;if(s.push(O),S!==64){const U=g<<6&192|S;s.push(U)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class FA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const GA=function(i){const e=tT(i);return nT.encodeByteArray(e,!0)},fh=function(i){return GA(i).replace(/\./g,"")},iT=function(i){try{return nT.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA=()=>$A().__FIREBASE_DEFAULTS__,QA=()=>{if(typeof process>"u"||typeof B_>"u")return;const i=B_.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},YA=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&iT(i[1]);return e&&JSON.parse(e)},Hh=()=>{try{return KA()||QA()||YA()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},rT=i=>{var e,t;return(t=(e=Hh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[i]},XA=i=>{const e=rT(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},sT=()=>{var i;return(i=Hh())===null||i===void 0?void 0:i.config},aT=i=>{var e;return(e=Hh())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZA(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[fh(JSON.stringify(t)),fh(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function JA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())}function eR(){var i;const e=(i=Hh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function oT(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function nR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function iR(){const i=Zt();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function rR(){return!eR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lT(){try{return typeof indexedDB=="object"}catch{return!1}}function uT(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}function sR(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR="FirebaseError";class ei extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=aR,Object.setPrototypeOf(this,ei.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sa.prototype.create)}}class sa{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?oR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new ei(o,m,s)}}function oR(i,e){return i.replace(lR,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const lR=/\{\$([^}]+)}/g;function uR(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function po(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=i[o],f=e[o];if(H_(u)&&H_(f)){if(!po(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function H_(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function du(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function zl(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Bl(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function cR(i,e){const t=new hR(i,e);return t.subscribe.bind(t)}class hR{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");fR(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=bm),o.error===void 0&&(o.error=bm),o.complete===void 0&&(o.complete=bm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fR(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function bm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR=1e3,mR=2,pR=4*60*60*1e3,gR=.5;function q_(i,e=dR,t=mR){const s=e*Math.pow(t,i),o=Math.round(gR*s*(Math.random()-.5)*2);return Math.min(pR,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(i){return i&&i._delegate?i._delegate:i}class Zn{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new WA;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_R(e))try{this.getOrInitializeService({instanceIdentifier:Qs})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Qs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qs){return this.instances.has(e)}getOptions(e=Qs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:vR(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Qs){return this.component?this.component.multipleInstances?e:Qs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vR(i){return i===Qs?void 0:i}function _R(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new yR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Me||(Me={}));const TR={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},bR=Me.INFO,wR={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},SR=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=wR[e];if(o)console[o](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class qh{constructor(e){this.name=e,this._logLevel=bR,this._logHandler=SR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?TR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const AR=(i,e)=>e.some(t=>i instanceof t);let F_,G_;function RR(){return F_||(F_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function IR(){return G_||(G_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cT=new WeakMap,$m=new WeakMap,hT=new WeakMap,wm=new WeakMap,Ap=new WeakMap;function CR(i){const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{t(ns(i.result)),o()},f=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(t=>{t instanceof IDBCursor&&cT.set(t,i)}).catch(()=>{}),Ap.set(e,i),e}function xR(i){if($m.has(i))return;const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{t(),o()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});$m.set(i,e)}let Km={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return $m.get(i);if(e==="objectStoreNames")return i.objectStoreNames||hT.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ns(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function NR(i){Km=i(Km)}function OR(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(Sm(this),e,...t);return hT.set(s,e.sort?e.sort():[e]),ns(s)}:IR().includes(i)?function(...e){return i.apply(Sm(this),e),ns(cT.get(this))}:function(...e){return ns(i.apply(Sm(this),e))}}function DR(i){return typeof i=="function"?OR(i):(i instanceof IDBTransaction&&xR(i),AR(i,RR())?new Proxy(i,Km):i)}function ns(i){if(i instanceof IDBRequest)return CR(i);if(wm.has(i))return wm.get(i);const e=DR(i);return e!==i&&(wm.set(i,e),Ap.set(e,i)),e}const Sm=i=>Ap.get(i);function fT(i,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(i,e),m=ns(f);return s&&f.addEventListener("upgradeneeded",p=>{s(ns(f.result),p.oldVersion,p.newVersion,ns(f.transaction),p)}),t&&f.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const MR=["get","getKey","getAll","getAllKeys","count"],kR=["put","add","delete","clear"],Am=new Map;function $_(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Am.get(e))return Am.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=kR.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||MR.includes(t)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[t](...m),o&&p.done]))[0]};return Am.set(e,u),u}NR(i=>({...i,get:(e,t,s)=>$_(e,t)||i.get(e,t,s),has:(e,t)=>!!$_(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(VR(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function VR(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Qm="@firebase/app",K_="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const or=new qh("@firebase/app"),LR="@firebase/app-compat",UR="@firebase/analytics-compat",jR="@firebase/analytics",zR="@firebase/app-check-compat",BR="@firebase/app-check",HR="@firebase/auth",qR="@firebase/auth-compat",FR="@firebase/database",GR="@firebase/data-connect",$R="@firebase/database-compat",KR="@firebase/functions",QR="@firebase/functions-compat",YR="@firebase/installations",XR="@firebase/installations-compat",WR="@firebase/messaging",ZR="@firebase/messaging-compat",JR="@firebase/performance",eI="@firebase/performance-compat",tI="@firebase/remote-config",nI="@firebase/remote-config-compat",iI="@firebase/storage",rI="@firebase/storage-compat",sI="@firebase/firestore",aI="@firebase/vertexai",oI="@firebase/firestore-compat",lI="firebase",uI="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym="[DEFAULT]",cI={[Qm]:"fire-core",[LR]:"fire-core-compat",[jR]:"fire-analytics",[UR]:"fire-analytics-compat",[BR]:"fire-app-check",[zR]:"fire-app-check-compat",[HR]:"fire-auth",[qR]:"fire-auth-compat",[FR]:"fire-rtdb",[GR]:"fire-data-connect",[$R]:"fire-rtdb-compat",[KR]:"fire-fn",[QR]:"fire-fn-compat",[YR]:"fire-iid",[XR]:"fire-iid-compat",[WR]:"fire-fcm",[ZR]:"fire-fcm-compat",[JR]:"fire-perf",[eI]:"fire-perf-compat",[tI]:"fire-rc",[nI]:"fire-rc-compat",[iI]:"fire-gcs",[rI]:"fire-gcs-compat",[sI]:"fire-fst",[oI]:"fire-fst-compat",[aI]:"fire-vertex","fire-js":"fire-js",[lI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh=new Map,hI=new Map,Xm=new Map;function Q_(i,e){try{i.container.addComponent(e)}catch(t){or.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function wi(i){const e=i.name;if(Xm.has(e))return or.debug(`There were multiple attempts to register component ${e}.`),!1;Xm.set(e,i);for(const t of dh.values())Q_(t,i);for(const t of hI.values())Q_(t,i);return!0}function aa(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function En(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},is=new sa("app","Firebase",fI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Zn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw is.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro=uI;function dT(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Ym,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw is.create("bad-app-name",{appName:String(o)});if(t||(t=sT()),!t)throw is.create("no-options");const u=dh.get(o);if(u){if(po(t,u.options)&&po(s,u.config))return u;throw is.create("duplicate-app",{appName:o})}const f=new ER(o);for(const p of Xm.values())f.addComponent(p);const m=new dI(t,s,f);return dh.set(o,m),m}function Rp(i=Ym){const e=dh.get(i);if(!e&&i===Ym&&sT())return dT();if(!e)throw is.create("no-app",{appName:i});return e}function Hn(i,e,t){var s;let o=(s=cI[i])!==null&&s!==void 0?s:i;t&&(o+=`-${t}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),or.warn(m.join(" "));return}wi(new Zn(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI="firebase-heartbeat-database",pI=1,tu="firebase-heartbeat-store";let Rm=null;function mT(){return Rm||(Rm=fT(mI,pI,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(tu)}catch(t){console.warn(t)}}}}).catch(i=>{throw is.create("idb-open",{originalErrorMessage:i.message})})),Rm}async function gI(i){try{const t=(await mT()).transaction(tu),s=await t.objectStore(tu).get(pT(i));return await t.done,s}catch(e){if(e instanceof ei)or.warn(e.message);else{const t=is.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});or.warn(t.message)}}}async function Y_(i,e){try{const s=(await mT()).transaction(tu,"readwrite");await s.objectStore(tu).put(e,pT(i)),await s.done}catch(t){if(t instanceof ei)or.warn(t.message);else{const s=is.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});or.warn(s.message)}}}function pT(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI=1024,vI=30;class _I{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new TI(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=X_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>vI){const f=bI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){or.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=X_(),{heartbeatsToSend:s,unsentEntries:o}=EI(this._heartbeatsCache.heartbeats),u=fh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return or.warn(t),""}}}function X_(){return new Date().toISOString().substring(0,10)}function EI(i,e=yI){const t=[];let s=i.slice();for(const o of i){const u=t.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),W_(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),W_(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class TI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lT()?uT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await gI(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Y_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Y_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function W_(i){return fh(JSON.stringify({version:2,heartbeats:i})).length}function bI(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let s=1;s<i.length;s++)i[s].date<t&&(t=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wI(i){wi(new Zn("platform-logger",e=>new PR(e),"PRIVATE")),wi(new Zn("heartbeat",e=>new _I(e),"PRIVATE")),Hn(Qm,K_,i),Hn(Qm,K_,"esm2017"),Hn("fire-js","")}wI("");function Ip(i,e){var t={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(t[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(t[s[o]]=i[s[o]]);return t}function gT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const SI=gT,yT=new sa("auth","Firebase",gT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mh=new qh("@firebase/auth");function AI(i,...e){mh.logLevel<=Me.WARN&&mh.warn(`Auth (${Ro}): ${i}`,...e)}function th(i,...e){mh.logLevel<=Me.ERROR&&mh.error(`Auth (${Ro}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(i,...e){throw Cp(i,...e)}function vi(i,...e){return Cp(i,...e)}function vT(i,e,t){const s=Object.assign(Object.assign({},SI()),{[e]:t});return new sa("auth","Firebase",s).create(e,{appName:i.name})}function _i(i){return vT(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Cp(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return yT.create(i,...e)}function ve(i,e,...t){if(!i)throw Cp(e,...t)}function nr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw th(e),new Error(e)}function lr(i,e){i||nr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ph(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function RI(){return Z_()==="http:"||Z_()==="https:"}function Z_(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(RI()||oT()||"connection"in navigator)?navigator.onLine:!0}function CI(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e,t){this.shortDelay=e,this.longDelay=t,lr(t>e,"Short delay should be less than long delay!"),this.isMobile=JA()||nR()}get(){return II()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xp(i,e){lr(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;nr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;nr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;nr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI=new mu(3e4,6e4);function fr(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function Ci(i,e,t,s,o={}){return ET(i,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=du(Object.assign({key:i.config.apiKey},f)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:e,headers:p},u);return tR()||(g.referrerPolicy="no-referrer"),_T.fetch()(TT(i,i.config.apiHost,t,m),g)})}async function ET(i,e,t){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},xI),e);try{const o=new DI(i),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Gc(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gc(i,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Gc(i,"email-already-in-use",f);if(p==="USER_DISABLED")throw Gc(i,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw vT(i,E,g);Jn(i,E)}}catch(o){if(o instanceof ei)throw o;Jn(i,"network-request-failed",{message:String(o)})}}async function pu(i,e,t,s,o={}){const u=await Ci(i,e,t,s,o);return"mfaPendingCredential"in u&&Jn(i,"multi-factor-auth-required",{_serverResponse:u}),u}function TT(i,e,t,s){const o=`${e}${t}?${s}`;return i.config.emulator?xp(i.config,o):`${i.config.apiScheme}://${o}`}function OI(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class DI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(vi(this.auth,"network-request-failed")),NI.get())})}}function Gc(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=vi(i,e,s);return o.customData._tokenResponse=t,o}function J_(i){return i!==void 0&&i.enterprise!==void 0}class MI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return OI(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function kI(i,e){return Ci(i,"GET","/v2/recaptchaConfig",fr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PI(i,e){return Ci(i,"POST","/v1/accounts:delete",e)}async function bT(i,e){return Ci(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function VI(i,e=!1){const t=ht(i),s=await t.getIdToken(e),o=Np(s);ve(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Kl(Im(o.auth_time)),issuedAtTime:Kl(Im(o.iat)),expirationTime:Kl(Im(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Im(i){return Number(i)*1e3}function Np(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return th("JWT malformed, contained fewer than 3 sections"),null;try{const o=iT(t);return o?JSON.parse(o):(th("Failed to decode base64 JWT payload"),null)}catch(o){return th("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function e0(i){const e=Np(i);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function go(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof ei&&LI(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function LI({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kl(this.lastLoginAt),this.creationTime=Kl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gh(i){var e;const t=i.auth,s=await i.getIdToken(),o=await go(i,bT(t,{idToken:s}));ve(o==null?void 0:o.users.length,t,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?wT(u.providerUserInfo):[],m=zI(i.providerData,f),p=i.isAnonymous,g=!(i.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?g:!1,S={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Wm(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(i,S)}async function jI(i){const e=ht(i);await gh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function zI(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function wT(i){return i.map(e=>{var{providerId:t}=e,s=Ip(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BI(i,e){const t=await ET(i,{},async()=>{const s=du({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,f=TT(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",_T.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function HI(i,e){return Ci(i,"POST","/v2/accounts:revokeToken",fr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):e0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const t=e0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await BI(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,f=new lo;return s&&(ve(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(ve(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(ve(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new lo,this.toJSON())}_performRefresh(){return nr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(i,e){ve(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class ir{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,u=Ip(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new UI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Wm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const t=await go(this,this.stsTokenManager.getToken(this.auth,e));return ve(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return VI(this,e)}reload(){return jI(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ir(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await gh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(En(this.auth.app))return Promise.reject(_i(this.auth));const e=await this.getIdToken();return await go(this,PI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,u,f,m,p,g,E;const S=(s=t.displayName)!==null&&s!==void 0?s:void 0,I=(o=t.email)!==null&&o!==void 0?o:void 0,O=(u=t.phoneNumber)!==null&&u!==void 0?u:void 0,U=(f=t.photoURL)!==null&&f!==void 0?f:void 0,$=(m=t.tenantId)!==null&&m!==void 0?m:void 0,B=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,X=(g=t.createdAt)!==null&&g!==void 0?g:void 0,ee=(E=t.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:Q,emailVerified:ue,isAnonymous:re,providerData:fe,stsTokenManager:D}=t;ve(Q&&D,e,"internal-error");const C=lo.fromJSON(this.name,D);ve(typeof Q=="string",e,"internal-error"),Xr(S,e.name),Xr(I,e.name),ve(typeof ue=="boolean",e,"internal-error"),ve(typeof re=="boolean",e,"internal-error"),Xr(O,e.name),Xr(U,e.name),Xr($,e.name),Xr(B,e.name),Xr(X,e.name),Xr(ee,e.name);const w=new ir({uid:Q,auth:e,email:I,emailVerified:ue,displayName:S,isAnonymous:re,photoURL:U,phoneNumber:O,tenantId:$,stsTokenManager:C,createdAt:X,lastLoginAt:ee});return fe&&Array.isArray(fe)&&(w.providerData=fe.map(A=>Object.assign({},A))),B&&(w._redirectEventId=B),w}static async _fromIdTokenResponse(e,t,s=!1){const o=new lo;o.updateFromServerResponse(t);const u=new ir({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await gh(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];ve(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?wT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new lo;m.updateFromIdToken(s);const p=new ir({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Wm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0=new Map;function rr(i){lr(i instanceof Function,"Expected a class definition");let e=t0.get(i);return e?(lr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,t0.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}ST.type="NONE";const n0=ST;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nh(i,e,t){return`firebase:${i}:${e}:${t}`}class uo{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=nh(this.userKey,o.apiKey,u),this.fullPersistenceKey=nh("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ir._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new uo(rr(n0),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||rr(n0);const f=nh(s,e.config.apiKey,e.name);let m=null;for(const g of t)try{const E=await g._get(f);if(E){const S=ir._fromJSON(e,E);g!==u&&(m=S),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new uo(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(t.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new uo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i0(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(CT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(AT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(NT(e))return"Blackberry";if(OT(e))return"Webos";if(RT(e))return"Safari";if((e.includes("chrome/")||IT(e))&&!e.includes("edge/"))return"Chrome";if(xT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function AT(i=Zt()){return/firefox\//i.test(i)}function RT(i=Zt()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function IT(i=Zt()){return/crios\//i.test(i)}function CT(i=Zt()){return/iemobile/i.test(i)}function xT(i=Zt()){return/android/i.test(i)}function NT(i=Zt()){return/blackberry/i.test(i)}function OT(i=Zt()){return/webos/i.test(i)}function Op(i=Zt()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function qI(i=Zt()){var e;return Op(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function FI(){return iR()&&document.documentMode===10}function DT(i=Zt()){return Op(i)||xT(i)||OT(i)||NT(i)||/windows phone/i.test(i)||CT(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MT(i,e=[]){let t;switch(i){case"Browser":t=i0(Zt());break;case"Worker":t=`${i0(Zt())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ro}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $I(i,e={}){return Ci(i,"GET","/v2/passwordPolicy",fr(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI=6;class QI{constructor(e){var t,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=f.minPasswordLength)!==null&&t!==void 0?t:KI,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new r0(this),this.idTokenSubscription=new r0(this),this.beforeStateQueue=new GI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=rr(t)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await uo.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await bT(this,{idToken:e}),s=await ir._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(En(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await gh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=CI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(En(this.app))return Promise.reject(_i(this));const t=e?ht(e):null;return t&&ve(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return En(this.app)?Promise.reject(_i(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return En(this.app)?Promise.reject(_i(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(rr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await $I(this),t=new QI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new sa("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await HI(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&rr(e)||this._popupRedirectResolver;ve(t,this,"argument-error"),this.redirectPersistenceManager=await uo.create(this,[rr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(t);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=MT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(En(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&AI(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function ds(i){return ht(i)}class r0{constructor(e){this.auth=e,this.observer=null,this.addObserver=cR(t=>this.observer=t)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function XI(i){Fh=i}function kT(i){return Fh.loadJS(i)}function WI(){return Fh.recaptchaEnterpriseScript}function ZI(){return Fh.gapiScript}function JI(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class eC{constructor(){this.enterprise=new tC}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class tC{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const nC="recaptcha-enterprise",PT="NO_RECAPTCHA";class iC{constructor(e){this.type=nC,this.auth=ds(e)}async verify(e="verify",t=!1){async function s(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{kI(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new MI(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;J_(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(PT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new eC().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!t&&J_(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=WI();p.length!==0&&(p+=m),kT(p).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function s0(i,e,t,s=!1,o=!1){const u=new iC(i);let f;if(o)f=PT;else try{f=await u.verify(t)}catch{f=await u.verify(t,!0)}const m=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function yh(i,e,t,s,o){var u;if(!((u=i._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await s0(i,e,t,t==="getOobCode");return s(i,f)}else return s(i,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await s0(i,e,t,t==="getOobCode");return s(i,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(i,e){const t=aa(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(po(u,e??{}))return o;Jn(o,"already-initialized")}return t.initialize({options:e})}function sC(i,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(rr);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function aC(i,e,t){const s=ds(i);ve(s._canInitEmulator,s,"emulator-config-failed"),ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=VT(e),{host:f,port:m}=oC(e),p=m===null?"":`:${m}`;s.config.emulator={url:`${u}//${f}${p}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})}),lC()}function VT(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function oC(i){const e=VT(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:a0(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:a0(f)}}}function a0(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function lC(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return nr("not implemented")}_getIdTokenResponse(e){return nr("not implemented")}_linkToIdToken(e,t){return nr("not implemented")}_getReauthenticationResolver(e){return nr("not implemented")}}async function uC(i,e){return Ci(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cC(i,e){return pu(i,"POST","/v1/accounts:signInWithPassword",fr(i,e))}async function hC(i,e){return Ci(i,"POST","/v1/accounts:sendOobCode",fr(i,e))}async function fC(i,e){return hC(i,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dC(i,e){return pu(i,"POST","/v1/accounts:signInWithEmailLink",fr(i,e))}async function mC(i,e){return pu(i,"POST","/v1/accounts:signInWithEmailLink",fr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu extends Dp{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new nu(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new nu(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yh(e,t,"signInWithPassword",cC);case"emailLink":return dC(e,{email:this._email,oobCode:this._password});default:Jn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yh(e,s,"signUpPassword",uC);case"emailLink":return mC(e,{idToken:t,email:this._email,oobCode:this._password});default:Jn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function co(i,e){return pu(i,"POST","/v1/accounts:signInWithIdp",fr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC="http://localhost";class Zs extends Dp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Zs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Jn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,u=Ip(t,["providerId","signInMethod"]);if(!s||!o)return null;const f=new Zs(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const t=this.buildRequest();return co(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,co(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,co(e,t)}buildRequest(){const e={requestUri:pC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=du(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function yC(i){const e=zl(Bl(i)).link,t=e?zl(Bl(e)).deep_link_id:null,s=zl(Bl(i)).deep_link_id;return(s?zl(Bl(s)).link:null)||s||t||e||i}class Gh{constructor(e){var t,s,o,u,f,m;const p=zl(Bl(e)),g=(t=p.apiKey)!==null&&t!==void 0?t:null,E=(s=p.oobCode)!==null&&s!==void 0?s:null,S=gC((o=p.mode)!==null&&o!==void 0?o:null);ve(g&&E&&S,"argument-error"),this.apiKey=g,this.operation=S,this.code=E,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const t=yC(e);try{return new Gh(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(){this.providerId=oa.PROVIDER_ID}static credential(e,t){return nu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=Gh.parseLink(t);return ve(s,"argument-error"),nu._fromEmailAndCode(e,s.code,s.tenantId)}}oa.PROVIDER_ID="password";oa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";oa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu extends LT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends gu{constructor(){super("facebook.com")}static credential(e){return Zs._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wr.credential(e.oauthAccessToken)}catch{return null}}}Wr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Wr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends gu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Zs._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Zr.credential(t,s)}catch{return null}}}Zr.GOOGLE_SIGN_IN_METHOD="google.com";Zr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends gu{constructor(){super("github.com")}static credential(e){return Zs._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Jr.credential(e.oauthAccessToken)}catch{return null}}}Jr.GITHUB_SIGN_IN_METHOD="github.com";Jr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends gu{constructor(){super("twitter.com")}static credential(e,t){return Zs._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return es.credential(t,s)}catch{return null}}}es.TWITTER_SIGN_IN_METHOD="twitter.com";es.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vC(i,e){return pu(i,"POST","/v1/accounts:signUp",fr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await ir._fromIdTokenResponse(e,s,o),f=o0(s);return new Js({user:u,providerId:f,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=o0(s);return new Js({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function o0(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh extends ei{constructor(e,t,s,o){var u;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,vh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new vh(e,t,s,o)}}function UT(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?vh._fromErrorAndOperation(i,u,e,s):u})}async function _C(i,e,t=!1){const s=await go(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return Js._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EC(i,e,t=!1){const{auth:s}=i;if(En(s.app))return Promise.reject(_i(s));const o="reauthenticate";try{const u=await go(i,UT(s,o,e,i),t);ve(u.idToken,s,"internal-error");const f=Np(u.idToken);ve(f,s,"internal-error");const{sub:m}=f;return ve(i.uid===m,s,"user-mismatch"),Js._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Jn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jT(i,e,t=!1){if(En(i.app))return Promise.reject(_i(i));const s="signIn",o=await UT(i,s,e),u=await Js._fromIdTokenResponse(i,s,o);return t||await i._updateCurrentUser(u.user),u}async function zT(i,e){return jT(ds(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(i,e,t){var s;ve(((s=t.url)===null||s===void 0?void 0:s.length)>0,i,"invalid-continue-uri"),ve(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,i,"invalid-dynamic-link-domain"),ve(typeof t.linkDomain>"u"||t.linkDomain.length>0,i,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(ve(t.iOS.bundleId.length>0,i,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(ve(t.android.packageName.length>0,i,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BT(i){const e=ds(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function bC(i,e,t){if(En(i.app))return Promise.reject(_i(i));const s=ds(i),f=await yh(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",vC).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&BT(i),p}),m=await Js._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function wC(i,e,t){return En(i.app)?Promise.reject(_i(i)):zT(ht(i),oa.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&BT(i),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SC(i,e,t){const s=ds(i),o={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function u(f,m){ve(m.handleCodeInApp,s,"argument-error"),m&&TC(s,f,m)}u(o,t),await yh(s,o,"getOobCode",fC)}function AC(i,e){const t=Gh.parseLink(e);return(t==null?void 0:t.operation)==="EMAIL_SIGNIN"}async function RC(i,e,t){if(En(i.app))return Promise.reject(_i(i));const s=ht(i),o=oa.credentialWithLink(e,t||ph());return ve(o._tenantId===(s.tenantId||null),s,"tenant-id-mismatch"),zT(s,o)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IC(i,e){return Ci(i,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l0(i,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const s=ht(i),u={idToken:await s.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},f=await go(s,IC(s.auth,u));s.displayName=f.displayName||null,s.photoURL=f.photoUrl||null;const m=s.providerData.find(({providerId:p})=>p==="password");m&&(m.displayName=s.displayName,m.photoURL=s.photoURL),await s._updateTokensIfNecessary(f)}function CC(i,e,t,s){return ht(i).onIdTokenChanged(e,t,s)}function xC(i,e,t){return ht(i).beforeAuthStateChanged(e,t)}function Mp(i,e,t,s){return ht(i).onAuthStateChanged(e,t,s)}function NC(i){return ht(i).signOut()}const _h="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(_h,"1"),this.storage.removeItem(_h),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC=1e3,DC=10;class qT extends HT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=DT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!t&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);FI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,DC):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},OC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}qT.type="LOCAL";const MC=qT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT extends HT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}FT.type="SESSION";const GT=FT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new $h(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(t.origin,u)),p=await kC(m);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$h.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kp(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=kp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(S){const I=S;if(I.data.eventId===g)switch(I.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(I.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ei(){return window}function VC(i){Ei().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(){return typeof Ei().WorkerGlobalScope<"u"&&typeof Ei().importScripts=="function"}async function LC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function UC(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function jC(){return $T()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT="firebaseLocalStorageDb",zC=1,Eh="firebaseLocalStorage",QT="fbase_key";class yu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Kh(i,e){return i.transaction([Eh],e?"readwrite":"readonly").objectStore(Eh)}function BC(){const i=indexedDB.deleteDatabase(KT);return new yu(i).toPromise()}function Zm(){const i=indexedDB.open(KT,zC);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Eh,{keyPath:QT})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Eh)?e(s):(s.close(),await BC(),e(await Zm()))})})}async function u0(i,e,t){const s=Kh(i,!0).put({[QT]:e,value:t});return new yu(s).toPromise()}async function HC(i,e){const t=Kh(i,!1).get(e),s=await new yu(t).toPromise();return s===void 0?null:s.value}function c0(i,e){const t=Kh(i,!0).delete(e);return new yu(t).toPromise()}const qC=800,FC=3;class YT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Zm(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>FC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $T()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$h._getInstance(jC()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await LC(),!this.activeServiceWorker)return;this.sender=new PC(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||UC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Zm();return await u0(e,_h,"1"),await c0(e,_h),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>u0(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>HC(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>c0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Kh(o,!1).getAll();return new yu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),qC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}YT.type="LOCAL";const GC=YT;new mu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(i,e){return e?rr(e):(ve(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp extends Dp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return co(e,this._buildIdpRequest())}_linkToIdToken(e,t){return co(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return co(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function KC(i){return jT(i.auth,new Pp(i),i.bypassAuthState)}function QC(i){const{auth:e,user:t}=i;return ve(t,e,"internal-error"),EC(t,new Pp(i),i.bypassAuthState)}async function YC(i){const{auth:e,user:t}=i;return ve(t,e,"internal-error"),_C(t,new Pp(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return KC;case"linkViaPopup":case"linkViaRedirect":return YC;case"reauthViaPopup":case"reauthViaRedirect":return QC;default:Jn(this.auth,"internal-error")}}resolve(e){lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC=new mu(2e3,1e4);class ao extends XT{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,ao.currentPopupAction&&ao.currentPopupAction.cancel(),ao.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){lr(this.filter.length===1,"Popup operations only handle one event");const e=kp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(vi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(vi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ao.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,XC.get())};e()}}ao.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC="pendingRedirect",ih=new Map;class ZC extends XT{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=ih.get(this.auth._key());if(!e){try{const s=await JC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}ih.set(this.auth._key(),e)}return this.bypassAuthState||ih.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function JC(i,e){const t=nx(e),s=tx(i);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function ex(i,e){ih.set(i._key(),e)}function tx(i){return rr(i._redirectPersistence)}function nx(i){return nh(WC,i.config.apiKey,i.name)}async function ix(i,e,t=!1){if(En(i.app))return Promise.reject(_i(i));const s=ds(i),o=$C(s,e),f=await new ZC(s,o,t).execute();return f&&!t&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rx=10*60*1e3;class sx{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ax(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!WT(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(vi(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=rx&&this.cachedEventUids.clear(),this.cachedEventUids.has(h0(e))}saveEventToCache(e){this.cachedEventUids.add(h0(e)),this.lastProcessedEventTime=Date.now()}}function h0(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function WT({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function ax(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return WT(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ox(i,e={}){return Ci(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ux=/^https?/;async function cx(i){if(i.config.emulator)return;const{authorizedDomains:e}=await ox(i);for(const t of e)try{if(hx(t))return}catch{}Jn(i,"unauthorized-domain")}function hx(i){const e=ph(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&f.hostname===s}if(!ux.test(t))return!1;if(lx.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fx=new mu(3e4,6e4);function f0(){const i=Ei().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function dx(i){return new Promise((e,t)=>{var s,o,u;function f(){f0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{f0(),t(vi(i,"network-request-failed"))},timeout:fx.get()})}if(!((o=(s=Ei().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Ei().gapi)===null||u===void 0)&&u.load)f();else{const m=JI("iframefcb");return Ei()[m]=()=>{gapi.load?f():t(vi(i,"network-request-failed"))},kT(`${ZI()}?onload=${m}`).catch(p=>t(p))}}).catch(e=>{throw rh=null,e})}let rh=null;function mx(i){return rh=rh||dx(i),rh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px=new mu(5e3,15e3),gx="__/auth/iframe",yx="emulator/auth/iframe",vx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_x=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ex(i){const e=i.config;ve(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?xp(e,yx):`https://${i.config.authDomain}/${gx}`,s={apiKey:e.apiKey,appName:i.name,v:Ro},o=_x.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${du(s).slice(1)}`}async function Tx(i){const e=await mx(i),t=Ei().gapi;return ve(t,i,"internal-error"),e.open({where:document.body,url:Ex(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vx,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=vi(i,"network-request-failed"),m=Ei().setTimeout(()=>{u(f)},px.get());function p(){Ei().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wx=500,Sx=600,Ax="_blank",Rx="http://localhost";class d0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ix(i,e,t,s=wx,o=Sx){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},bx),{width:s.toString(),height:o.toString(),top:u,left:f}),g=Zt().toLowerCase();t&&(m=IT(g)?Ax:t),AT(g)&&(e=e||Rx,p.scrollbars="yes");const E=Object.entries(p).reduce((I,[O,U])=>`${I}${O}=${U},`,"");if(qI(g)&&m!=="_self")return Cx(e||"",m),new d0(null);const S=window.open(e||"",m,E);ve(S,i,"popup-blocked");try{S.focus()}catch{}return new d0(S)}function Cx(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xx="__/auth/handler",Nx="emulator/auth/handler",Ox=encodeURIComponent("fac");async function m0(i,e,t,s,o,u){ve(i.config.authDomain,i,"auth-domain-config-required"),ve(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:Ro,eventId:o};if(e instanceof LT){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",uR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,S]of Object.entries({}))f[E]=S}if(e instanceof gu){const E=e.getScopes().filter(S=>S!=="");E.length>0&&(f.scopes=E.join(","))}i.tenantId&&(f.tid=i.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await i._getAppCheckToken(),g=p?`#${Ox}=${encodeURIComponent(p)}`:"";return`${Dx(i)}?${du(m).slice(1)}${g}`}function Dx({config:i}){return i.emulator?xp(i,Nx):`https://${i.authDomain}/${xx}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cm="webStorageSupport";class Mx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=GT,this._completeRedirectFn=ix,this._overrideRedirectResult=ex}async _openPopup(e,t,s,o){var u;lr((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await m0(e,t,s,ph(),o);return Ix(e,f,kp())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await m0(e,t,s,ph(),o);return VC(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(lr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await Tx(e),s=new sx(e);return t.register("authEvent",o=>(ve(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Cm,{type:Cm},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Cm];f!==void 0&&t(!!f),Jn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=cx(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return DT()||RT()||Op()}}const kx=Mx;var p0="@firebase/auth",g0="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vx(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Lx(i){wi(new Zn("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;ve(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:MT(i)},g=new YI(s,o,u,p);return sC(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),wi(new Zn("auth-internal",e=>{const t=ds(e.getProvider("auth").getImmediate());return(s=>new Px(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Hn(p0,g0,Vx(i)),Hn(p0,g0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux=5*60,jx=aT("authIdTokenMaxAge")||Ux;let y0=null;const zx=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>jx)return;const o=t==null?void 0:t.token;y0!==o&&(y0=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Vp(i=Rp()){const e=aa(i,"auth");if(e.isInitialized())return e.getImmediate();const t=rC(i,{popupRedirectResolver:kx,persistence:[GC,MC,GT]}),s=aT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=zx(u.toString());xC(t,f,()=>f(t.currentUser)),CC(t,m=>f(m))}}const o=rT("auth");return o&&aC(t,`http://${o}`),t}function Bx(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}XI({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=vi("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",Bx().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Lx("Browser");function Hx(){const[i,e]=P.useState(!1),[t,s]=P.useState(null),[o,u]=P.useState(!0),f=Ii();P.useEffect(()=>{const g=Vp(),E=Mp(g,S=>{s(!!S),u(!1)});return()=>E()},[]);const m=()=>e(!i),p=[{to:"/",label:"Home"},{to:"/blogs",label:"Blogs"},{to:"/contactus",label:"Contact Us"},{to:"/codeplayground",label:"Code Playground"}];return R.jsxs("nav",{className:"bg-gray-900 shadow-lg fixed top-0 left-0 w-full z-50 h-20 border-b border-gray-800",children:[R.jsxs("div",{className:"flex items-center justify-between py-4 px-4 lg:px-8 relative",children:[R.jsxs(vn,{to:"/",className:"text-white font-bold text-xl md:text-2xl relative z-50",children:["Algo",R.jsx("span",{className:"text-green-500",children:"Arena"})]}),R.jsxs("div",{className:"hidden md:flex items-center gap-2 lg:gap-6 flex-wrap",children:[p.map(({to:g,label:E})=>R.jsx(vn,{to:g,className:`py-2 px-2 lg:px-4 text-sm lg:text-lg font-medium rounded-xl transition duration-300 ${f.pathname===g?"text-green-400 bg-gray-800":"text-white hover:text-green-400"}`,children:E},g)),o?R.jsx("div",{className:"w-20 lg:w-26 h-10 bg-gray-700 animate-pulse rounded-xl"}):t?R.jsxs(vn,{to:"/profile",className:"flex items-center gap-1 lg:gap-2 py-2 px-3 lg:px-4 text-sm lg:text-lg font-medium rounded-xl bg-white text-gray-900 hover:bg-gray-200 transition duration-300 shadow-sm border",children:[R.jsx(Gm,{size:18,className:"hidden sm:block"}),R.jsx("span",{children:"Profile"})]}):R.jsxs(vn,{to:"/auth",className:`flex items-center gap-1 lg:gap-2 py-2 px-3 lg:px-4 text-sm lg:text-lg font-medium rounded-xl transition duration-300 ml-1 lg:ml-2 ${f.pathname==="/auth"?"text-green-400 bg-gray-800":"bg-green-600 text-white hover:bg-green-700"}`,children:[R.jsx(z_,{size:18,className:"hidden sm:block"}),R.jsx("span",{children:"Login"})]})]}),!i&&R.jsx("button",{className:"md:hidden text-white relative z-50 focus:outline-none",onClick:m,children:R.jsx(OA,{size:28})})]}),R.jsxs("div",{className:`fixed top-0 right-0 h-full w-64 bg-gray-900 shadow-lg transform transition-transform duration-300 ease-in-out ${i?"translate-x-0":"translate-x-full"} md:hidden flex flex-col items-center py-10 space-y-6`,children:[R.jsx("button",{className:"absolute top-4 right-4 text-white",onClick:m,children:R.jsx(HA,{size:28})}),p.map(({to:g,label:E})=>R.jsx(vn,{to:g,className:`py-2 text-xl font-medium transition duration-300 ${f.pathname===g?"text-green-400":"text-white hover:text-green-400"}`,onClick:()=>e(!1),children:E},g)),o?R.jsx("div",{className:"w-36 h-12 bg-gray-700 animate-pulse rounded-xl"}):t?R.jsxs(vn,{to:"/profile",className:"flex items-center gap-2 py-2 px-6 text-xl font-medium rounded-xl bg-white text-gray-900 hover:bg-gray-200 transition duration-300 shadow-sm border",onClick:()=>e(!1),children:[R.jsx(Gm,{size:22}),R.jsx("span",{children:"Profile"})]}):R.jsxs(vn,{to:"/auth",className:`flex items-center gap-2 py-2 px-6 text-xl font-medium rounded-xl transition duration-300 ${f.pathname==="/auth"?"text-green-400":"bg-green-600 text-white hover:bg-green-700"}`,onClick:()=>e(!1),children:[R.jsx(z_,{size:22}),R.jsx("span",{children:"Login"})]})]})]})}var xm={exports:{}},Nm,v0;function qx(){if(v0)return Nm;v0=1;var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Nm=i,Nm}var Om,_0;function Fx(){if(_0)return Om;_0=1;var i=qx();function e(){}function t(){}return t.resetWarningCache=e,Om=function(){function s(f,m,p,g,E,S){if(S!==i){var I=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw I.name="Invariant Violation",I}}s.isRequired=s;function o(){return s}var u={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:o,element:s,elementType:s,instanceOf:o,node:s,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:t,resetWarningCache:e};return u.PropTypes=u,u},Om}var E0;function Gx(){return E0||(E0=1,xm.exports=Fx()()),xm.exports}var $x=Gx();const qt=LE($x);var Kx="firebase",Qx="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hn(Kx,Qx,"app");const ZT="@firebase/installations",Lp="0.6.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT=1e4,e1=`w:${Lp}`,t1="FIS_v2",Yx="https://firebaseinstallations.googleapis.com/v1",Xx=60*60*1e3,Wx="installations",Zx="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ea=new sa(Wx,Zx,Jx);function n1(i){return i instanceof ei&&i.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i1({projectId:i}){return`${Yx}/projects/${i}/installations`}function r1(i){return{token:i.token,requestStatus:2,expiresIn:t4(i.expiresIn),creationTime:Date.now()}}async function s1(i,e){const s=(await e.json()).error;return ea.create("request-failed",{requestName:i,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function a1({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function e4(i,{refreshToken:e}){const t=a1(i);return t.append("Authorization",n4(e)),t}async function o1(i){const e=await i();return e.status>=500&&e.status<600?i():e}function t4(i){return Number(i.replace("s","000"))}function n4(i){return`${t1} ${i}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i4({appConfig:i,heartbeatServiceProvider:e},{fid:t}){const s=i1(i),o=a1(i),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const f={fid:t,authVersion:t1,appId:i.appId,sdkVersion:e1},m={method:"POST",headers:o,body:JSON.stringify(f)},p=await o1(()=>fetch(s,m));if(p.ok){const g=await p.json();return{fid:g.fid||t,registrationStatus:2,refreshToken:g.refreshToken,authToken:r1(g.authToken)}}else throw await s1("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1(i){return new Promise(e=>{setTimeout(e,i)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r4(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4=/^[cdef][\w-]{21}$/,Jm="";function a4(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const t=o4(i);return s4.test(t)?t:Jm}catch{return Jm}}function o4(i){return r4(i).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qh(i){return`${i.appName}!${i.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1=new Map;function c1(i,e){const t=Qh(i);h1(t,e),l4(t,e)}function h1(i,e){const t=u1.get(i);if(t)for(const s of t)s(e)}function l4(i,e){const t=u4();t&&t.postMessage({key:i,fid:e}),c4()}let Ys=null;function u4(){return!Ys&&"BroadcastChannel"in self&&(Ys=new BroadcastChannel("[Firebase] FID Change"),Ys.onmessage=i=>{h1(i.data.key,i.data.fid)}),Ys}function c4(){u1.size===0&&Ys&&(Ys.close(),Ys=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4="firebase-installations-database",f4=1,ta="firebase-installations-store";let Dm=null;function Up(){return Dm||(Dm=fT(h4,f4,{upgrade:(i,e)=>{switch(e){case 0:i.createObjectStore(ta)}}})),Dm}async function Th(i,e){const t=Qh(i),o=(await Up()).transaction(ta,"readwrite"),u=o.objectStore(ta),f=await u.get(t);return await u.put(e,t),await o.done,(!f||f.fid!==e.fid)&&c1(i,e.fid),e}async function f1(i){const e=Qh(i),s=(await Up()).transaction(ta,"readwrite");await s.objectStore(ta).delete(e),await s.done}async function Yh(i,e){const t=Qh(i),o=(await Up()).transaction(ta,"readwrite"),u=o.objectStore(ta),f=await u.get(t),m=e(f);return m===void 0?await u.delete(t):await u.put(m,t),await o.done,m&&(!f||f.fid!==m.fid)&&c1(i,m.fid),m}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jp(i){let e;const t=await Yh(i.appConfig,s=>{const o=d4(s),u=m4(i,o);return e=u.registrationPromise,u.installationEntry});return t.fid===Jm?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function d4(i){const e=i||{fid:a4(),registrationStatus:0};return d1(e)}function m4(i,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(ea.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=p4(i,t);return{installationEntry:t,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:g4(i)}:{installationEntry:e}}async function p4(i,e){try{const t=await i4(i,e);return Th(i.appConfig,t)}catch(t){throw n1(t)&&t.customData.serverCode===409?await f1(i.appConfig):await Th(i.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function g4(i){let e=await T0(i.appConfig);for(;e.registrationStatus===1;)await l1(100),e=await T0(i.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:s}=await jp(i);return s||t}return e}function T0(i){return Yh(i,e=>{if(!e)throw ea.create("installation-not-found");return d1(e)})}function d1(i){return y4(i)?{fid:i.fid,registrationStatus:0}:i}function y4(i){return i.registrationStatus===1&&i.registrationTime+JT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v4({appConfig:i,heartbeatServiceProvider:e},t){const s=_4(i,t),o=e4(i,t),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const f={installation:{sdkVersion:e1,appId:i.appId}},m={method:"POST",headers:o,body:JSON.stringify(f)},p=await o1(()=>fetch(s,m));if(p.ok){const g=await p.json();return r1(g)}else throw await s1("Generate Auth Token",p)}function _4(i,{fid:e}){return`${i1(i)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zp(i,e=!1){let t;const s=await Yh(i.appConfig,u=>{if(!m1(u))throw ea.create("not-registered");const f=u.authToken;if(!e&&b4(f))return u;if(f.requestStatus===1)return t=E4(i,e),u;{if(!navigator.onLine)throw ea.create("app-offline");const m=S4(u);return t=T4(i,m),m}});return t?await t:s.authToken}async function E4(i,e){let t=await b0(i.appConfig);for(;t.authToken.requestStatus===1;)await l1(100),t=await b0(i.appConfig);const s=t.authToken;return s.requestStatus===0?zp(i,e):s}function b0(i){return Yh(i,e=>{if(!m1(e))throw ea.create("not-registered");const t=e.authToken;return A4(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function T4(i,e){try{const t=await v4(i,e),s=Object.assign(Object.assign({},e),{authToken:t});return await Th(i.appConfig,s),t}catch(t){if(n1(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await f1(i.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Th(i.appConfig,s)}throw t}}function m1(i){return i!==void 0&&i.registrationStatus===2}function b4(i){return i.requestStatus===2&&!w4(i)}function w4(i){const e=Date.now();return e<i.creationTime||i.creationTime+i.expiresIn<e+Xx}function S4(i){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},i),{authToken:e})}function A4(i){return i.requestStatus===1&&i.requestTime+JT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R4(i){const e=i,{installationEntry:t,registrationPromise:s}=await jp(e);return s?s.catch(console.error):zp(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I4(i,e=!1){const t=i;return await C4(t),(await zp(t,e)).token}async function C4(i){const{registrationPromise:e}=await jp(i);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x4(i){if(!i||!i.options)throw Mm("App Configuration");if(!i.name)throw Mm("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!i.options[t])throw Mm(t);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function Mm(i){return ea.create("missing-app-config-values",{valueName:i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1="installations",N4="installations-internal",O4=i=>{const e=i.getProvider("app").getImmediate(),t=x4(e),s=aa(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},D4=i=>{const e=i.getProvider("app").getImmediate(),t=aa(e,p1).getImmediate();return{getId:()=>R4(t),getToken:o=>I4(t,o)}};function M4(){wi(new Zn(p1,O4,"PUBLIC")),wi(new Zn(N4,D4,"PRIVATE"))}M4();Hn(ZT,Lp);Hn(ZT,Lp,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bh="analytics",k4="firebase_id",P4="origin",V4=60*1e3,L4="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Bp="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an=new qh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U4={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},wn=new sa("analytics","Analytics",U4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j4(i){if(!i.startsWith(Bp)){const e=wn.create("invalid-gtag-resource",{gtagURL:i});return an.warn(e.message),""}return i}function g1(i){return Promise.all(i.map(e=>e.catch(t=>t)))}function z4(i,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(i,e)),t}function B4(i,e){const t=z4("firebase-js-sdk-policy",{createScriptURL:j4}),s=document.createElement("script"),o=`${Bp}?l=${i}&id=${e}`;s.src=t?t==null?void 0:t.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function H4(i){let e=[];return Array.isArray(window[i])?e=window[i]:window[i]=e,e}async function q4(i,e,t,s,o,u){const f=s[o];try{if(f)await e[f];else{const p=(await g1(t)).find(g=>g.measurementId===o);p&&await e[p.appId]}}catch(m){an.error(m)}i("config",o,u)}async function F4(i,e,t,s,o){try{let u=[];if(o&&o.send_to){let f=o.send_to;Array.isArray(f)||(f=[f]);const m=await g1(t);for(const p of f){const g=m.find(S=>S.measurementId===p),E=g&&e[g.appId];if(E)u.push(E);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),i("event",s,o||{})}catch(u){an.error(u)}}function G4(i,e,t,s){async function o(u,...f){try{if(u==="event"){const[m,p]=f;await F4(i,e,t,m,p)}else if(u==="config"){const[m,p]=f;await q4(i,e,t,s,m,p)}else if(u==="consent"){const[m,p]=f;i("consent",m,p)}else if(u==="get"){const[m,p,g]=f;i("get",m,p,g)}else if(u==="set"){const[m]=f;i("set",m)}else i(u,...f)}catch(m){an.error(m)}}return o}function $4(i,e,t,s,o){let u=function(...f){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=G4(u,i,e,t),{gtagCore:u,wrappedGtag:window[o]}}function K4(i){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Bp)&&t.src.includes(i))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q4=30,Y4=1e3;class X4{constructor(e={},t=Y4){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const y1=new X4;function W4(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function Z4(i){var e;const{appId:t,apiKey:s}=i,o={method:"GET",headers:W4(s)},u=L4.replace("{app-id}",t),f=await fetch(u,o);if(f.status!==200&&f.status!==304){let m="";try{const p=await f.json();!((e=p.error)===null||e===void 0)&&e.message&&(m=p.error.message)}catch{}throw wn.create("config-fetch-failed",{httpStatus:f.status,responseMessage:m})}return f.json()}async function J4(i,e=y1,t){const{appId:s,apiKey:o,measurementId:u}=i.options;if(!s)throw wn.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:s};throw wn.create("no-api-key")}const f=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new nN;return setTimeout(async()=>{m.abort()},V4),v1({appId:s,apiKey:o,measurementId:u},f,m,e)}async function v1(i,{throttleEndTimeMillis:e,backoffCount:t},s,o=y1){var u;const{appId:f,measurementId:m}=i;try{await eN(s,e)}catch(p){if(m)return an.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:f,measurementId:m};throw p}try{const p=await Z4(i);return o.deleteThrottleMetadata(f),p}catch(p){const g=p;if(!tN(g)){if(o.deleteThrottleMetadata(f),m)return an.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:f,measurementId:m};throw p}const E=Number((u=g==null?void 0:g.customData)===null||u===void 0?void 0:u.httpStatus)===503?q_(t,o.intervalMillis,Q4):q_(t,o.intervalMillis),S={throttleEndTimeMillis:Date.now()+E,backoffCount:t+1};return o.setThrottleMetadata(f,S),an.debug(`Calling attemptFetch again in ${E} millis`),v1(i,S,s,o)}}function eN(i,e){return new Promise((t,s)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(t,o);i.addEventListener(()=>{clearTimeout(u),s(wn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function tN(i){if(!(i instanceof ei)||!i.customData)return!1;const e=Number(i.customData.httpStatus);return e===429||e===500||e===503||e===504}class nN{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function iN(i,e,t,s,o){if(o&&o.global){i("event",t,s);return}else{const u=await e,f=Object.assign(Object.assign({},s),{send_to:u});i("event",t,f)}}async function rN(i,e,t,s){{const o=await e;i("config",o,{update:!0,user_properties:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sN(){if(lT())try{await uT()}catch(i){return an.warn(wn.create("indexeddb-unavailable",{errorInfo:i==null?void 0:i.toString()}).message),!1}else return an.warn(wn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function aN(i,e,t,s,o,u,f){var m;const p=J4(i);p.then(O=>{t[O.measurementId]=O.appId,i.options.measurementId&&O.measurementId!==i.options.measurementId&&an.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${O.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(O=>an.error(O)),e.push(p);const g=sN().then(O=>{if(O)return s.getId()}),[E,S]=await Promise.all([p,g]);K4(u)||B4(u,E.measurementId),o("js",new Date);const I=(m=f==null?void 0:f.config)!==null&&m!==void 0?m:{};return I[P4]="firebase",I.update=!0,S!=null&&(I[k4]=S),o("config",E.measurementId,I),E.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e){this.app=e}_delete(){return delete ho[this.app.options.appId],Promise.resolve()}}let ho={},w0=[];const S0={};let km="dataLayer",lN="gtag",A0,Hp,R0=!1;function uN(){const i=[];if(oT()&&i.push("This is a browser extension environment."),sR()||i.push("Cookies are not available."),i.length>0){const e=i.map((s,o)=>`(${o+1}) ${s}`).join(" "),t=wn.create("invalid-analytics-context",{errorInfo:e});an.warn(t.message)}}function cN(i,e,t){uN();const s=i.options.appId;if(!s)throw wn.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)an.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw wn.create("no-api-key");if(ho[s]!=null)throw wn.create("already-exists",{id:s});if(!R0){H4(km);const{wrappedGtag:u,gtagCore:f}=$4(ho,w0,S0,km,lN);Hp=u,A0=f,R0=!0}return ho[s]=aN(i,w0,S0,e,A0,km,t),new oN(i)}function hN(i=Rp()){i=ht(i);const e=aa(i,bh);return e.isInitialized()?e.getImmediate():fN(i)}function fN(i,e={}){const t=aa(i,bh);if(t.isInitialized()){const o=t.getImmediate();if(po(e,t.getOptions()))return o;throw wn.create("already-initialized")}return t.initialize({options:e})}function dN(i,e,t){i=ht(i),rN(Hp,ho[i.app.options.appId],e).catch(s=>an.error(s))}function _1(i,e,t,s){i=ht(i),iN(Hp,ho[i.app.options.appId],e,t,s).catch(o=>an.error(o))}const I0="@firebase/analytics",C0="0.10.11";function mN(){wi(new Zn(bh,(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return cN(s,o,t)},"PUBLIC")),wi(new Zn("analytics-internal",i,"PRIVATE")),Hn(I0,C0),Hn(I0,C0,"esm2017");function i(e){try{const t=e.getProvider(bh).getImmediate();return{logEvent:(s,o,u)=>_1(t,s,o,u)}}catch(t){throw wn.create("interop-component-reg-failed",{reason:t})}}}mN();var x0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var rs,E1;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,C){function w(){}w.prototype=C.prototype,D.D=C.prototype,D.prototype=new w,D.prototype.constructor=D,D.C=function(A,M,j){for(var N=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)N[Je-2]=arguments[Je];return C.prototype[M].apply(A,N)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,C,w){w||(w=0);var A=Array(16);if(typeof C=="string")for(var M=0;16>M;++M)A[M]=C.charCodeAt(w++)|C.charCodeAt(w++)<<8|C.charCodeAt(w++)<<16|C.charCodeAt(w++)<<24;else for(M=0;16>M;++M)A[M]=C[w++]|C[w++]<<8|C[w++]<<16|C[w++]<<24;C=D.g[0],w=D.g[1],M=D.g[2];var j=D.g[3],N=C+(j^w&(M^j))+A[0]+3614090360&4294967295;C=w+(N<<7&4294967295|N>>>25),N=j+(M^C&(w^M))+A[1]+3905402710&4294967295,j=C+(N<<12&4294967295|N>>>20),N=M+(w^j&(C^w))+A[2]+606105819&4294967295,M=j+(N<<17&4294967295|N>>>15),N=w+(C^M&(j^C))+A[3]+3250441966&4294967295,w=M+(N<<22&4294967295|N>>>10),N=C+(j^w&(M^j))+A[4]+4118548399&4294967295,C=w+(N<<7&4294967295|N>>>25),N=j+(M^C&(w^M))+A[5]+1200080426&4294967295,j=C+(N<<12&4294967295|N>>>20),N=M+(w^j&(C^w))+A[6]+2821735955&4294967295,M=j+(N<<17&4294967295|N>>>15),N=w+(C^M&(j^C))+A[7]+4249261313&4294967295,w=M+(N<<22&4294967295|N>>>10),N=C+(j^w&(M^j))+A[8]+1770035416&4294967295,C=w+(N<<7&4294967295|N>>>25),N=j+(M^C&(w^M))+A[9]+2336552879&4294967295,j=C+(N<<12&4294967295|N>>>20),N=M+(w^j&(C^w))+A[10]+4294925233&4294967295,M=j+(N<<17&4294967295|N>>>15),N=w+(C^M&(j^C))+A[11]+2304563134&4294967295,w=M+(N<<22&4294967295|N>>>10),N=C+(j^w&(M^j))+A[12]+1804603682&4294967295,C=w+(N<<7&4294967295|N>>>25),N=j+(M^C&(w^M))+A[13]+4254626195&4294967295,j=C+(N<<12&4294967295|N>>>20),N=M+(w^j&(C^w))+A[14]+2792965006&4294967295,M=j+(N<<17&4294967295|N>>>15),N=w+(C^M&(j^C))+A[15]+1236535329&4294967295,w=M+(N<<22&4294967295|N>>>10),N=C+(M^j&(w^M))+A[1]+4129170786&4294967295,C=w+(N<<5&4294967295|N>>>27),N=j+(w^M&(C^w))+A[6]+3225465664&4294967295,j=C+(N<<9&4294967295|N>>>23),N=M+(C^w&(j^C))+A[11]+643717713&4294967295,M=j+(N<<14&4294967295|N>>>18),N=w+(j^C&(M^j))+A[0]+3921069994&4294967295,w=M+(N<<20&4294967295|N>>>12),N=C+(M^j&(w^M))+A[5]+3593408605&4294967295,C=w+(N<<5&4294967295|N>>>27),N=j+(w^M&(C^w))+A[10]+38016083&4294967295,j=C+(N<<9&4294967295|N>>>23),N=M+(C^w&(j^C))+A[15]+3634488961&4294967295,M=j+(N<<14&4294967295|N>>>18),N=w+(j^C&(M^j))+A[4]+3889429448&4294967295,w=M+(N<<20&4294967295|N>>>12),N=C+(M^j&(w^M))+A[9]+568446438&4294967295,C=w+(N<<5&4294967295|N>>>27),N=j+(w^M&(C^w))+A[14]+3275163606&4294967295,j=C+(N<<9&4294967295|N>>>23),N=M+(C^w&(j^C))+A[3]+4107603335&4294967295,M=j+(N<<14&4294967295|N>>>18),N=w+(j^C&(M^j))+A[8]+1163531501&4294967295,w=M+(N<<20&4294967295|N>>>12),N=C+(M^j&(w^M))+A[13]+2850285829&4294967295,C=w+(N<<5&4294967295|N>>>27),N=j+(w^M&(C^w))+A[2]+4243563512&4294967295,j=C+(N<<9&4294967295|N>>>23),N=M+(C^w&(j^C))+A[7]+1735328473&4294967295,M=j+(N<<14&4294967295|N>>>18),N=w+(j^C&(M^j))+A[12]+2368359562&4294967295,w=M+(N<<20&4294967295|N>>>12),N=C+(w^M^j)+A[5]+4294588738&4294967295,C=w+(N<<4&4294967295|N>>>28),N=j+(C^w^M)+A[8]+2272392833&4294967295,j=C+(N<<11&4294967295|N>>>21),N=M+(j^C^w)+A[11]+1839030562&4294967295,M=j+(N<<16&4294967295|N>>>16),N=w+(M^j^C)+A[14]+4259657740&4294967295,w=M+(N<<23&4294967295|N>>>9),N=C+(w^M^j)+A[1]+2763975236&4294967295,C=w+(N<<4&4294967295|N>>>28),N=j+(C^w^M)+A[4]+1272893353&4294967295,j=C+(N<<11&4294967295|N>>>21),N=M+(j^C^w)+A[7]+4139469664&4294967295,M=j+(N<<16&4294967295|N>>>16),N=w+(M^j^C)+A[10]+3200236656&4294967295,w=M+(N<<23&4294967295|N>>>9),N=C+(w^M^j)+A[13]+681279174&4294967295,C=w+(N<<4&4294967295|N>>>28),N=j+(C^w^M)+A[0]+3936430074&4294967295,j=C+(N<<11&4294967295|N>>>21),N=M+(j^C^w)+A[3]+3572445317&4294967295,M=j+(N<<16&4294967295|N>>>16),N=w+(M^j^C)+A[6]+76029189&4294967295,w=M+(N<<23&4294967295|N>>>9),N=C+(w^M^j)+A[9]+3654602809&4294967295,C=w+(N<<4&4294967295|N>>>28),N=j+(C^w^M)+A[12]+3873151461&4294967295,j=C+(N<<11&4294967295|N>>>21),N=M+(j^C^w)+A[15]+530742520&4294967295,M=j+(N<<16&4294967295|N>>>16),N=w+(M^j^C)+A[2]+3299628645&4294967295,w=M+(N<<23&4294967295|N>>>9),N=C+(M^(w|~j))+A[0]+4096336452&4294967295,C=w+(N<<6&4294967295|N>>>26),N=j+(w^(C|~M))+A[7]+1126891415&4294967295,j=C+(N<<10&4294967295|N>>>22),N=M+(C^(j|~w))+A[14]+2878612391&4294967295,M=j+(N<<15&4294967295|N>>>17),N=w+(j^(M|~C))+A[5]+4237533241&4294967295,w=M+(N<<21&4294967295|N>>>11),N=C+(M^(w|~j))+A[12]+1700485571&4294967295,C=w+(N<<6&4294967295|N>>>26),N=j+(w^(C|~M))+A[3]+2399980690&4294967295,j=C+(N<<10&4294967295|N>>>22),N=M+(C^(j|~w))+A[10]+4293915773&4294967295,M=j+(N<<15&4294967295|N>>>17),N=w+(j^(M|~C))+A[1]+2240044497&4294967295,w=M+(N<<21&4294967295|N>>>11),N=C+(M^(w|~j))+A[8]+1873313359&4294967295,C=w+(N<<6&4294967295|N>>>26),N=j+(w^(C|~M))+A[15]+4264355552&4294967295,j=C+(N<<10&4294967295|N>>>22),N=M+(C^(j|~w))+A[6]+2734768916&4294967295,M=j+(N<<15&4294967295|N>>>17),N=w+(j^(M|~C))+A[13]+1309151649&4294967295,w=M+(N<<21&4294967295|N>>>11),N=C+(M^(w|~j))+A[4]+4149444226&4294967295,C=w+(N<<6&4294967295|N>>>26),N=j+(w^(C|~M))+A[11]+3174756917&4294967295,j=C+(N<<10&4294967295|N>>>22),N=M+(C^(j|~w))+A[2]+718787259&4294967295,M=j+(N<<15&4294967295|N>>>17),N=w+(j^(M|~C))+A[9]+3951481745&4294967295,D.g[0]=D.g[0]+C&4294967295,D.g[1]=D.g[1]+(M+(N<<21&4294967295|N>>>11))&4294967295,D.g[2]=D.g[2]+M&4294967295,D.g[3]=D.g[3]+j&4294967295}s.prototype.u=function(D,C){C===void 0&&(C=D.length);for(var w=C-this.blockSize,A=this.B,M=this.h,j=0;j<C;){if(M==0)for(;j<=w;)o(this,D,j),j+=this.blockSize;if(typeof D=="string"){for(;j<C;)if(A[M++]=D.charCodeAt(j++),M==this.blockSize){o(this,A),M=0;break}}else for(;j<C;)if(A[M++]=D[j++],M==this.blockSize){o(this,A),M=0;break}}this.h=M,this.o+=C},s.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var C=1;C<D.length-8;++C)D[C]=0;var w=8*this.o;for(C=D.length-8;C<D.length;++C)D[C]=w&255,w/=256;for(this.u(D),D=Array(16),C=w=0;4>C;++C)for(var A=0;32>A;A+=8)D[w++]=this.g[C]>>>A&255;return D};function u(D,C){var w=m;return Object.prototype.hasOwnProperty.call(w,D)?w[D]:w[D]=C(D)}function f(D,C){this.h=C;for(var w=[],A=!0,M=D.length-1;0<=M;M--){var j=D[M]|0;A&&j==C||(w[M]=j,A=!1)}this.g=w}var m={};function p(D){return-128<=D&&128>D?u(D,function(C){return new f([C|0],0>C?-1:0)}):new f([D|0],0>D?-1:0)}function g(D){if(isNaN(D)||!isFinite(D))return S;if(0>D)return B(g(-D));for(var C=[],w=1,A=0;D>=w;A++)C[A]=D/w|0,w*=4294967296;return new f(C,0)}function E(D,C){if(D.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(D.charAt(0)=="-")return B(E(D.substring(1),C));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=g(Math.pow(C,8)),A=S,M=0;M<D.length;M+=8){var j=Math.min(8,D.length-M),N=parseInt(D.substring(M,M+j),C);8>j?(j=g(Math.pow(C,j)),A=A.j(j).add(g(N))):(A=A.j(w),A=A.add(g(N)))}return A}var S=p(0),I=p(1),O=p(16777216);i=f.prototype,i.m=function(){if($(this))return-B(this).m();for(var D=0,C=1,w=0;w<this.g.length;w++){var A=this.i(w);D+=(0<=A?A:4294967296+A)*C,C*=4294967296}return D},i.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(U(this))return"0";if($(this))return"-"+B(this).toString(D);for(var C=g(Math.pow(D,6)),w=this,A="";;){var M=ue(w,C).g;w=X(w,M.j(C));var j=((0<w.g.length?w.g[0]:w.h)>>>0).toString(D);if(w=M,U(w))return j+A;for(;6>j.length;)j="0"+j;A=j+A}},i.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function U(D){if(D.h!=0)return!1;for(var C=0;C<D.g.length;C++)if(D.g[C]!=0)return!1;return!0}function $(D){return D.h==-1}i.l=function(D){return D=X(this,D),$(D)?-1:U(D)?0:1};function B(D){for(var C=D.g.length,w=[],A=0;A<C;A++)w[A]=~D.g[A];return new f(w,~D.h).add(I)}i.abs=function(){return $(this)?B(this):this},i.add=function(D){for(var C=Math.max(this.g.length,D.g.length),w=[],A=0,M=0;M<=C;M++){var j=A+(this.i(M)&65535)+(D.i(M)&65535),N=(j>>>16)+(this.i(M)>>>16)+(D.i(M)>>>16);A=N>>>16,j&=65535,N&=65535,w[M]=N<<16|j}return new f(w,w[w.length-1]&-2147483648?-1:0)};function X(D,C){return D.add(B(C))}i.j=function(D){if(U(this)||U(D))return S;if($(this))return $(D)?B(this).j(B(D)):B(B(this).j(D));if($(D))return B(this.j(B(D)));if(0>this.l(O)&&0>D.l(O))return g(this.m()*D.m());for(var C=this.g.length+D.g.length,w=[],A=0;A<2*C;A++)w[A]=0;for(A=0;A<this.g.length;A++)for(var M=0;M<D.g.length;M++){var j=this.i(A)>>>16,N=this.i(A)&65535,Je=D.i(M)>>>16,de=D.i(M)&65535;w[2*A+2*M]+=N*de,ee(w,2*A+2*M),w[2*A+2*M+1]+=j*de,ee(w,2*A+2*M+1),w[2*A+2*M+1]+=N*Je,ee(w,2*A+2*M+1),w[2*A+2*M+2]+=j*Je,ee(w,2*A+2*M+2)}for(A=0;A<C;A++)w[A]=w[2*A+1]<<16|w[2*A];for(A=C;A<2*C;A++)w[A]=0;return new f(w,0)};function ee(D,C){for(;(D[C]&65535)!=D[C];)D[C+1]+=D[C]>>>16,D[C]&=65535,C++}function Q(D,C){this.g=D,this.h=C}function ue(D,C){if(U(C))throw Error("division by zero");if(U(D))return new Q(S,S);if($(D))return C=ue(B(D),C),new Q(B(C.g),B(C.h));if($(C))return C=ue(D,B(C)),new Q(B(C.g),C.h);if(30<D.g.length){if($(D)||$(C))throw Error("slowDivide_ only works with positive integers.");for(var w=I,A=C;0>=A.l(D);)w=re(w),A=re(A);var M=fe(w,1),j=fe(A,1);for(A=fe(A,2),w=fe(w,2);!U(A);){var N=j.add(A);0>=N.l(D)&&(M=M.add(w),j=N),A=fe(A,1),w=fe(w,1)}return C=X(D,M.j(C)),new Q(M,C)}for(M=S;0<=D.l(C);){for(w=Math.max(1,Math.floor(D.m()/C.m())),A=Math.ceil(Math.log(w)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),j=g(w),N=j.j(C);$(N)||0<N.l(D);)w-=A,j=g(w),N=j.j(C);U(j)&&(j=I),M=M.add(j),D=X(D,N)}return new Q(M,D)}i.A=function(D){return ue(this,D).h},i.and=function(D){for(var C=Math.max(this.g.length,D.g.length),w=[],A=0;A<C;A++)w[A]=this.i(A)&D.i(A);return new f(w,this.h&D.h)},i.or=function(D){for(var C=Math.max(this.g.length,D.g.length),w=[],A=0;A<C;A++)w[A]=this.i(A)|D.i(A);return new f(w,this.h|D.h)},i.xor=function(D){for(var C=Math.max(this.g.length,D.g.length),w=[],A=0;A<C;A++)w[A]=this.i(A)^D.i(A);return new f(w,this.h^D.h)};function re(D){for(var C=D.g.length+1,w=[],A=0;A<C;A++)w[A]=D.i(A)<<1|D.i(A-1)>>>31;return new f(w,D.h)}function fe(D,C){var w=C>>5;C%=32;for(var A=D.g.length-w,M=[],j=0;j<A;j++)M[j]=0<C?D.i(j+w)>>>C|D.i(j+w+1)<<32-C:D.i(j+w);return new f(M,D.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,E1=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,rs=f}).apply(typeof x0<"u"?x0:typeof self<"u"?self:typeof window<"u"?window:{});var $c=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var T1,Hl,b1,sh,ep,w1,S1,A1;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof $c=="object"&&$c];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=t(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var b=0;b<c.length-1;b++){var H=c[b];if(!(H in v))break e;v=v[H]}c=c[c.length-1],b=v[c],y=y(b),y!=b&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var v=0,b=!1,H={next:function(){if(!b&&v<c.length){var G=v++;return{value:y(G,c[G]),done:!1}}return b=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,v){return c.call.apply(c.bind,arguments)}function S(c,y,v){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,b),c.apply(y,H)}}return function(){return c.apply(y,arguments)}}function I(c,y,v){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:S,I.apply(null,arguments)}function O(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function U(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(b,H,G){for(var se=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)se[Le-2]=arguments[Le];return y.prototype[H].apply(b,se)}}function $(c){const y=c.length;if(0<y){const v=Array(y);for(let b=0;b<y;b++)v[b]=c[b];return v}return[]}function B(c,y){for(let v=1;v<arguments.length;v++){const b=arguments[v];if(p(b)){const H=c.length||0,G=b.length||0;c.length=H+G;for(let se=0;se<G;se++)c[H+se]=b[se]}else c.push(b)}}class X{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function ee(c){return/^[\s\xa0]*$/.test(c)}function Q(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ue(c){return ue[" "](c),c}ue[" "]=function(){};var re=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function fe(c,y,v){for(const b in c)y.call(v,c[b],b,c)}function D(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function C(c){const y={};for(const v in c)y[v]=c[v];return y}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(c,y){let v,b;for(let H=1;H<arguments.length;H++){b=arguments[H];for(v in b)c[v]=b[v];for(let G=0;G<w.length;G++)v=w[G],Object.prototype.hasOwnProperty.call(b,v)&&(c[v]=b[v])}}function M(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function j(c){m.setTimeout(()=>{throw c},0)}function N(){var c=De;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Je{constructor(){this.h=this.g=null}add(y,v){const b=de.get();b.set(y,v),this.h?this.h.next=b:this.g=b,this.h=b}}var de=new X(()=>new ne,c=>c.reset());class ne{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ge,me=!1,De=new Je,k=()=>{const c=m.Promise.resolve(void 0);ge=()=>{c.then(K)}};var K=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(v){j(v)}var y=de;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}me=!1};function ae(){this.s=this.s,this.C=this.C}ae.prototype.s=!1,ae.prototype.ma=function(){this.s||(this.s=!0,this.N())},ae.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var le=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,y),m.removeEventListener("test",v,y)}catch{}return c}();function we(c,y){if(oe.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(re){e:{try{ue(y.nodeName);var H=!0;break e}catch{}H=!1}H||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ie[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&we.aa.h.call(this)}}U(we,oe);var Ie={2:"touch",3:"pen",4:"mouse"};we.prototype.h=function(){we.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var pt="closure_listenable_"+(1e6*Math.random()|0),Be=0;function st(c,y,v,b,H){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!b,this.ha=H,this.key=++Be,this.da=this.fa=!1}function Ke(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Jt(c){this.src=c,this.g={},this.h=0}Jt.prototype.add=function(c,y,v,b,H){var G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);var se=An(c,y,b,H);return-1<se?(y=c[se],v||(y.fa=!1)):(y=new st(y,this.src,G,!!b,H),y.fa=v,c.push(y)),y};function xi(c,y){var v=y.type;if(v in c.g){var b=c.g[v],H=Array.prototype.indexOf.call(b,y,void 0),G;(G=0<=H)&&Array.prototype.splice.call(b,H,1),G&&(Ke(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function An(c,y,v,b){for(var H=0;H<c.length;++H){var G=c[H];if(!G.da&&G.listener==y&&G.capture==!!v&&G.ha==b)return H}return-1}var dr="closure_lm_"+(1e6*Math.random()|0),mr={};function Ni(c,y,v,b,H){if(Array.isArray(y)){for(var G=0;G<y.length;G++)Ni(c,y[G],v,b,H);return null}return v=wu(v),c&&c[pt]?c.K(y,v,g(b)?!!b.capture:!1,H):Oo(c,y,v,!1,b,H)}function Oo(c,y,v,b,H,G){if(!y)throw Error("Invalid event type");var se=g(H)?!!H.capture:!!H,Le=Do(c);if(Le||(c[dr]=Le=new Jt(c)),v=Le.add(y,v,b,se,G),v.proxy)return v;if(b=ha(),v.proxy=b,b.src=c,b.listener=v,c.addEventListener)le||(H=se),H===void 0&&(H=!1),c.addEventListener(y.toString(),b,H);else if(c.attachEvent)c.attachEvent(da(y.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ha(){function c(v){return y.call(c.src,c.listener,v)}const y=gf;return c}function fa(c,y,v,b,H){if(Array.isArray(y))for(var G=0;G<y.length;G++)fa(c,y[G],v,b,H);else b=g(b)?!!b.capture:!!b,v=wu(v),c&&c[pt]?(c=c.i,y=String(y).toString(),y in c.g&&(G=c.g[y],v=An(G,v,b,H),-1<v&&(Ke(G[v]),Array.prototype.splice.call(G,v,1),G.length==0&&(delete c.g[y],c.h--)))):c&&(c=Do(c))&&(y=c.g[y.toString()],c=-1,y&&(c=An(y,v,b,H)),(v=-1<c?y[c]:null)&&ps(v))}function ps(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[pt])xi(y.i,c);else{var v=c.type,b=c.proxy;y.removeEventListener?y.removeEventListener(v,b,c.capture):y.detachEvent?y.detachEvent(da(v),b):y.addListener&&y.removeListener&&y.removeListener(b),(v=Do(y))?(xi(v,c),v.h==0&&(v.src=null,y[dr]=null)):Ke(c)}}}function da(c){return c in mr?mr[c]:mr[c]="on"+c}function gf(c,y){if(c.da)c=!0;else{y=new we(y,this);var v=c.listener,b=c.ha||c.src;c.fa&&ps(c),c=v.call(b,y)}return c}function Do(c){return c=c[dr],c instanceof Jt?c:null}var on="__closure_events_fn_"+(1e9*Math.random()>>>0);function wu(c){return typeof c=="function"?c:(c[on]||(c[on]=function(y){return c.handleEvent(y)}),c[on])}function Et(){ae.call(this),this.i=new Jt(this),this.M=this,this.F=null}U(Et,ae),Et.prototype[pt]=!0,Et.prototype.removeEventListener=function(c,y,v,b){fa(this,c,y,v,b)};function xt(c,y){var v,b=c.F;if(b)for(v=[];b;b=b.F)v.push(b);if(c=c.M,b=y.type||y,typeof y=="string")y=new oe(y,c);else if(y instanceof oe)y.target=y.target||c;else{var H=y;y=new oe(b,c),A(y,H)}if(H=!0,v)for(var G=v.length-1;0<=G;G--){var se=y.g=v[G];H=Oi(se,b,!0,y)&&H}if(se=y.g=c,H=Oi(se,b,!0,y)&&H,H=Oi(se,b,!1,y)&&H,v)for(G=0;G<v.length;G++)se=y.g=v[G],H=Oi(se,b,!1,y)&&H}Et.prototype.N=function(){if(Et.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],b=0;b<v.length;b++)Ke(v[b]);delete c.g[y],c.h--}}this.F=null},Et.prototype.K=function(c,y,v,b){return this.i.add(String(c),y,!1,v,b)},Et.prototype.L=function(c,y,v,b){return this.i.add(String(c),y,!0,v,b)};function Oi(c,y,v,b){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var H=!0,G=0;G<y.length;++G){var se=y[G];if(se&&!se.da&&se.capture==v){var Le=se.listener,bt=se.ha||se.src;se.fa&&xi(c.i,se),H=Le.call(bt,b)!==!1&&H}}return H&&!b.defaultPrevented}function Su(c,y,v){if(typeof c=="function")v&&(c=I(c,v));else if(c&&typeof c.handleEvent=="function")c=I(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Mo(c){c.g=Su(()=>{c.g=null,c.i&&(c.i=!1,Mo(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class yf extends ae{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Mo(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gs(c){ae.call(this),this.h=c,this.g={}}U(gs,ae);var pr=[];function $t(c){fe(c.g,function(y,v){this.g.hasOwnProperty(v)&&ps(y)},c),c.g={}}gs.prototype.N=function(){gs.aa.N.call(this),$t(this)},gs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ko=m.JSON.stringify,ti=m.JSON.parse,en=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Po(){}Po.prototype.h=null;function Au(c){return c.h||(c.h=c.i())}function Ru(){}var ni={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function gr(){oe.call(this,"d")}U(gr,oe);function Fn(){oe.call(this,"c")}U(Fn,oe);var Rn={},yr=null;function ma(){return yr=yr||new Et}Rn.La="serverreachability";function Vo(c){oe.call(this,Rn.La,c)}U(Vo,oe);function vr(c){const y=ma();xt(y,new Vo(y))}Rn.STAT_EVENT="statevent";function pa(c,y){oe.call(this,Rn.STAT_EVENT,c),this.stat=y}U(pa,oe);function ft(c){const y=ma();xt(y,new pa(y,c))}Rn.Ma="timingevent";function Iu(c,y){oe.call(this,Rn.Ma,c),this.size=y}U(Iu,oe);function _r(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function Er(){this.g=!0}Er.prototype.xa=function(){this.g=!1};function Cu(c,y,v,b,H,G){c.info(function(){if(c.g)if(G)for(var se="",Le=G.split("&"),bt=0;bt<Le.length;bt++){var Ue=Le[bt].split("=");if(1<Ue.length){var Dt=Ue[0];Ue=Ue[1];var wt=Dt.split("_");se=2<=wt.length&&wt[1]=="type"?se+(Dt+"="+Ue+"&"):se+(Dt+"=redacted&")}}else se=null;else se=G;return"XMLHTTP REQ ("+b+") [attempt "+H+"]: "+y+`
`+v+`
`+se})}function xu(c,y,v,b,H,G,se){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+H+"]: "+y+`
`+v+`
`+G+" "+se})}function Tr(c,y,v,b){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Nt(c,v)+(b?" "+b:"")})}function ii(c,y){c.info(function(){return"TIMEOUT: "+y})}Er.prototype.info=function(){};function Nt(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var b=v[c];if(!(2>b.length)){var H=b[1];if(Array.isArray(H)&&!(1>H.length)){var G=H[0];if(G!="noop"&&G!="stop"&&G!="close")for(var se=1;se<H.length;se++)H[se]=""}}}}return ko(v)}catch{return y}}var Tt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Di={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ys;function ga(){}U(ga,Po),ga.prototype.g=function(){return new XMLHttpRequest},ga.prototype.i=function(){return{}},ys=new ga;function ri(c,y,v,b){this.j=c,this.i=y,this.l=v,this.R=b||1,this.U=new gs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Lo}function Lo(){this.i=null,this.g="",this.h=!1}var br={},vs={};function Gn(c,y,v){c.L=1,c.v=Ts(at(y)),c.m=v,c.P=!0,Mi(c,null)}function Mi(c,y){c.F=Date.now(),et(c),c.A=at(c.v);var v=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),Vi(v.i,"t",b),c.C=0,v=c.j.J,c.h=new Lo,c.g=qu(c.j,v?y:null,!c.m),0<c.O&&(c.M=new yf(I(c.Y,c,c.g),c.O)),y=c.U,v=c.g,b=c.ca;var H="readystatechange";Array.isArray(H)||(H&&(pr[0]=H.toString()),H=pr);for(var G=0;G<H.length;G++){var se=Ni(v,H[G],b||y.handleEvent,!1,y.h||y);if(!se)break;y.g[se.key]=se}y=c.H?C(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),vr(),Cu(c.i,c.u,c.A,c.l,c.R,c.m)}ri.prototype.ca=function(c){c=c.target;const y=this.M;y&&On(c)==3?y.j():this.Y(c)},ri.prototype.Y=function(c){try{if(c==this.g)e:{const wt=On(this.g);var y=this.g.Ba();const zi=this.g.Z();if(!(3>wt)&&(wt!=3||this.g&&(this.h.h||this.g.oa()||Pu(this.g)))){this.J||wt!=4||y==7||(y==8||0>=zi?vr(3):vr(2)),ya(this);var v=this.g.Z();this.X=v;t:if(wr(this)){var b=Pu(this.g);c="";var H=b.length,G=On(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ln(this),hn(this);var se="";break t}this.h.i=new m.TextDecoder}for(y=0;y<H;y++)this.h.h=!0,c+=this.h.i.decode(b[y],{stream:!(G&&y==H-1)});b.length=0,this.h.g+=c,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=v==200,xu(this.i,this.u,this.A,this.l,this.R,wt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Le,bt=this.g;if((Le=bt.g?bt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ee(Le)){var Ue=Le;break t}}Ue=null}if(v=Ue)Tr(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fn(this,v);else{this.o=!1,this.s=3,ft(12),ln(this),hn(this);break e}}if(this.P){v=!0;let Ut;for(;!this.J&&this.C<se.length;)if(Ut=Sr(this,se),Ut==vs){wt==4&&(this.s=4,ft(14),v=!1),Tr(this.i,this.l,null,"[Incomplete Response]");break}else if(Ut==br){this.s=4,ft(15),Tr(this.i,this.l,se,"[Invalid Chunk]"),v=!1;break}else Tr(this.i,this.l,Ut,null),fn(this,Ut);if(wr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||se.length!=0||this.h.h||(this.s=1,ft(16),v=!1),this.o=this.o&&v,!v)Tr(this.i,this.l,se,"[Invalid Chunked Response]"),ln(this),hn(this);else if(0<se.length&&!this.W){this.W=!0;var Dt=this.j;Dt.g==this&&Dt.ba&&!Dt.M&&(Dt.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),Cs(Dt),Dt.M=!0,ft(11))}}else Tr(this.i,this.l,se,null),fn(this,se);wt==4&&ln(this),this.o&&!this.J&&(wt==4?zu(this.j,this):(this.o=!1,et(this)))}else wf(this.g),v==400&&0<se.indexOf("Unknown SID")?(this.s=3,ft(12)):(this.s=0,ft(13)),ln(this),hn(this)}}}catch{}finally{}};function wr(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Sr(c,y){var v=c.C,b=y.indexOf(`
`,v);return b==-1?vs:(v=Number(y.substring(v,b)),isNaN(v)?br:(b+=1,b+v>y.length?vs:(y=y.slice(b,b+v),c.C=b+v,y)))}ri.prototype.cancel=function(){this.J=!0,ln(this)};function et(c){c.S=Date.now()+c.I,Uo(c,c.I)}function Uo(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=_r(I(c.ba,c),y)}function ya(c){c.B&&(m.clearTimeout(c.B),c.B=null)}ri.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(ii(this.i,this.A),this.L!=2&&(vr(),ft(17)),ln(this),this.s=2,hn(this)):Uo(this,this.S-c)};function hn(c){c.j.G==0||c.J||zu(c.j,c)}function ln(c){ya(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,$t(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function fn(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||Ar(v.h,c))){if(!c.K&&Ar(v.h,c)&&v.G==3){try{var b=v.Da.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var H=b;if(H[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)Ia(v),Aa(v);else break e;Yo(v),ft(18)}}else v.za=H[1],0<v.za-v.T&&37500>H[2]&&v.F&&v.v==0&&!v.C&&(v.C=_r(I(v.Za,v),6e3));if(1>=Nu(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else ji(v,11)}else if((c.K||v.g==c)&&Ia(v),!ee(y))for(H=v.Da.g.parse(y),y=0;y<H.length;y++){let Ue=H[y];if(v.T=Ue[0],Ue=Ue[1],v.G==2)if(Ue[0]=="c"){v.K=Ue[1],v.ia=Ue[2];const Dt=Ue[3];Dt!=null&&(v.la=Dt,v.j.info("VER="+v.la));const wt=Ue[4];wt!=null&&(v.Aa=wt,v.j.info("SVER="+v.Aa));const zi=Ue[5];zi!=null&&typeof zi=="number"&&0<zi&&(b=1.5*zi,v.L=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const Ut=c.g;if(Ut){const hi=Ut.g?Ut.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(hi){var G=b.h;G.g||hi.indexOf("spdy")==-1&&hi.indexOf("quic")==-1&&hi.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Rr(G,G.h),G.h=null))}if(b.D){const Wo=Ut.g?Ut.g.getResponseHeader("X-HTTP-Session-Id"):null;Wo&&(b.ya=Wo,He(b.I,b.D,Wo))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),b=v;var se=c;if(b.qa=Hu(b,b.J?b.ia:null,b.W),se.K){In(b.h,se);var Le=se,bt=b.L;bt&&(Le.I=bt),Le.B&&(ya(Le),et(Le)),b.g=se}else Uu(b);0<v.i.length&&Ra(v)}else Ue[0]!="stop"&&Ue[0]!="close"||ji(v,7);else v.G==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?ji(v,7):Ko(v):Ue[0]!="noop"&&v.l&&v.l.ta(Ue),v.v=0)}}vr(4)}catch{}}var vf=class{constructor(c,y){this.g=c,this.map=y}};function jo(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function zo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Nu(c){return c.h?1:c.g?c.g.size:0}function Ar(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Rr(c,y){c.g?c.g.add(y):c.h=y}function In(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}jo.prototype.cancel=function(){if(this.i=tn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function tn(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return $(c.i)}function Ou(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],v=c.length,b=0;b<v;b++)y.push(c[b]);return y}y=[],v=0;for(b in c)y[v++]=c[b];return y}function _f(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const b in c)y[v++]=b;return y}}}function _s(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=_f(c),b=Ou(c),H=b.length,G=0;G<H;G++)y.call(void 0,b[G],v&&v[G],c)}var Bo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function va(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var b=c[v].indexOf("="),H=null;if(0<=b){var G=c[v].substring(0,b);H=c[v].substring(b+1)}else G=c[v];y(G,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function ki(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ki){this.h=c.h,Ir(this,c.j),this.o=c.o,this.g=c.g,Es(this,c.s),this.l=c.l;var y=c.i,v=new si;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),_a(this,v),this.m=c.m}else c&&(y=String(c).match(Bo))?(this.h=!1,Ir(this,y[1]||"",!0),this.o=Cr(y[2]||""),this.g=Cr(y[3]||"",!0),Es(this,y[4]),this.l=Cr(y[5]||"",!0),_a(this,y[6]||"",!0),this.m=Cr(y[7]||"")):(this.h=!1,this.i=new si(null,this.h))}ki.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Cn(y,Ho,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Cn(y,Ho,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Cn(v,v.charAt(0)=="/"?qo:Du,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Cn(v,bf)),c.join("")};function at(c){return new ki(c)}function Ir(c,y,v){c.j=v?Cr(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Es(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function _a(c,y,v){y instanceof si?(c.i=y,Fo(c.i,c.h)):(v||(y=Cn(y,Tf)),c.i=new si(y,c.h))}function He(c,y,v){c.i.set(y,v)}function Ts(c){return He(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Cr(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Cn(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,Ef),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Ef(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ho=/[#\/\?@]/g,Du=/[#\?:]/g,qo=/[#\?]/g,Tf=/[#\?@]/g,bf=/#/g;function si(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function xn(c){c.g||(c.g=new Map,c.h=0,c.i&&va(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}i=si.prototype,i.add=function(c,y){xn(this),this.i=null,c=Li(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Ea(c,y){xn(c),y=Li(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Pi(c,y){return xn(c),y=Li(c,y),c.g.has(y)}i.forEach=function(c,y){xn(this),this.g.forEach(function(v,b){v.forEach(function(H){c.call(y,H,b,this)},this)},this)},i.na=function(){xn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let b=0;b<y.length;b++){const H=c[b];for(let G=0;G<H.length;G++)v.push(y[b])}return v},i.V=function(c){xn(this);let y=[];if(typeof c=="string")Pi(this,c)&&(y=y.concat(this.g.get(Li(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},i.set=function(c,y){return xn(this),this.i=null,c=Li(this,c),Pi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Vi(c,y,v){Ea(c,y),0<v.length&&(c.i=null,c.g.set(Li(c,y),$(v)),c.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var b=y[v];const G=encodeURIComponent(String(b)),se=this.V(b);for(b=0;b<se.length;b++){var H=G;se[b]!==""&&(H+="="+encodeURIComponent(String(se[b]))),c.push(H)}}return this.i=c.join("&")};function Li(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Fo(c,y){y&&!c.j&&(xn(c),c.i=null,c.g.forEach(function(v,b){var H=b.toLowerCase();b!=H&&(Ea(this,b),Vi(this,H,v))},c)),c.j=y}function Mu(c,y){const v=new Er;if(m.Image){const b=new Image;b.onload=O(Nn,v,"TestLoadImage: loaded",!0,y,b),b.onerror=O(Nn,v,"TestLoadImage: error",!1,y,b),b.onabort=O(Nn,v,"TestLoadImage: abort",!1,y,b),b.ontimeout=O(Nn,v,"TestLoadImage: timeout",!1,y,b),m.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else y(!1)}function bs(c,y){const v=new Er,b=new AbortController,H=setTimeout(()=>{b.abort(),Nn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:b.signal}).then(G=>{clearTimeout(H),G.ok?Nn(v,"TestPingServer: ok",!0,y):Nn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(H),Nn(v,"TestPingServer: error",!1,y)})}function Nn(c,y,v,b,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),b(v)}catch{}}function ws(){this.g=new en}function ai(c,y,v){const b=v||"";try{_s(c,function(H,G){let se=H;g(H)&&(se=ko(H)),y.push(b+G+"="+encodeURIComponent(se))})}catch(H){throw y.push(b+"type="+encodeURIComponent("_badmap")),H}}function xr(c){this.l=c.Ub||null,this.j=c.eb||!1}U(xr,Po),xr.prototype.g=function(){return new Ui(this.l,this.j)},xr.prototype.i=function(c){return function(){return c}}({});function Ui(c,y){Et.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}U(Ui,Et),i=Ui.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,li(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,oi(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,li(this)),this.g&&(this.readyState=3,li(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Go(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Go(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?oi(this):li(this),this.readyState==3&&Go(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,oi(this))},i.Qa=function(c){this.g&&(this.response=c,oi(this))},i.ga=function(){this.g&&oi(this)};function oi(c){c.readyState=4,c.l=null,c.j=null,c.v=null,li(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function li(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ui.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function $o(c){let y="";return fe(c,function(v,b){y+=b,y+=":",y+=v,y+=`\r
`}),y}function Ot(c,y,v){e:{for(b in v){var b=!1;break e}b=!0}b||(v=$o(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):He(c,y,v))}function Ge(c){Et.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}U(Ge,Et);var Ta=/^https?$/i,Ss=["POST","PUT"];i=Ge.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ys.g(),this.v=this.o?Au(this.o):Au(ys),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(G){ku(this,G);return}if(c=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var H in b)v.set(H,b[H]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const G of b.keys())v.set(G,b.get(G));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(G=>G.toLowerCase()=="content-type"),H=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Ss,y,void 0))||b||H||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,se]of v)this.g.setRequestHeader(G,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{As(this),this.u=!0,this.g.send(c),this.u=!1}catch(G){ku(this,G)}};function ku(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,ba(c),ui(c)}function ba(c){c.A||(c.A=!0,xt(c,"complete"),xt(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,xt(this,"complete"),xt(this,"abort"),ui(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ui(this,!0)),Ge.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?wa(this):this.bb())},i.bb=function(){wa(this)};function wa(c){if(c.h&&typeof f<"u"&&(!c.v[1]||On(c)!=4||c.Z()!=2)){if(c.u&&On(c)==4)Su(c.Ea,0,c);else if(xt(c,"readystatechange"),On(c)==4){c.h=!1;try{const se=c.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var b;if(b=se===0){var H=String(c.D).match(Bo)[1]||null;!H&&m.self&&m.self.location&&(H=m.self.location.protocol.slice(0,-1)),b=!Ta.test(H?H.toLowerCase():"")}v=b}if(v)xt(c,"complete"),xt(c,"success");else{c.m=6;try{var G=2<On(c)?c.g.statusText:""}catch{G=""}c.l=G+" ["+c.Z()+"]",ba(c)}}finally{ui(c)}}}}function ui(c,y){if(c.g){As(c);const v=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||xt(c,"ready");try{v.onreadystatechange=b}catch{}}}function As(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function On(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<On(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),ti(y)}};function Pu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function wf(c){const y={};c=(c.g&&2<=On(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(ee(c[b]))continue;var v=M(c[b]);const H=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const G=y[H]||[];y[H]=G,G.push(v)}D(y,function(b){return b.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Rs(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Sa(c){this.Aa=0,this.i=[],this.j=new Er,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Rs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Rs("baseRetryDelayMs",5e3,c),this.cb=Rs("retryDelaySeedMs",1e4,c),this.Wa=Rs("forwardChannelMaxRetries",2,c),this.wa=Rs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new jo(c&&c.concurrentRequestLimit),this.Da=new ws,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Sa.prototype,i.la=8,i.G=1,i.connect=function(c,y,v,b){ft(0),this.W=c,this.H=y||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.I=Hu(this,null,this.W),Ra(this)};function Ko(c){if(Vu(c),c.G==3){var y=c.U++,v=at(c.I);if(He(v,"SID",c.K),He(v,"RID",y),He(v,"TYPE","terminate"),Is(c,v),y=new ri(c,c.j,y),y.L=2,y.v=Ts(at(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=y.v,v=!0),v||(y.g=qu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),et(y)}Bu(c)}function Aa(c){c.g&&(Cs(c),c.g.cancel(),c.g=null)}function Vu(c){Aa(c),c.u&&(m.clearTimeout(c.u),c.u=null),Ia(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Ra(c){if(!zo(c.h)&&!c.s){c.s=!0;var y=c.Ga;ge||k(),me||(ge(),me=!0),De.add(y,c),c.B=0}}function Sf(c,y){return Nu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=_r(I(c.Ga,c,y),Xo(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const H=new ri(this,this.j,c);let G=this.o;if(this.S&&(G?(G=C(G),A(G,this.S)):G=this.S),this.m!==null||this.O||(H.H=G,G=null),this.P)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(y+=b,4096<y){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Lu(this,H,y),v=at(this.I),He(v,"RID",c),He(v,"CVER",22),this.D&&He(v,"X-HTTP-Session-Id",this.D),Is(this,v),G&&(this.O?y="headers="+encodeURIComponent(String($o(G)))+"&"+y:this.m&&Ot(v,this.m,G)),Rr(this.h,H),this.Ua&&He(v,"TYPE","init"),this.P?(He(v,"$req",y),He(v,"SID","null"),H.T=!0,Gn(H,v,null)):Gn(H,v,y),this.G=2}}else this.G==3&&(c?Qo(this,c):this.i.length==0||zo(this.h)||Qo(this))};function Qo(c,y){var v;y?v=y.l:v=c.U++;const b=at(c.I);He(b,"SID",c.K),He(b,"RID",v),He(b,"AID",c.T),Is(c,b),c.m&&c.o&&Ot(b,c.m,c.o),v=new ri(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Lu(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Rr(c.h,v),Gn(v,b,y)}function Is(c,y){c.H&&fe(c.H,function(v,b){He(y,b,v)}),c.l&&_s({},function(v,b){He(y,b,v)})}function Lu(c,y,v){v=Math.min(c.i.length,v);var b=c.l?I(c.l.Na,c.l,c):null;e:{var H=c.i;let G=-1;for(;;){const se=["count="+v];G==-1?0<v?(G=H[0].g,se.push("ofs="+G)):G=0:se.push("ofs="+G);let Le=!0;for(let bt=0;bt<v;bt++){let Ue=H[bt].g;const Dt=H[bt].map;if(Ue-=G,0>Ue)G=Math.max(0,H[bt].g-100),Le=!1;else try{ai(Dt,se,"req"+Ue+"_")}catch{b&&b(Dt)}}if(Le){b=se.join("&");break e}}}return c=c.i.splice(0,v),y.D=c,b}function Uu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ge||k(),me||(ge(),me=!0),De.add(y,c),c.v=0}}function Yo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=_r(I(c.Fa,c),Xo(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,ju(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=_r(I(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ft(10),Aa(this),ju(this))};function Cs(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function ju(c){c.g=new ri(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=at(c.qa);He(y,"RID","rpc"),He(y,"SID",c.K),He(y,"AID",c.T),He(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&He(y,"TO",c.ja),He(y,"TYPE","xmlhttp"),Is(c,y),c.m&&c.o&&Ot(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=Ts(at(y)),v.m=null,v.P=!0,Mi(v,c)}i.Za=function(){this.C!=null&&(this.C=null,Aa(this),Yo(this),ft(19))};function Ia(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function zu(c,y){var v=null;if(c.g==y){Ia(c),Cs(c),c.g=null;var b=2}else if(Ar(c.h,y))v=y.D,In(c.h,y),b=1;else return;if(c.G!=0){if(y.o)if(b==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var H=c.B;b=ma(),xt(b,new Iu(b,v)),Ra(c)}else Uu(c);else if(H=y.s,H==3||H==0&&0<y.X||!(b==1&&Sf(c,y)||b==2&&Yo(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),H){case 1:ji(c,5);break;case 4:ji(c,10);break;case 3:ji(c,6);break;default:ji(c,2)}}}function Xo(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function ji(c,y){if(c.j.info("Error code "+y),y==2){var v=I(c.fb,c),b=c.Xa;const H=!b;b=new ki(b||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Ir(b,"https"),Ts(b),H?Mu(b.toString(),v):bs(b.toString(),v)}else ft(2);c.G=0,c.l&&c.l.sa(y),Bu(c),Vu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function Bu(c){if(c.G=0,c.ka=[],c.l){const y=tn(c.h);(y.length!=0||c.i.length!=0)&&(B(c.ka,y),B(c.ka,c.i),c.h.i.length=0,$(c.i),c.i.length=0),c.l.ra()}}function Hu(c,y,v){var b=v instanceof ki?at(v):new ki(v);if(b.g!="")y&&(b.g=y+"."+b.g),Es(b,b.s);else{var H=m.location;b=H.protocol,y=y?y+"."+H.hostname:H.hostname,H=+H.port;var G=new ki(null);b&&Ir(G,b),y&&(G.g=y),H&&Es(G,H),v&&(G.l=v),b=G}return v=c.D,y=c.ya,v&&y&&He(b,v,y),He(b,"VER",c.la),Is(c,b),b}function qu(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Ge(new xr({eb:v})):new Ge(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Fu(){}i=Fu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Ca(){}Ca.prototype.g=function(c,y){return new nn(c,y)};function nn(c,y){Et.call(this),this.g=new Sa(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!ee(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!ee(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new ci(this)}U(nn,Et),nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Ko(this.g)},nn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=ko(c),c=v);y.i.push(new vf(y.Ya++,c)),y.G==3&&Ra(y)},nn.prototype.N=function(){this.g.l=null,delete this.j,Ko(this.g),delete this.g,nn.aa.N.call(this)};function Gu(c){gr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}U(Gu,gr);function $u(){Fn.call(this),this.status=1}U($u,Fn);function ci(c){this.g=c}U(ci,Fu),ci.prototype.ua=function(){xt(this.g,"a")},ci.prototype.ta=function(c){xt(this.g,new Gu(c))},ci.prototype.sa=function(c){xt(this.g,new $u)},ci.prototype.ra=function(){xt(this.g,"b")},Ca.prototype.createWebChannel=Ca.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,A1=function(){return new Ca},S1=function(){return ma()},w1=Rn,ep={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Tt.NO_ERROR=0,Tt.TIMEOUT=8,Tt.HTTP_ERROR=6,sh=Tt,Di.COMPLETE="complete",b1=Di,Ru.EventType=ni,ni.OPEN="a",ni.CLOSE="b",ni.ERROR="c",ni.MESSAGE="d",Et.prototype.listen=Et.prototype.K,Hl=Ru,Ge.prototype.listenOnce=Ge.prototype.L,Ge.prototype.getLastError=Ge.prototype.Ka,Ge.prototype.getLastErrorCode=Ge.prototype.Ba,Ge.prototype.getStatus=Ge.prototype.Z,Ge.prototype.getResponseJson=Ge.prototype.Oa,Ge.prototype.getResponseText=Ge.prototype.oa,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Ha,T1=Ge}).apply(typeof $c<"u"?$c:typeof self<"u"?self:typeof window<"u"?window:{});const N0="@firebase/firestore",O0="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xt.UNAUTHENTICATED=new Xt(null),Xt.GOOGLE_CREDENTIALS=new Xt("google-credentials-uid"),Xt.FIRST_PARTY=new Xt("first-party-uid"),Xt.MOCK_USER=new Xt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Io="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na=new qh("@firebase/firestore");function no(){return na.logLevel}function ce(i,...e){if(na.logLevel<=Me.DEBUG){const t=e.map(qp);na.debug(`Firestore (${Io}): ${i}`,...t)}}function ur(i,...e){if(na.logLevel<=Me.ERROR){const t=e.map(qp);na.error(`Firestore (${Io}): ${i}`,...t)}}function yo(i,...e){if(na.logLevel<=Me.WARN){const t=e.map(qp);na.warn(`Firestore (${Io}): ${i}`,...t)}}function qp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(i="Unexpected state"){const e=`FIRESTORE (${Io}) INTERNAL ASSERTION FAILED: `+i;throw ur(e),new Error(e)}function $e(i,e){i||be()}function Re(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends ei{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class pN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Xt.UNAUTHENTICATED))}shutdown(){}}class gN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class yN{constructor(e){this.t=e,this.currentUser=Xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){$e(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let u=new Ws;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ws,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ws)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?($e(typeof s.accessToken=="string"),new R1(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string"),new Xt(e)}}class vN{constructor(e,t,s){this.l=e,this.h=t,this.P=s,this.type="FirstParty",this.user=Xt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class _N{constructor(e,t,s){this.l=e,this.h=t,this.P=s}getToken(){return Promise.resolve(new vN(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Xt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class D0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class EN{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,En(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){$e(this.o===void 0);const s=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new D0(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?($e(typeof t.token=="string"),this.R=t.token,new D0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TN(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=TN(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%62))}return s}}function Ve(i,e){return i<e?-1:i>e?1:0}function vo(i,e,t){return i.length===e.length&&i.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0=-62135596800,k0=1e6;class It{static now(){return It.fromMillis(Date.now())}static fromDate(e){return It.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*k0);return new It(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new _e(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new _e(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<M0)throw new _e(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/k0}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-M0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new It(0,0))}static max(){return new Se(new It(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0="__name__";class yi{constructor(e,t,s){t===void 0?t=0:t>e.length&&be(),s===void 0?s=e.length-t:s>e.length-t&&be(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return yi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof yi?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=yi.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return Math.sign(e.length-t.length)}static compareSegments(e,t){const s=yi.isNumericId(e),o=yi.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?yi.extractNumericId(e).compare(yi.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return rs.fromString(e.substring(4,e.length-2))}}class ct extends yi{construct(e,t,s){return new ct(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new _e(ie.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new ct(t)}static emptyPath(){return new ct([])}}const bN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ft extends yi{construct(e,t,s){return new Ft(e,t,s)}static isValidIdentifier(e){return bN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===P0}static keyField(){return new Ft([P0])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new _e(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new _e(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new _e(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new _e(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ft(t)}static emptyPath(){return new Ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(ct.fromString(e))}static fromName(e){return new Ee(ct.fromString(e).popFirst(5))}static empty(){return new Ee(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ct.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new ct(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iu=-1;function wN(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(s===1e9?new It(t+1,0):new It(t,s));return new os(o,Ee.empty(),e)}function SN(i){return new os(i.readTime,i.key,iu)}class os{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new os(Se.min(),Ee.empty(),iu)}static max(){return new os(Se.max(),Ee.empty(),iu)}}function AN(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=Ee.comparator(i.documentKey,e.documentKey),t!==0?t:Ve(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class IN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Co(i){if(i.code!==ie.FAILED_PRECONDITION||i.message!==RN)throw i;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&be(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new J((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof J?t:J.resolve(t)}catch(t){return J.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):J.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):J.reject(t)}static resolve(e){return new J((t,s)=>{t(e)})}static reject(e){return new J((t,s)=>{s(e)})}static waitFor(e){return new J((t,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&t()},p=>s(p))}),f=!0,u===o&&t()})}static or(e){let t=J.resolve(!1);for(const s of e)t=t.next(o=>o?J.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,u)=>{s.push(t.call(this,o,u))}),this.waitFor(s)}static mapArray(e,t){return new J((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;t(e[g]).next(E=>{f[g]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(e,t){return new J((s,o)=>{const u=()=>{e()===!0?t().next(()=>{u()},o):s()};u()})}}function CN(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function xo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.oe(s),this._e=s=>t.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Xh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fp=-1;function Wh(i){return i==null}function wh(i){return i===0&&1/i==-1/0}function xN(i){return typeof i=="number"&&Number.isInteger(i)&&!wh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1="";function NN(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=V0(e)),e=ON(i.get(t),e);return V0(e)}function ON(i,e){let t=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":t+="";break;case C1:t+="";break;default:t+=u}}return t}function V0(i){return i+C1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L0(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function ms(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function x1(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e,t){this.comparator=e,this.root=t||Ht.EMPTY}insert(e,t){return new rt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ht.BLACK,null,null))}remove(e){return new rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ht.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Kc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Kc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Kc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Kc(this.root,e,this.comparator,!0)}}class Kc{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ht{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??Ht.RED,this.left=o??Ht.EMPTY,this.right=u??Ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new Ht(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Ht.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw be();const e=this.left.check();if(e!==this.right.check())throw be();return e+(this.isRed()?0:1)}}Ht.EMPTY=null,Ht.RED=!0,Ht.BLACK=!1;Ht.EMPTY=new class{constructor(){this.size=0}get key(){throw be()}get value(){throw be()}get color(){throw be()}get left(){throw be()}get right(){throw be()}copy(e,t,s,o,u){return this}insert(e,t,s){return new Ht(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.comparator=e,this.data=new rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new U0(this.data.getIterator())}getIteratorFrom(e){return new U0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Ct)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ct(this.comparator);return t.data=e,t}}class U0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.fields=e,e.sort(Ft.comparator)}static empty(){return new Xn([])}unionWith(e){let t=new Ct(Ft.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Xn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return vo(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new N1("Invalid base64 string: "+u):u}}(e);return new Gt(t)}static fromUint8Array(e){const t=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Gt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gt.EMPTY_BYTE_STRING=new Gt("");const DN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ls(i){if($e(!!i),typeof i=="string"){let e=0;const t=DN.exec(i);if($e(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:mt(i.seconds),nanos:mt(i.nanos)}}function mt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function us(i){return typeof i=="string"?Gt.fromBase64String(i):Gt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1="server_timestamp",D1="__type__",M1="__previous_value__",k1="__local_write_time__";function Gp(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[D1])===null||t===void 0?void 0:t.stringValue)===O1}function Zh(i){const e=i.mapValue.fields[M1];return Gp(e)?Zh(e):e}function ru(i){const e=ls(i.mapValue.fields[k1].timestampValue);return new It(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e,t,s,o,u,f,m,p,g){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g}}const Sh="(default)";class su{constructor(e,t){this.projectId=e,this.database=t||Sh}static empty(){return new su("","")}get isDefaultDatabase(){return this.database===Sh}isEqual(e){return e instanceof su&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1="__type__",kN="__max__",Qc={mapValue:{}},V1="__vector__",Ah="value";function cs(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Gp(i)?4:VN(i)?9007199254740991:PN(i)?10:11:be()}function Si(i,e){if(i===e)return!0;const t=cs(i);if(t!==cs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return ru(i).isEqual(ru(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=ls(o.timestampValue),m=ls(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return us(o.bytesValue).isEqual(us(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return mt(o.geoPointValue.latitude)===mt(u.geoPointValue.latitude)&&mt(o.geoPointValue.longitude)===mt(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return mt(o.integerValue)===mt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=mt(o.doubleValue),m=mt(u.doubleValue);return f===m?wh(f)===wh(m):isNaN(f)&&isNaN(m)}return!1}(i,e);case 9:return vo(i.arrayValue.values||[],e.arrayValue.values||[],Si);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(L0(f)!==L0(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Si(f[p],m[p])))return!1;return!0}(i,e);default:return be()}}function au(i,e){return(i.values||[]).find(t=>Si(t,e))!==void 0}function _o(i,e){if(i===e)return 0;const t=cs(i),s=cs(e);if(t!==s)return Ve(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ve(i.booleanValue,e.booleanValue);case 2:return function(u,f){const m=mt(u.integerValue||u.doubleValue),p=mt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(i,e);case 3:return j0(i.timestampValue,e.timestampValue);case 4:return j0(ru(i),ru(e));case 5:return Ve(i.stringValue,e.stringValue);case 6:return function(u,f){const m=us(u),p=us(f);return m.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Ve(m[g],p[g]);if(E!==0)return E}return Ve(m.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Ve(mt(u.latitude),mt(f.latitude));return m!==0?m:Ve(mt(u.longitude),mt(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return z0(i.arrayValue,e.arrayValue);case 10:return function(u,f){var m,p,g,E;const S=u.fields||{},I=f.fields||{},O=(m=S[Ah])===null||m===void 0?void 0:m.arrayValue,U=(p=I[Ah])===null||p===void 0?void 0:p.arrayValue,$=Ve(((g=O==null?void 0:O.values)===null||g===void 0?void 0:g.length)||0,((E=U==null?void 0:U.values)===null||E===void 0?void 0:E.length)||0);return $!==0?$:z0(O,U)}(i.mapValue,e.mapValue);case 11:return function(u,f){if(u===Qc.mapValue&&f===Qc.mapValue)return 0;if(u===Qc.mapValue)return 1;if(f===Qc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let S=0;S<p.length&&S<E.length;++S){const I=Ve(p[S],E[S]);if(I!==0)return I;const O=_o(m[p[S]],g[E[S]]);if(O!==0)return O}return Ve(p.length,E.length)}(i.mapValue,e.mapValue);default:throw be()}}function j0(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ve(i,e);const t=ls(i),s=ls(e),o=Ve(t.seconds,s.seconds);return o!==0?o:Ve(t.nanos,s.nanos)}function z0(i,e){const t=i.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=_o(t[o],s[o]);if(u)return u}return Ve(t.length,s.length)}function Eo(i){return tp(i)}function tp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(t){const s=ls(t);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(t){return us(t).toBase64()}(i.bytesValue):"referenceValue"in i?function(t){return Ee.fromName(t).toString()}(i.referenceValue):"geoPointValue"in i?function(t){return`geo(${t.latitude},${t.longitude})`}(i.geoPointValue):"arrayValue"in i?function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=tp(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${tp(t.fields[f])}`;return o+"}"}(i.mapValue):be()}function ah(i){switch(cs(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Zh(i);return e?16+ah(e):16;case 5:return 2*i.stringValue.length;case 6:return us(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+ah(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return ms(s.fields,(u,f)=>{o+=u.length+ah(f)}),o}(i.mapValue);default:throw be()}}function np(i){return!!i&&"integerValue"in i}function $p(i){return!!i&&"arrayValue"in i}function B0(i){return!!i&&"nullValue"in i}function H0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function oh(i){return!!i&&"mapValue"in i}function PN(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[P1])===null||t===void 0?void 0:t.stringValue)===V1}function Ql(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return ms(i.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Ql(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ql(i.arrayValue.values[t]);return e}return Object.assign({},i)}function VN(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===kN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.value=e}static empty(){return new Tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!oh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ql(t)}setAll(e){let t=Ft.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!t.isImmediateParentOf(m)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=m.popLast()}f?s[m.lastSegment()]=Ql(f):o.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());oh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Si(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];oh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){ms(t,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new Tn(Ql(this.value))}}function L1(i){const e=[];return ms(i.fields,(t,s)=>{const o=new Ft([t]);if(oh(s)){const u=L1(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new Xn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,t,s,o,u,f,m){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Wt(e,0,Se.min(),Se.min(),Se.min(),Tn.empty(),0)}static newFoundDocument(e,t,s,o){return new Wt(e,1,t,Se.min(),s,o,0)}static newNoDocument(e,t){return new Wt(e,2,t,Se.min(),Se.min(),Tn.empty(),0)}static newUnknownDocument(e,t){return new Wt(e,3,t,Se.min(),Se.min(),Tn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,t){this.position=e,this.inclusive=t}}function q0(i,e,t){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],f=i.position[o];if(u.field.isKeyField()?s=Ee.comparator(Ee.fromName(f.referenceValue),t.key):s=_o(f,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function F0(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Si(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,t="asc"){this.field=e,this.dir=t}}function LN(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{}class Rt extends U1{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new jN(e,t,s):t==="array-contains"?new HN(e,s):t==="in"?new qN(e,s):t==="not-in"?new FN(e,s):t==="array-contains-any"?new GN(e,s):new Rt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new zN(e,s):new BN(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(_o(t,this.value)):t!==null&&cs(this.value)===cs(t)&&this.matchesComparison(_o(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ai extends U1{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Ai(e,t)}matches(e){return j1(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function j1(i){return i.op==="and"}function z1(i){return UN(i)&&j1(i)}function UN(i){for(const e of i.filters)if(e instanceof Ai)return!1;return!0}function ip(i){if(i instanceof Rt)return i.field.canonicalString()+i.op.toString()+Eo(i.value);if(z1(i))return i.filters.map(e=>ip(e)).join(",");{const e=i.filters.map(t=>ip(t)).join(",");return`${i.op}(${e})`}}function B1(i,e){return i instanceof Rt?function(s,o){return o instanceof Rt&&s.op===o.op&&s.field.isEqual(o.field)&&Si(s.value,o.value)}(i,e):i instanceof Ai?function(s,o){return o instanceof Ai&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&B1(f,o.filters[m]),!0):!1}(i,e):void be()}function H1(i){return i instanceof Rt?function(t){return`${t.field.canonicalString()} ${t.op} ${Eo(t.value)}`}(i):i instanceof Ai?function(t){return t.op.toString()+" {"+t.getFilters().map(H1).join(" ,")+"}"}(i):"Filter"}class jN extends Rt{constructor(e,t,s){super(e,t,s),this.key=Ee.fromName(s.referenceValue)}matches(e){const t=Ee.comparator(e.key,this.key);return this.matchesComparison(t)}}class zN extends Rt{constructor(e,t){super(e,"in",t),this.keys=q1("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class BN extends Rt{constructor(e,t){super(e,"not-in",t),this.keys=q1("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function q1(i,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>Ee.fromName(s.referenceValue))}class HN extends Rt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return $p(t)&&au(t.arrayValue,this.value)}}class qN extends Rt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&au(this.value.arrayValue,t)}}class FN extends Rt{constructor(e,t){super(e,"not-in",t)}matches(e){if(au(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!au(this.value.arrayValue,t)}}class GN extends Rt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!$p(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>au(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e,t=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.le=null}}function G0(i,e=null,t=[],s=[],o=null,u=null,f=null){return new $N(i,e,t,s,o,u,f)}function Kp(i){const e=Re(i);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>ip(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Wh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Eo(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Eo(s)).join(",")),e.le=t}return e.le}function Qp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!LN(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!B1(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!F0(i.startAt,e.startAt)&&F0(i.endAt,e.endAt)}function rp(i){return Ee.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,t=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function KN(i,e,t,s,o,u,f,m){return new Jh(i,e,t,s,o,u,f,m)}function Yp(i){return new Jh(i)}function $0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function QN(i){return i.collectionGroup!==null}function Yl(i){const e=Re(i);if(e.he===null){e.he=[];const t=new Set;for(const u of e.explicitOrderBy)e.he.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ct(Ft.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.he.push(new Ih(u,s))}),t.has(Ft.keyField().canonicalString())||e.he.push(new Ih(Ft.keyField(),s))}return e.he}function Ti(i){const e=Re(i);return e.Pe||(e.Pe=YN(e,Yl(i))),e.Pe}function YN(i,e){if(i.limitType==="F")return G0(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Ih(o.field,u)});const t=i.endAt?new Rh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Rh(i.startAt.position,i.startAt.inclusive):null;return G0(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function sp(i,e,t){return new Jh(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function ef(i,e){return Qp(Ti(i),Ti(e))&&i.limitType===e.limitType}function F1(i){return`${Kp(Ti(i))}|lt:${i.limitType}`}function io(i){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>H1(o)).join(", ")}]`),Wh(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>Eo(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>Eo(o)).join(",")),`Target(${s})`}(Ti(i))}; limitType=${i.limitType})`}function tf(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Ee.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of Yl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const g=q0(f,m,p);return f.inclusive?g<=0:g<0}(s.startAt,Yl(s),o)||s.endAt&&!function(f,m,p){const g=q0(f,m,p);return f.inclusive?g>=0:g>0}(s.endAt,Yl(s),o))}(i,e)}function XN(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function G1(i){return(e,t)=>{let s=!1;for(const o of Yl(i)){const u=WN(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function WN(i,e,t){const s=i.field.isKeyField()?Ee.comparator(e.key,t.key):function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?_o(p,g):be()}(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return be()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ms(this.inner,(t,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return x1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN=new rt(Ee.comparator);function cr(){return ZN}const $1=new rt(Ee.comparator);function ql(...i){let e=$1;for(const t of i)e=e.insert(t.key,t);return e}function K1(i){let e=$1;return i.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Xs(){return Xl()}function Q1(){return Xl()}function Xl(){return new la(i=>i.toString(),(i,e)=>i.isEqual(e))}const JN=new rt(Ee.comparator),eO=new Ct(Ee.comparator);function ke(...i){let e=eO;for(const t of i)e=e.add(t);return e}const tO=new Ct(Ve);function nO(){return tO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wh(e)?"-0":e}}function Y1(i){return{integerValue:""+i}}function iO(i,e){return xN(e)?Y1(e):Xp(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(){this._=void 0}}function rO(i,e,t){return i instanceof Ch?function(o,u){const f={fields:{[D1]:{stringValue:O1},[k1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Gp(u)&&(u=Zh(u)),u&&(f.fields[M1]=u),{mapValue:f}}(t,e):i instanceof To?W1(i,e):i instanceof ou?Z1(i,e):function(o,u){const f=X1(o,u),m=K0(f)+K0(o.Ie);return np(f)&&np(o.Ie)?Y1(m):Xp(o.serializer,m)}(i,e)}function sO(i,e,t){return i instanceof To?W1(i,e):i instanceof ou?Z1(i,e):t}function X1(i,e){return i instanceof xh?function(s){return np(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Ch extends nf{}class To extends nf{constructor(e){super(),this.elements=e}}function W1(i,e){const t=J1(e);for(const s of i.elements)t.some(o=>Si(o,s))||t.push(s);return{arrayValue:{values:t}}}class ou extends nf{constructor(e){super(),this.elements=e}}function Z1(i,e){let t=J1(e);for(const s of i.elements)t=t.filter(o=>!Si(o,s));return{arrayValue:{values:t}}}class xh extends nf{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function K0(i){return mt(i.integerValue||i.doubleValue)}function J1(i){return $p(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(e,t){this.field=e,this.transform=t}}function oO(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof To&&o instanceof To||s instanceof ou&&o instanceof ou?vo(s.elements,o.elements,Si):s instanceof xh&&o instanceof xh?Si(s.Ie,o.Ie):s instanceof Ch&&o instanceof Ch}(i.transform,e.transform)}class lO{constructor(e,t){this.version=e,this.transformResults=t}}class ar{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ar}static exists(e){return new ar(void 0,e)}static updateTime(e){return new ar(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class rf{}function eb(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new nb(i.key,ar.none()):new sf(i.key,i.data,ar.none());{const t=i.data,s=Tn.empty();let o=new Ct(Ft.comparator);for(let u of e.fields)if(!o.has(u)){let f=t.field(u);f===null&&u.length>1&&(u=u.popLast(),f=t.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new ua(i.key,s,new Xn(o.toArray()),ar.none())}}function uO(i,e,t){i instanceof sf?function(o,u,f){const m=o.value.clone(),p=Y0(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,e,t):i instanceof ua?function(o,u,f){if(!lh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=Y0(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(tb(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(i,e,t):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,t)}function Wl(i,e,t,s){return i instanceof sf?function(u,f,m,p){if(!lh(u.precondition,f))return m;const g=u.value.clone(),E=X0(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(i,e,t,s):i instanceof ua?function(u,f,m,p){if(!lh(u.precondition,f))return m;const g=X0(u.fieldTransforms,p,f),E=f.data;return E.setAll(tb(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(S=>S.field))}(i,e,t,s):function(u,f,m){return lh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(i,e,t)}function cO(i,e){let t=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=X1(s.transform,o||null);u!=null&&(t===null&&(t=Tn.empty()),t.set(s.field,u))}return t||null}function Q0(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&vo(s,o,(u,f)=>oO(u,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class sf extends rf{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ua extends rf{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function tb(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}}),e}function Y0(i,e,t){const s=new Map;$e(i.length===t.length);for(let o=0;o<t.length;o++){const u=i[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,sO(f,m,t[o]))}return s}function X0(i,e,t){const s=new Map;for(const o of i){const u=o.transform,f=t.data.field(o.field);s.set(o.field,rO(u,f,e))}return s}class nb extends rf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hO extends rf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&uO(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Wl(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Wl(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Q1();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=t.has(o.key)?null:m;const p=eb(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Se.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ke())}isEqual(e){return this.batchId===e.batchId&&vo(this.mutations,e.mutations,(t,s)=>Q0(t,s))&&vo(this.baseMutations,e.baseMutations,(t,s)=>Q0(t,s))}}class Wp{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){$e(e.mutations.length===s.length);let o=function(){return JN}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Wp(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _t,ze;function pO(i){switch(i){case ie.OK:return be();case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return be()}}function ib(i){if(i===void 0)return ur("GRPC error has no .code"),ie.UNKNOWN;switch(i){case _t.OK:return ie.OK;case _t.CANCELLED:return ie.CANCELLED;case _t.UNKNOWN:return ie.UNKNOWN;case _t.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case _t.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case _t.INTERNAL:return ie.INTERNAL;case _t.UNAVAILABLE:return ie.UNAVAILABLE;case _t.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case _t.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case _t.NOT_FOUND:return ie.NOT_FOUND;case _t.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case _t.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case _t.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case _t.ABORTED:return ie.ABORTED;case _t.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case _t.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case _t.DATA_LOSS:return ie.DATA_LOSS;default:return be()}}(ze=_t||(_t={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO=new rs([4294967295,4294967295],0);function W0(i){const e=gO().encode(i),t=new E1;return t.update(e),new Uint8Array(t.digest())}function Z0(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new rs([t,s],0),new rs([o,u],0)]}class Zp{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Fl(`Invalid padding: ${t}`);if(s<0)throw new Fl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Fl(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Fl(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=rs.fromNumber(this.Ee)}Ae(e,t,s){let o=e.add(t.multiply(rs.fromNumber(s)));return o.compare(yO)===1&&(o=new rs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=W0(e),[s,o]=Z0(t);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);if(!this.Re(f))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Zp(u,o,t);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.Ee===0)return;const t=W0(e),[s,o]=Z0(t);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);this.Ve(f)}}Ve(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Fl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,vu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new af(Se.min(),o,new rt(Ve),cr(),ke())}}class vu{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new vu(s,t,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,t,s,o){this.me=e,this.removedTargetIds=t,this.key=s,this.fe=o}}class rb{constructor(e,t){this.targetId=e,this.ge=t}}class sb{constructor(e,t,s=Gt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class J0{constructor(){this.pe=0,this.ye=eE(),this.we=Gt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=ke(),t=ke(),s=ke();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:be()}}),new vu(this.we,this.Se,e,t,s)}Me(){this.be=!1,this.ye=eE()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,$e(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class vO{constructor(e){this.ke=e,this.qe=new Map,this.Qe=cr(),this.$e=Yc(),this.Ke=Yc(),this.Ue=new rt(Ve)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const s=this.He(t);switch(e.state){case 0:this.Je(t)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(t);break;case 3:this.Je(t)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),s.Ce(e.resumeToken));break;default:be()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((s,o)=>{this.Je(o)&&t(o)})}Ze(e){const t=e.targetId,s=e.ge.count,o=this.Xe(t);if(o){const u=o.target;if(rp(u))if(s===0){const f=new Ee(u.path);this.ze(t,f,Wt.newNoDocument(f,Se.min()))}else $e(s===1);else{const f=this.et(t);if(f!==s){const m=this.tt(e),p=m?this.nt(m,e,f):1;if(p!==0){this.Ye(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,g)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let f,m;try{f=us(s).toUint8Array()}catch(p){if(p instanceof N1)return yo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Zp(f,o,u)}catch(p){return yo(p instanceof Fl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(e,t,s){return t.ge.count===s-this.st(e,t.targetId)?0:2}st(e,t){const s=this.ke.getRemoteKeysForTarget(t);let o=0;return s.forEach(u=>{const f=this.ke.it(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.ze(t,u,null),o++)}),o}ot(e){const t=new Map;this.qe.forEach((u,f)=>{const m=this.Xe(f);if(m){if(u.current&&rp(m.target)){const p=new Ee(m.target.path);this._t(p).has(f)||this.ut(f,p)||this.ze(f,p,Wt.newNoDocument(p,e))}u.ve&&(t.set(f,u.Fe()),u.Me())}});let s=ke();this.Ke.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const g=this.Xe(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(e));const o=new af(e,t,this.Ue,this.Qe,s);return this.Qe=cr(),this.$e=Yc(),this.Ke=Yc(),this.Ue=new rt(Ve),o}Ge(e,t){if(!this.Je(e))return;const s=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,s),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,t)?o.xe(t,1):o.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),s&&(this.Qe=this.Qe.insert(t,s))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new J0,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new Ct(Ve),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Ct(Ve),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||ce("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new J0),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Yc(){return new rt(Ee.comparator)}function eE(){return new rt(Ee.comparator)}const _O={asc:"ASCENDING",desc:"DESCENDING"},EO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},TO={and:"AND",or:"OR"};class bO{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ap(i,e){return i.useProto3Json||Wh(e)?e:{value:e}}function Nh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ab(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function wO(i,e){return Nh(i,e.toTimestamp())}function bi(i){return $e(!!i),Se.fromTimestamp(function(t){const s=ls(t);return new It(s.seconds,s.nanos)}(i))}function Jp(i,e){return op(i,e).canonicalString()}function op(i,e){const t=function(o){return new ct(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?t:t.child(e)}function ob(i){const e=ct.fromString(i);return $e(fb(e)),e}function lp(i,e){return Jp(i.databaseId,e.path)}function Pm(i,e){const t=ob(e);if(t.get(1)!==i.databaseId.projectId)throw new _e(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new _e(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new Ee(ub(t))}function lb(i,e){return Jp(i.databaseId,e)}function SO(i){const e=ob(i);return e.length===4?ct.emptyPath():ub(e)}function up(i){return new ct(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function ub(i){return $e(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function tE(i,e,t){return{name:lp(i,e),fields:t.value.mapValue.fields}}function AO(i,e){let t;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:be()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?($e(E===void 0||typeof E=="string"),Gt.fromBase64String(E||"")):($e(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Gt.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(g){const E=g.code===void 0?ie.UNKNOWN:ib(g.code);return new _e(E,g.message||"")}(f);t=new sb(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Pm(i,s.document.name),u=bi(s.document.updateTime),f=s.document.createTime?bi(s.document.createTime):Se.min(),m=new Tn({mapValue:{fields:s.document.fields}}),p=Wt.newFoundDocument(o,u,f,m),g=s.targetIds||[],E=s.removedTargetIds||[];t=new uh(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Pm(i,s.document),u=s.readTime?bi(s.readTime):Se.min(),f=Wt.newNoDocument(o,u),m=s.removedTargetIds||[];t=new uh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Pm(i,s.document),u=s.removedTargetIds||[];t=new uh([],u,o,null)}else{if(!("filter"in e))return be();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new mO(o,u),m=s.targetId;t=new rb(m,f)}}return t}function RO(i,e){let t;if(e instanceof sf)t={update:tE(i,e.key,e.value)};else if(e instanceof nb)t={delete:lp(i,e.key)};else if(e instanceof ua)t={update:tE(i,e.key,e.data),updateMask:PO(e.fieldMask)};else{if(!(e instanceof hO))return be();t={verify:lp(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof Ch)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof To)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof ou)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof xh)return{fieldPath:f.field.canonicalString(),increment:m.Ie};throw be()}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:wO(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:be()}(i,e.precondition)),t}function IO(i,e){return i&&i.length>0?($e(e!==void 0),i.map(t=>function(o,u){let f=o.updateTime?bi(o.updateTime):bi(u);return f.isEqual(Se.min())&&(f=bi(u)),new lO(f,o.transformResults||[])}(t,e))):[]}function CO(i,e){return{documents:[lb(i,e.path)]}}function xO(i,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=lb(i,o);const u=function(g){if(g.length!==0)return hb(Ai.create(g,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(E=>function(I){return{field:ro(I.field),direction:DO(I.dir)}}(E))}(e.orderBy);f&&(t.structuredQuery.orderBy=f);const m=ap(i,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ht:t,parent:o}}function NO(i){let e=SO(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){$e(s===1);const E=t.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];t.where&&(u=function(S){const I=cb(S);return I instanceof Ai&&z1(I)?I.getFilters():[I]}(t.where));let f=[];t.orderBy&&(f=function(S){return S.map(I=>function(U){return new Ih(so(U.field),function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(U.direction))}(I))}(t.orderBy));let m=null;t.limit&&(m=function(S){let I;return I=typeof S=="object"?S.value:S,Wh(I)?null:I}(t.limit));let p=null;t.startAt&&(p=function(S){const I=!!S.before,O=S.values||[];return new Rh(O,I)}(t.startAt));let g=null;return t.endAt&&(g=function(S){const I=!S.before,O=S.values||[];return new Rh(O,I)}(t.endAt)),KN(e,o,f,u,m,"F",p,g)}function OO(i,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function cb(i){return i.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=so(t.unaryFilter.field);return Rt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=so(t.unaryFilter.field);return Rt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=so(t.unaryFilter.field);return Rt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=so(t.unaryFilter.field);return Rt.create(f,"!=",{nullValue:"NULL_VALUE"});default:return be()}}(i):i.fieldFilter!==void 0?function(t){return Rt.create(so(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return be()}}(t.fieldFilter.op),t.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(t){return Ai.create(t.compositeFilter.filters.map(s=>cb(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return be()}}(t.compositeFilter.op))}(i):be()}function DO(i){return _O[i]}function MO(i){return EO[i]}function kO(i){return TO[i]}function ro(i){return{fieldPath:i.canonicalString()}}function so(i){return Ft.fromServerFormat(i.fieldPath)}function hb(i){return i instanceof Rt?function(t){if(t.op==="=="){if(H0(t.value))return{unaryFilter:{field:ro(t.field),op:"IS_NAN"}};if(B0(t.value))return{unaryFilter:{field:ro(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(H0(t.value))return{unaryFilter:{field:ro(t.field),op:"IS_NOT_NAN"}};if(B0(t.value))return{unaryFilter:{field:ro(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ro(t.field),op:MO(t.op),value:t.value}}}(i):i instanceof Ai?function(t){const s=t.getFilters().map(o=>hb(o));return s.length===1?s[0]:{compositeFilter:{op:kO(t.op),filters:s}}}(i):be()}function PO(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function fb(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e,t,s,o,u=Se.min(),f=Se.min(),m=Gt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new ts(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(e){this.Tt=e}}function LO(i){const e=NO({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?sp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(){this.Tn=new jO}addToCollectionParentIndex(e,t){return this.Tn.add(t),J.resolve()}getCollectionParents(e,t){return J.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return J.resolve()}deleteFieldIndex(e,t){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,t){return J.resolve()}getDocumentsMatchingTarget(e,t){return J.resolve(null)}getIndexType(e,t){return J.resolve(0)}getFieldIndexes(e,t){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,t){return J.resolve(os.min())}getMinOffsetFromCollectionGroup(e,t){return J.resolve(os.min())}updateCollectionGroup(e,t,s){return J.resolve()}updateIndexEntries(e,t){return J.resolve()}}class jO{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Ct(ct.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ct(ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},db=41943040;class cn{static withCacheSize(e){return new cn(e,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(db,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new bo(0)}static Un(){return new bo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE="LruGarbageCollector",zO=1048576;function rE([i,e],[t,s]){const o=Ve(i,t);return o===0?Ve(e,s):o}class BO{constructor(e){this.Hn=e,this.buffer=new Ct(rE),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();rE(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class HO{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ce(iE,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){xo(t)?ce(iE,"Ignoring IndexedDB error during garbage collection: ",t):await Co(t)}await this.er(3e5)})}}class qO{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return J.resolve(Xh.ae);const s=new BO(t);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.tr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(nE)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),nE):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let s,o,u,f,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(s=S,m=Date.now(),this.removeTargets(e,s,t))).next(S=>(u=S,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(S=>(g=Date.now(),no()<=Me.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${S} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S})))}}function FO(i,e){return new qO(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(){this.changes=new la(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?J.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&Wl(s.mutation,o,Xn.empty(),It.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,ke()).next(()=>s))}getLocalViewOfDocuments(e,t,s=ke()){const o=Xs();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(u=>{let f=ql();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,t){const s=Xs();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,ke()))}populateOverlays(e,t,s){const o=[];return s.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{t.set(f,m)})})}computeViews(e,t,s,o){let u=cr();const f=Xl(),m=function(){return Xl()}();return t.forEach((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof ua)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),Wl(E.mutation,g,E.mutation.getFieldMask(),It.now())):f.set(g.key,Xn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,E)=>f.set(g,E)),t.forEach((g,E)=>{var S;return m.set(g,new $O(E,(S=f.get(g))!==null&&S!==void 0?S:null))}),m))}recalculateAndSaveOverlays(e,t){const s=Xl();let o=new rt((f,m)=>f-m),u=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(f=>{for(const m of f)m.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let E=s.get(p)||Xn.empty();E=m.applyToLocalView(g,E),s.set(p,E);const S=(o.get(m.batchId)||ke()).add(p);o=o.insert(m.batchId,S)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,S=Q1();E.forEach(I=>{if(!u.has(I)){const O=eb(t.get(I),s.get(I));O!==null&&S.set(I,O),u=u.add(I)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,S))}return J.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(f){return Ee.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):QN(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):J.resolve(Xs());let m=iu,p=u;return f.next(g=>J.forEach(g,(E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(E)?J.resolve():this.remoteDocumentCache.getEntry(e,E).next(I=>{p=p.insert(E,I)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,ke())).next(E=>({batchId:m,changes:K1(E)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ee(t)).next(s=>{let o=ql();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let f=ql();return this.indexManager.getCollectionParents(e,u).next(m=>J.forEach(m,p=>{const g=function(S,I){return new Jh(I,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(t,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(E=>{E.forEach((S,I)=>{f=f.insert(S,I)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o))).next(f=>{u.forEach((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,Wt.newInvalidDocument(E)))});let m=ql();return f.forEach((p,g)=>{const E=u.get(p);E!==void 0&&Wl(E.mutation,g,Xn.empty(),It.now()),tf(t,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return J.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:bi(o.createTime)}}(t)),J.resolve()}getNamedQuery(e,t){return J.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(o){return{name:o.name,query:LO(o.bundledQuery),readTime:bi(o.readTime)}}(t)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(){this.overlays=new rt(Ee.comparator),this.Rr=new Map}getOverlay(e,t){return J.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Xs();return J.forEach(t,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,u)=>{this.Et(e,t,u)}),J.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),J.resolve()}getOverlaysForCollection(e,t,s){const o=Xs(),u=t.length+1,f=new Ee(t.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return J.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new rt((g,E)=>g-E);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=Xs(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=Xs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>m.set(g,E)),!(m.size()>=o)););return J.resolve(m)}Et(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new dO(t,s));let u=this.Rr.get(t);u===void 0&&(u=ke(),this.Rr.set(t,u)),this.Rr.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(){this.sessionToken=Gt.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(){this.Vr=new Ct(Vt.mr),this.gr=new Ct(Vt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const s=new Vt(e,t);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.wr(new Vt(e,t))}Sr(e,t){e.forEach(s=>this.removeReference(s,t))}br(e){const t=new Ee(new ct([])),s=new Vt(t,e),o=new Vt(t,e+1),u=[];return this.gr.forEachInRange([s,o],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Ee(new ct([])),s=new Vt(t,e),o=new Vt(t,e+1);let u=ke();return this.gr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const t=new Vt(e,0),s=this.Vr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Vt{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Ee.comparator(e.key,t.key)||Ve(e.Cr,t.Cr)}static pr(e,t){return Ve(e.Cr,t.Cr)||Ee.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Ct(Vt.mr)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new fO(u,t,s,o);this.mutationQueue.push(f);for(const m of o)this.Mr=this.Mr.add(new Vt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return J.resolve(f)}lookupMutationBatch(e,t){return J.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Nr(s),u=o<0?0:o;return J.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Fp:this.Fr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Vt(t,0),o=new Vt(t,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],f=>{const m=this.Or(f.Cr);u.push(m)}),J.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Ct(Ve);return t.forEach(o=>{const u=new Vt(o,0),f=new Vt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],m=>{s=s.add(m.Cr)})}),J.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;Ee.isDocumentKey(u)||(u=u.child(""));const f=new Vt(new Ee(u),0);let m=new Ct(Ve);return this.Mr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Cr)),!0)},f),J.resolve(this.Br(m))}Br(e){const t=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){$e(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return J.forEach(t.mutations,o=>{const u=new Vt(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,t){const s=new Vt(t,0),o=this.Mr.firstAfterOrEqual(s);return J.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(e){this.kr=e,this.docs=function(){return new rt(Ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,f=this.kr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return J.resolve(s?s.document.mutableCopy():Wt.newInvalidDocument(t))}getEntries(e,t){let s=cr();return t.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Wt.newInvalidDocument(o))}),J.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=cr();const f=t.path,m=new Ee(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||AN(SN(E),s)<=0||(o.has(E.key)||tf(t,E))&&(u=u.insert(E.key,E.mutableCopy()))}return J.resolve(u)}getAllFromCollectionGroup(e,t,s,o){be()}qr(e,t){return J.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new JO(this)}getSize(e){return J.resolve(this.size)}}class JO extends GO{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),J.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e){this.persistence=e,this.Qr=new la(t=>Kp(t),Qp),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.$r=0,this.Kr=new eg,this.targetCount=0,this.Ur=bo.Kn()}forEachTarget(e,t){return this.Qr.forEach((s,o)=>t(o)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.$r&&(this.$r=t),J.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new bo(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,J.resolve()}updateTargetData(e,t){return this.zn(t),J.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.br(t.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.Qr.forEach((f,m)=>{m.sequenceNumber<=t&&s.get(m.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),J.waitFor(u).next(()=>o)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,t){const s=this.Qr.get(t)||null;return J.resolve(s)}addMatchingKeys(e,t,s){return this.Kr.yr(t,s),J.resolve()}removeMatchingKeys(e,t,s){this.Kr.Sr(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),J.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Kr.br(t),J.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Kr.vr(t);return J.resolve(s)}containsKey(e,t){return J.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Xh(0),this.zr=!1,this.zr=!0,this.jr=new XO,this.referenceDelegate=e(this),this.Hr=new eD(this),this.indexManager=new UO,this.remoteDocumentCache=function(o){return new ZO(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new VO(t),this.Yr=new QO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new YO,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Wr[e.toKey()];return s||(s=new WO(t,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,s){ce("MemoryPersistence","Starting transaction:",e);const o=new tD(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,t){return J.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,t)))}}class tD extends IN{constructor(e){super(),this.currentSequenceNumber=e}}class tg{constructor(e){this.persistence=e,this.ti=new eg,this.ni=null}static ri(e){return new tg(e)}get ii(){if(this.ni)return this.ni;throw be()}addReference(e,t,s){return this.ti.addReference(s,t),this.ii.delete(s.toString()),J.resolve()}removeReference(e,t,s){return this.ti.removeReference(s,t),this.ii.add(s.toString()),J.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),J.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.ii,s=>{const o=Ee.fromPath(s);return this.si(e,o).next(u=>{u||t.removeEntry(o,Se.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(s=>{s?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return J.or([()=>J.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Oh{constructor(e,t){this.persistence=e,this.oi=new la(s=>NN(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=FO(this,t)}static ri(e,t){return new Oh(e,t)}Zr(){}Xr(e){return J.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}sr(e){let t=0;return this.rr(e,s=>{t++}).next(()=>t)}rr(e,t){return J.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(u=>u?J.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,f=>this.ar(e,f,t).next(m=>{m||(s++,u.removeEntry(f,Se.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),J.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),J.resolve()}removeReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),J.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ah(e.data.value)),t}ar(e,t,s){return J.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.oi.get(t);return J.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Hi=s,this.Ji=o}static Yi(e,t){let s=ke(),o=ke();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new ng(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return rR()?8:CN(Zt())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.rs(e,t).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(e,t,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new nD;return this._s(e,t,f).next(m=>{if(u.result=m,this.Xi)return this.us(e,t,f,m.size)})}).next(()=>u.result)}us(e,t,s,o){return s.documentReadCount<this.es?(no()<=Me.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",io(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),J.resolve()):(no()<=Me.DEBUG&&ce("QueryEngine","Query:",io(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(no()<=Me.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",io(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ti(t))):J.resolve())}rs(e,t){if($0(t))return J.resolve(null);let s=Ti(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=sp(t,null,"F"),s=Ti(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=ke(...u);return this.ns.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.cs(t,m);return this.ls(t,g,f,p.readTime)?this.rs(e,sp(t,null,"F")):this.hs(e,g,t,p)}))})))}ss(e,t,s,o){return $0(t)||o.isEqual(Se.min())?J.resolve(null):this.ns.getDocuments(e,s).next(u=>{const f=this.cs(t,u);return this.ls(t,f,s,o)?J.resolve(null):(no()<=Me.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),io(t)),this.hs(e,f,t,wN(o,iu)).next(m=>m))})}cs(e,t){let s=new Ct(G1(e));return t.forEach((o,u)=>{tf(e,u)&&(s=s.add(u))}),s}ls(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,t,s){return no()<=Me.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",io(t)),this.ns.getDocumentsMatchingQuery(e,t,os.min(),s)}hs(e,t,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(u=>(t.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ig="LocalStore",rD=3e8;class sD{constructor(e,t,s,o){this.persistence=e,this.Ps=t,this.serializer=o,this.Ts=new rt(Ve),this.Is=new la(u=>Kp(u),Qp),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new KO(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function aD(i,e,t,s){return new sD(i,e,t,s)}async function pb(i,e){const t=Re(i);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,t.As(e),t.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=ke();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return t.localDocuments.getDocuments(s,p).next(g=>({Rs:g,removedBatchIds:f,addedBatchIds:m}))})})}function oD(i,e){const t=Re(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=t.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,g,E){const S=g.batch,I=S.keys();let O=J.resolve();return I.forEach(U=>{O=O.next(()=>E.getEntry(p,U)).next($=>{const B=g.docVersions.get(U);$e(B!==null),$.version.compareTo(B)<0&&(S.applyToRemoteDocument($,g),$.isValidDocument()&&($.setReadTime(g.commitVersion),E.addEntry($)))})}),O.next(()=>m.mutationQueue.removeMutationBatch(p,S))}(t,s,e,u).next(()=>u.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=ke();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function gb(i){const e=Re(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function lD(i,e){const t=Re(i),s=e.snapshotVersion;let o=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=t.ds.newChangeBuffer({trackRemovals:!0});o=t.Ts;const m=[];e.targetChanges.forEach((E,S)=>{const I=o.get(S);if(!I)return;m.push(t.Hr.removeMatchingKeys(u,E.removedDocuments,S).next(()=>t.Hr.addMatchingKeys(u,E.addedDocuments,S)));let O=I.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?O=O.withResumeToken(Gt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):E.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(E.resumeToken,s)),o=o.insert(S,O),function($,B,X){return $.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=rD?!0:X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0}(I,O,E)&&m.push(t.Hr.updateTargetData(u,O))});let p=cr(),g=ke();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(uD(u,f,e.documentUpdates).next(E=>{p=E.Vs,g=E.fs})),!s.isEqual(Se.min())){const E=t.Hr.getLastRemoteSnapshotVersion(u).next(S=>t.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return J.waitFor(m).next(()=>f.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(t.Ts=o,u))}function uD(i,e,t){let s=ke(),o=ke();return t.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let f=cr();return t.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Se.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):ce(ig,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{Vs:f,fs:o}})}function cD(i,e){const t=Re(i);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Fp),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function hD(i,e){const t=Re(i);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Hr.getTargetData(s,e).next(u=>u?(o=u,J.resolve(o)):t.Hr.allocateTargetId(s).next(f=>(o=new ts(e,f,"TargetPurposeListen",s.currentSequenceNumber),t.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(s.targetId,s),t.Is.set(e,s.targetId)),s})}async function cp(i,e,t){const s=Re(i),o=s.Ts.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!xo(f))throw f;ce(ig,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function sE(i,e,t){const s=Re(i);let o=Se.min(),u=ke();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,E){const S=Re(p),I=S.Is.get(E);return I!==void 0?J.resolve(S.Ts.get(I)):S.Hr.getTargetData(g,E)}(s,f,Ti(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,e,t?o:Se.min(),t?u:ke())).next(m=>(fD(s,XN(e),m),{documents:m,gs:u})))}function fD(i,e,t){let s=i.Es.get(e)||Se.min();t.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.Es.set(e,s)}class aE{constructor(){this.activeTargetIds=nO()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dD{constructor(){this.ho=new aE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,s){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new aE,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE="ConnectivityMonitor";class lE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ce(oE,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ce(oE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xc=null;function hp(){return Xc===null?Xc=function(){return 268435456+Math.round(2147483648*Math.random())}():Xc++,"0x"+Xc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm="RestConnection",pD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gD{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===Sh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,t,s,o,u){const f=hp(),m=this.bo(e,t.toUriEncodedString());ce(Vm,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(e,m,p,s).then(g=>(ce(Vm,`Received RPC '${e}' ${f}: `,g),g),g=>{throw yo(Vm,`RPC '${e}' ${f} failed with error: `,g,"url: ",m,"request:",s),g})}Co(e,t,s,o,u,f){return this.So(e,t,s,o,u)}Do(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Io}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}bo(e,t){const s=pD[e];return`${this.po}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yt="WebChannelConnection";class vD extends gD{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,s,o){const u=hp();return new Promise((f,m)=>{const p=new T1;p.setWithCredentials(!0),p.listenOnce(b1.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case sh.NO_ERROR:const E=p.getResponseJson();ce(Yt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),f(E);break;case sh.TIMEOUT:ce(Yt,`RPC '${e}' ${u} timed out`),m(new _e(ie.DEADLINE_EXCEEDED,"Request time out"));break;case sh.HTTP_ERROR:const S=p.getStatus();if(ce(Yt,`RPC '${e}' ${u} failed with status:`,S,"response text:",p.getResponseText()),S>0){let I=p.getResponseJson();Array.isArray(I)&&(I=I[0]);const O=I==null?void 0:I.error;if(O&&O.status&&O.message){const U=function(B){const X=B.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(X)>=0?X:ie.UNKNOWN}(O.status);m(new _e(U,O.message))}else m(new _e(ie.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new _e(ie.UNAVAILABLE,"Connection failed."));break;default:be()}}finally{ce(Yt,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(o);ce(Yt,`RPC '${e}' ${u} sending request:`,o),p.send(t,"POST",g,s,15)})}Wo(e,t,s){const o=hp(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=A1(),m=S1(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ce(Yt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const S=f.createWebChannel(E,p);let I=!1,O=!1;const U=new yD({Fo:B=>{O?ce(Yt,`Not sending because RPC '${e}' stream ${o} is closed:`,B):(I||(ce(Yt,`Opening RPC '${e}' stream ${o} transport.`),S.open(),I=!0),ce(Yt,`RPC '${e}' stream ${o} sending:`,B),S.send(B))},Mo:()=>S.close()}),$=(B,X,ee)=>{B.listen(X,Q=>{try{ee(Q)}catch(ue){setTimeout(()=>{throw ue},0)}})};return $(S,Hl.EventType.OPEN,()=>{O||(ce(Yt,`RPC '${e}' stream ${o} transport opened.`),U.Qo())}),$(S,Hl.EventType.CLOSE,()=>{O||(O=!0,ce(Yt,`RPC '${e}' stream ${o} transport closed`),U.Ko())}),$(S,Hl.EventType.ERROR,B=>{O||(O=!0,yo(Yt,`RPC '${e}' stream ${o} transport errored:`,B),U.Ko(new _e(ie.UNAVAILABLE,"The operation could not be completed")))}),$(S,Hl.EventType.MESSAGE,B=>{var X;if(!O){const ee=B.data[0];$e(!!ee);const Q=ee,ue=(Q==null?void 0:Q.error)||((X=Q[0])===null||X===void 0?void 0:X.error);if(ue){ce(Yt,`RPC '${e}' stream ${o} received error:`,ue);const re=ue.status;let fe=function(w){const A=_t[w];if(A!==void 0)return ib(A)}(re),D=ue.message;fe===void 0&&(fe=ie.INTERNAL,D="Unknown error status: "+re+" with message "+ue.message),O=!0,U.Ko(new _e(fe,D)),S.close()}else ce(Yt,`RPC '${e}' stream ${o} received:`,ee),U.Uo(ee)}}),$(m,w1.STAT_EVENT,B=>{B.stat===ep.PROXY?ce(Yt,`RPC '${e}' stream ${o} detected buffering proxy`):B.stat===ep.NOPROXY&&ce(Yt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{U.$o()},0),U}}function Lm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function of(i){return new bO(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(e,t,s=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=t,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,t-s);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE="PersistentStream";class vb{constructor(e,t,s,o,u,f,m,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new yb(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===ie.RESOURCE_EXHAUSTED?(ur(t.toString()),ur("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===t&&this.V_(s,o)},s=>{e(()=>{const o=new _e(ie.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,t){const s=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ce(uE,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(ce(uE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _D extends vb{constructor(e,t,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,f),this.serializer=u}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=AO(this.serializer,e),s=function(u){if(!("targetChange"in u))return Se.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Se.min():f.readTime?bi(f.readTime):Se.min()}(e);return this.listener.p_(t,s)}y_(e){const t={};t.database=up(this.serializer),t.addTarget=function(u,f){let m;const p=f.target;if(m=rp(p)?{documents:CO(u,p)}:{query:xO(u,p).ht},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=ab(u,f.resumeToken);const g=ap(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Se.min())>0){m.readTime=Nh(u,f.snapshotVersion.toTimestamp());const g=ap(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=OO(this.serializer,e);s&&(t.labels=s),this.I_(t)}w_(e){const t={};t.database=up(this.serializer),t.removeTarget=e,this.I_(t)}}class ED extends vb{constructor(e,t,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,f),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return $e(!!e.streamToken),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){$e(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=IO(e.writeResults,e.commitTime),s=bi(e.commitTime);return this.listener.v_(s,t)}C_(){const e={};e.database=up(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>RO(this.serializer,s))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{}class bD extends TD{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new _e(ie.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.So(e,op(t,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new _e(ie.UNKNOWN,u.toString())})}Co(e,t,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(e,op(t,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new _e(ie.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class wD{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ur(t),this.N_=!1):ce("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia="RemoteStore";class SD{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{s.enqueueAndForget(async()=>{ca(this)&&(ce(ia,"Restarting streams for network reachability change."),await async function(p){const g=Re(p);g.W_.add(4),await _u(g),g.j_.set("Unknown"),g.W_.delete(4),await lf(g)}(this))})}),this.j_=new wD(s,o)}}async function lf(i){if(ca(i))for(const e of i.G_)await e(!0)}async function _u(i){for(const e of i.G_)await e(!1)}function _b(i,e){const t=Re(i);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),og(t)?ag(t):No(t).c_()&&sg(t,e))}function rg(i,e){const t=Re(i),s=No(t);t.U_.delete(e),s.c_()&&Eb(t,e),t.U_.size===0&&(s.c_()?s.P_():ca(t)&&t.j_.set("Unknown"))}function sg(i,e){if(i.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}No(i).y_(e)}function Eb(i,e){i.H_.Ne(e),No(i).w_(e)}function ag(i){i.H_=new vO({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>i.U_.get(e)||null,it:()=>i.datastore.serializer.databaseId}),No(i).start(),i.j_.B_()}function og(i){return ca(i)&&!No(i).u_()&&i.U_.size>0}function ca(i){return Re(i).W_.size===0}function Tb(i){i.H_=void 0}async function AD(i){i.j_.set("Online")}async function RD(i){i.U_.forEach((e,t)=>{sg(i,e)})}async function ID(i,e){Tb(i),og(i)?(i.j_.q_(e),ag(i)):i.j_.set("Unknown")}async function CD(i,e,t){if(i.j_.set("Online"),e instanceof sb&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.U_.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.U_.delete(m),o.H_.removeTarget(m))}(i,e)}catch(s){ce(ia,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Dh(i,s)}else if(e instanceof uh?i.H_.We(e):e instanceof rb?i.H_.Ze(e):i.H_.je(e),!t.isEqual(Se.min()))try{const s=await gb(i.localStore);t.compareTo(s)>=0&&await function(u,f){const m=u.H_.ot(f);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.U_.get(g);E&&u.U_.set(g,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,g)=>{const E=u.U_.get(p);if(!E)return;u.U_.set(p,E.withResumeToken(Gt.EMPTY_BYTE_STRING,E.snapshotVersion)),Eb(u,p);const S=new ts(E.target,p,g,E.sequenceNumber);sg(u,S)}),u.remoteSyncer.applyRemoteEvent(m)}(i,t)}catch(s){ce(ia,"Failed to raise snapshot:",s),await Dh(i,s)}}async function Dh(i,e,t){if(!xo(e))throw e;i.W_.add(1),await _u(i),i.j_.set("Offline"),t||(t=()=>gb(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ce(ia,"Retrying IndexedDB access"),await t(),i.W_.delete(1),await lf(i)})}function bb(i,e){return e().catch(t=>Dh(i,t,e))}async function uf(i){const e=Re(i),t=hs(e);let s=e.K_.length>0?e.K_[e.K_.length-1].batchId:Fp;for(;xD(e);)try{const o=await cD(e.localStore,s);if(o===null){e.K_.length===0&&t.P_();break}s=o.batchId,ND(e,o)}catch(o){await Dh(e,o)}wb(e)&&Sb(e)}function xD(i){return ca(i)&&i.K_.length<10}function ND(i,e){i.K_.push(e);const t=hs(i);t.c_()&&t.S_&&t.b_(e.mutations)}function wb(i){return ca(i)&&!hs(i).u_()&&i.K_.length>0}function Sb(i){hs(i).start()}async function OD(i){hs(i).C_()}async function DD(i){const e=hs(i);for(const t of i.K_)e.b_(t.mutations)}async function MD(i,e,t){const s=i.K_.shift(),o=Wp.from(s,e,t);await bb(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await uf(i)}async function kD(i,e){e&&hs(i).S_&&await async function(s,o){if(function(f){return pO(f)&&f!==ie.ABORTED}(o.code)){const u=s.K_.shift();hs(s).h_(),await bb(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await uf(s)}}(i,e),wb(i)&&Sb(i)}async function cE(i,e){const t=Re(i);t.asyncQueue.verifyOperationInProgress(),ce(ia,"RemoteStore received new credentials");const s=ca(t);t.W_.add(3),await _u(t),s&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await lf(t)}async function PD(i,e){const t=Re(i);e?(t.W_.delete(2),await lf(t)):e||(t.W_.add(2),await _u(t),t.j_.set("Unknown"))}function No(i){return i.J_||(i.J_=function(t,s,o){const u=Re(t);return u.M_(),new _D(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:AD.bind(null,i),No:RD.bind(null,i),Lo:ID.bind(null,i),p_:CD.bind(null,i)}),i.G_.push(async e=>{e?(i.J_.h_(),og(i)?ag(i):i.j_.set("Unknown")):(await i.J_.stop(),Tb(i))})),i.J_}function hs(i){return i.Y_||(i.Y_=function(t,s,o){const u=Re(t);return u.M_(),new ED(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:()=>Promise.resolve(),No:OD.bind(null,i),Lo:kD.bind(null,i),D_:DD.bind(null,i),v_:MD.bind(null,i)}),i.G_.push(async e=>{e?(i.Y_.h_(),await uf(i)):(await i.Y_.stop(),i.K_.length>0&&(ce(ia,`Stopping write stream with ${i.K_.length} pending writes`),i.K_=[]))})),i.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Ws,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const f=Date.now()+s,m=new lg(e,t,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ug(i,e){if(ur("AsyncQueue",`${e}: ${i}`),xo(i))return new _e(ie.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{static emptySet(e){return new fo(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||Ee.comparator(t.key,s.key):(t,s)=>Ee.comparator(t.key,s.key),this.keyedMap=ql(),this.sortedSet=new rt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof fo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new fo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(){this.Z_=new rt(Ee.comparator)}track(e){const t=e.doc.key,s=this.Z_.get(t);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(t):e.type===1&&s.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):be():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,s)=>{e.push(s)}),e}}class wo{constructor(e,t,s,o,u,f,m,p,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,u){const f=[];return t.forEach(m=>{f.push({type:0,doc:m})}),new wo(e,t,fo.emptySet(t),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ef(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class LD{constructor(){this.queries=fE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,s){const o=Re(t),u=o.queries;o.queries=fE(),u.forEach((f,m)=>{for(const p of m.ta)p.onError(s)})})(this,new _e(ie.ABORTED,"Firestore shutting down"))}}function fE(){return new la(i=>F1(i),ef)}async function UD(i,e){const t=Re(i);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.na()&&e.ra()&&(s=2):(u=new VD,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await t.onListen(o,!0);break;case 1:u.ea=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(f){const m=ug(f,`Initialization of query '${io(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,u),u.ta.push(e),e.sa(t.onlineState),u.ea&&e.oa(u.ea)&&cg(t)}async function jD(i,e){const t=Re(i),s=e.query;let o=3;const u=t.queries.get(s);if(u){const f=u.ta.indexOf(e);f>=0&&(u.ta.splice(f,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function zD(i,e){const t=Re(i);let s=!1;for(const o of e){const u=o.query,f=t.queries.get(u);if(f){for(const m of f.ta)m.oa(o)&&(s=!0);f.ea=o}}s&&cg(t)}function BD(i,e,t){const s=Re(i),o=s.queries.get(e);if(o)for(const u of o.ta)u.onError(t);s.queries.delete(e)}function cg(i){i.ia.forEach(e=>{e.next()})}var fp,dE;(dE=fp||(fp={}))._a="default",dE.Cache="cache";class HD{constructor(e,t,s){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new wo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const s=t!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=wo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==fp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e){this.key=e}}class Rb{constructor(e){this.key=e}}class qD{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=ke(),this.mutatedKeys=ke(),this.ya=G1(e),this.wa=new fo(this.ya)}get Sa(){return this.fa}ba(e,t){const s=t?t.Da:new hE,o=t?t.wa:this.wa;let u=t?t.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,S)=>{const I=o.get(E),O=tf(this.query,S)?S:null,U=!!I&&this.mutatedKeys.has(I.key),$=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let B=!1;I&&O?I.data.isEqual(O.data)?U!==$&&(s.track({type:3,doc:O}),B=!0):this.va(I,O)||(s.track({type:2,doc:O}),B=!0,(p&&this.ya(O,p)>0||g&&this.ya(O,g)<0)&&(m=!0)):!I&&O?(s.track({type:0,doc:O}),B=!0):I&&!O&&(s.track({type:1,doc:I}),B=!0,(p||g)&&(m=!0)),B&&(O?(f=f.add(O),u=$?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{wa:f,Da:s,ls:m,mutatedKeys:u}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const f=e.Da.X_();f.sort((E,S)=>function(O,U){const $=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be()}};return $(O)-$(U)}(E.type,S.type)||this.ya(E.doc,S.doc)),this.Ca(s),o=o!=null&&o;const m=t&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,g=p!==this.ga;return this.ga=p,f.length!==0||g?{snapshot:new wo(this.query,e.wa,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new hE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=ke(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const t=[];return e.forEach(s=>{this.pa.has(s)||t.push(new Rb(s))}),this.pa.forEach(s=>{e.has(s)||t.push(new Ab(s))}),t}Oa(e){this.fa=e.gs,this.pa=ke();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return wo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const hg="SyncEngine";class FD{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class GD{constructor(e){this.key=e,this.Ba=!1}}class $D{constructor(e,t,s,o,u,f){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new la(m=>F1(m),ef),this.qa=new Map,this.Qa=new Set,this.$a=new rt(Ee.comparator),this.Ka=new Map,this.Ua=new eg,this.Wa={},this.Ga=new Map,this.za=bo.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function KD(i,e,t=!0){const s=Db(i);let o;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await Ib(s,e,t,!0),o}async function QD(i,e){const t=Db(i);await Ib(t,e,!0,!1)}async function Ib(i,e,t,s){const o=await hD(i.localStore,Ti(e)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,t);let m;return s&&(m=await YD(i,e,u,f==="current",o.resumeToken)),i.isPrimaryClient&&t&&_b(i.remoteStore,o),m}async function YD(i,e,t,s,o){i.Ha=(S,I,O)=>async function($,B,X,ee){let Q=B.view.ba(X);Q.ls&&(Q=await sE($.localStore,B.query,!1).then(({documents:D})=>B.view.ba(D,Q)));const ue=ee&&ee.targetChanges.get(B.targetId),re=ee&&ee.targetMismatches.get(B.targetId)!=null,fe=B.view.applyChanges(Q,$.isPrimaryClient,ue,re);return pE($,B.targetId,fe.Ma),fe.snapshot}(i,S,I,O);const u=await sE(i.localStore,e,!0),f=new qD(e,u.gs),m=f.ba(u.documents),p=vu.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",o),g=f.applyChanges(m,i.isPrimaryClient,p);pE(i,t,g.Ma);const E=new FD(e,t,f);return i.ka.set(e,E),i.qa.has(t)?i.qa.get(t).push(e):i.qa.set(t,[e]),g.snapshot}async function XD(i,e,t){const s=Re(i),o=s.ka.get(e),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(f=>!ef(f,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await cp(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&rg(s.remoteStore,o.targetId),dp(s,o.targetId)}).catch(Co)):(dp(s,o.targetId),await cp(s.localStore,o.targetId,!0))}async function WD(i,e){const t=Re(i),s=t.ka.get(e),o=t.qa.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),rg(t.remoteStore,s.targetId))}async function ZD(i,e,t){const s=sM(i);try{const o=await function(f,m){const p=Re(f),g=It.now(),E=m.reduce((O,U)=>O.add(U.key),ke());let S,I;return p.persistence.runTransaction("Locally write mutations","readwrite",O=>{let U=cr(),$=ke();return p.ds.getEntries(O,E).next(B=>{U=B,U.forEach((X,ee)=>{ee.isValidDocument()||($=$.add(X))})}).next(()=>p.localDocuments.getOverlayedDocuments(O,U)).next(B=>{S=B;const X=[];for(const ee of m){const Q=cO(ee,S.get(ee.key).overlayedDocument);Q!=null&&X.push(new ua(ee.key,Q,L1(Q.value.mapValue),ar.exists(!0)))}return p.mutationQueue.addMutationBatch(O,g,X,m)}).next(B=>{I=B;const X=B.applyToLocalDocumentSet(S,$);return p.documentOverlayCache.saveOverlays(O,B.batchId,X)})}).then(()=>({batchId:I.batchId,changes:K1(S)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let g=f.Wa[f.currentUser.toKey()];g||(g=new rt(Ve)),g=g.insert(m,p),f.Wa[f.currentUser.toKey()]=g}(s,o.batchId,t),await Eu(s,o.changes),await uf(s.remoteStore)}catch(o){const u=ug(o,"Failed to persist write");t.reject(u)}}async function Cb(i,e){const t=Re(i);try{const s=await lD(t.localStore,e);e.targetChanges.forEach((o,u)=>{const f=t.Ka.get(u);f&&($e(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?$e(f.Ba):o.removedDocuments.size>0&&($e(f.Ba),f.Ba=!1))}),await Eu(t,s,e)}catch(s){await Co(s)}}function mE(i,e,t){const s=Re(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.ka.forEach((u,f)=>{const m=f.view.sa(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=Re(f);p.onlineState=m;let g=!1;p.queries.forEach((E,S)=>{for(const I of S.ta)I.sa(m)&&(g=!0)}),g&&cg(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function JD(i,e,t){const s=Re(i);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Ka.get(e),u=o&&o.key;if(u){let f=new rt(Ee.comparator);f=f.insert(u,Wt.newNoDocument(u,Se.min()));const m=ke().add(u),p=new af(Se.min(),new Map,new rt(Ve),f,m);await Cb(s,p),s.$a=s.$a.remove(u),s.Ka.delete(e),fg(s)}else await cp(s.localStore,e,!1).then(()=>dp(s,e,t)).catch(Co)}async function eM(i,e){const t=Re(i),s=e.batch.batchId;try{const o=await oD(t.localStore,e);Nb(t,s,null),xb(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Eu(t,o)}catch(o){await Co(o)}}async function tM(i,e,t){const s=Re(i);try{const o=await function(f,m){const p=Re(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next(S=>($e(S!==null),E=S.keys(),p.mutationQueue.removeMutationBatch(g,S))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(s.localStore,e);Nb(s,e,t),xb(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Eu(s,o)}catch(o){await Co(o)}}function xb(i,e){(i.Ga.get(e)||[]).forEach(t=>{t.resolve()}),i.Ga.delete(e)}function Nb(i,e,t){const s=Re(i);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function dp(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.qa.get(e))i.ka.delete(s),t&&i.La.Ja(s,t);i.qa.delete(e),i.isPrimaryClient&&i.Ua.br(e).forEach(s=>{i.Ua.containsKey(s)||Ob(i,s)})}function Ob(i,e){i.Qa.delete(e.path.canonicalString());const t=i.$a.get(e);t!==null&&(rg(i.remoteStore,t),i.$a=i.$a.remove(e),i.Ka.delete(t),fg(i))}function pE(i,e,t){for(const s of t)s instanceof Ab?(i.Ua.addReference(s.key,e),nM(i,s)):s instanceof Rb?(ce(hg,"Document no longer in limbo: "+s.key),i.Ua.removeReference(s.key,e),i.Ua.containsKey(s.key)||Ob(i,s.key)):be()}function nM(i,e){const t=e.key,s=t.path.canonicalString();i.$a.get(t)||i.Qa.has(s)||(ce(hg,"New document in limbo: "+t),i.Qa.add(s),fg(i))}function fg(i){for(;i.Qa.size>0&&i.$a.size<i.maxConcurrentLimboResolutions;){const e=i.Qa.values().next().value;i.Qa.delete(e);const t=new Ee(ct.fromString(e)),s=i.za.next();i.Ka.set(s,new GD(t)),i.$a=i.$a.insert(t,s),_b(i.remoteStore,new ts(Ti(Yp(t.path)),s,"TargetPurposeLimboResolution",Xh.ae))}}async function Eu(i,e,t){const s=Re(i),o=[],u=[],f=[];s.ka.isEmpty()||(s.ka.forEach((m,p)=>{f.push(s.Ha(p,e,t).then(g=>{var E;if((g||t)&&s.isPrimaryClient){const S=g?!g.fromCache:(E=t==null?void 0:t.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,S?"current":"not-current")}if(g){o.push(g);const S=ng.Yi(p.targetId,g);u.push(S)}}))}),await Promise.all(f),s.La.p_(o),await async function(p,g){const E=Re(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>J.forEach(g,I=>J.forEach(I.Hi,O=>E.persistence.referenceDelegate.addReference(S,I.targetId,O)).next(()=>J.forEach(I.Ji,O=>E.persistence.referenceDelegate.removeReference(S,I.targetId,O)))))}catch(S){if(!xo(S))throw S;ce(ig,"Failed to update sequence numbers: "+S)}for(const S of g){const I=S.targetId;if(!S.fromCache){const O=E.Ts.get(I),U=O.snapshotVersion,$=O.withLastLimboFreeSnapshotVersion(U);E.Ts=E.Ts.insert(I,$)}}}(s.localStore,u))}async function iM(i,e){const t=Re(i);if(!t.currentUser.isEqual(e)){ce(hg,"User change. New user:",e.toKey());const s=await pb(t.localStore,e);t.currentUser=e,function(u,f){u.Ga.forEach(m=>{m.forEach(p=>{p.reject(new _e(ie.CANCELLED,f))})}),u.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Eu(t,s.Rs)}}function rM(i,e){const t=Re(i),s=t.Ka.get(e);if(s&&s.Ba)return ke().add(s.key);{let o=ke();const u=t.qa.get(e);if(!u)return o;for(const f of u){const m=t.ka.get(f);o=o.unionWith(m.view.Sa)}return o}}function Db(i){const e=Re(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Cb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=JD.bind(null,e),e.La.p_=zD.bind(null,e.eventManager),e.La.Ja=BD.bind(null,e.eventManager),e}function sM(i){const e=Re(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=eM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tM.bind(null,e),e}class Mh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=of(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return aD(this.persistence,new iD,e.initialUser,this.serializer)}Xa(e){return new mb(tg.ri,this.serializer)}Za(e){return new dD}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Mh.provider={build:()=>new Mh};class aM extends Mh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){$e(this.persistence.referenceDelegate instanceof Oh);const s=this.persistence.referenceDelegate.garbageCollector;return new HO(s,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new mb(s=>Oh.ri(s,t),this.serializer)}}class mp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>mE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=iM.bind(null,this.syncEngine),await PD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new LD}()}createDatastore(e){const t=of(e.databaseInfo.databaseId),s=function(u){return new vD(u)}(e.databaseInfo);return function(u,f,m,p){return new bD(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,u,f,m){return new SD(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,t=>mE(this.syncEngine,t,0),function(){return lE.D()?new lE:new mD}())}createSyncEngine(e,t){return function(o,u,f,m,p,g,E){const S=new $D(o,u,f,m,p,g);return E&&(S.ja=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const u=Re(o);ce(ia,"RemoteStore shutting down."),u.W_.add(5),await _u(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}mp.provider={build:()=>new mp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):ur("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs="FirestoreClient";class lM{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=Xt.UNAUTHENTICATED,this.clientId=I1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{ce(fs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ce(fs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ws;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=ug(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Um(i,e){i.asyncQueue.verifyOperationInProgress(),ce(fs,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await pb(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function gE(i,e){i.asyncQueue.verifyOperationInProgress();const t=await uM(i);ce(fs,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener(s=>cE(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>cE(e.remoteStore,o)),i._onlineComponents=e}async function uM(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ce(fs,"Using user provided OfflineComponentProvider");try{await Um(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===ie.FAILED_PRECONDITION||o.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;yo("Error using user provided cache. Falling back to memory cache: "+t),await Um(i,new Mh)}}else ce(fs,"Using default OfflineComponentProvider"),await Um(i,new aM(void 0));return i._offlineComponents}async function Mb(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ce(fs,"Using user provided OnlineComponentProvider"),await gE(i,i._uninitializedComponentsProvider._online)):(ce(fs,"Using default OnlineComponentProvider"),await gE(i,new mp))),i._onlineComponents}function cM(i){return Mb(i).then(e=>e.syncEngine)}async function yE(i){const e=await Mb(i),t=e.eventManager;return t.onListen=KD.bind(null,e.syncEngine),t.onUnlisten=XD.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=QD.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=WD.bind(null,e.syncEngine),t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kb(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hM(i,e,t){if(!t)throw new _e(ie.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function fM(i,e,t,s){if(e===!0&&s===!0)throw new _e(ie.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function _E(i){if(!Ee.isDocumentKey(i))throw new _e(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function dg(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":be()}function mo(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new _e(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=dg(i);throw new _e(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb="firestore.googleapis.com",EE=!0;class TE{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new _e(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Pb,this.ssl=EE}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:EE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=db;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<zO)throw new _e(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}fM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kb((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new _e(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new _e(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new _e(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class mg{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new TE({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new TE(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new pN;switch(s.type){case"firstParty":return new _N(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new _e(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=vE.get(t);s&&(ce("ComponentProvider","Removing Datastore"),vE.delete(t),s.terminate())}(this),Promise.resolve()}}function dM(i,e,t,s={}){var o;const u=(i=mo(i,mg))._getSettings(),f=`${e}:${t}`;if(u.host!==Pb&&u.host!==f&&yo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},u),{host:f,ssl:!1})),s.mockUserToken){let m,p;if(typeof s.mockUserToken=="string")m=s.mockUserToken,p=Xt.MOCK_USER;else{m=ZA(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const g=s.mockUserToken.sub||s.mockUserToken.user_id;if(!g)throw new _e(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Xt(g)}i._authCredentials=new gN(new R1(m,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new cf(this.firestore,e,this._query)}}class qn{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qn(this.firestore,e,this._key)}}class lu extends cf{constructor(e,t,s){super(e,t,Yp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qn(this.firestore,null,new Ee(e))}withConverter(e){return new lu(this.firestore,e,this._path)}}function pp(i,e,...t){if(i=ht(i),arguments.length===1&&(e=I1.newId()),hM("doc","path",e),i instanceof mg){const s=ct.fromString(e,...t);return _E(s),new qn(i,null,new Ee(s))}{if(!(i instanceof qn||i instanceof lu))throw new _e(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(ct.fromString(e,...t));return _E(s),new qn(i.firestore,i instanceof lu?i.converter:null,new Ee(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE="AsyncQueue";class wE{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new yb(this,"async_queue_retry"),this.Su=()=>{const s=Lm();s&&ce(bE,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const t=Lm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Lm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Ws;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!xo(e))throw e;ce(bE,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw ur("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=t,t}enqueueAfterDelay(e,t,s){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const o=lg.createAndSchedule(this,e,t,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&be()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function SE(i){return function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(i,["next","error","complete"])}class kh extends mg{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new wE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new wE(e),this._firestoreClient=void 0,await e}}}function mM(i,e){const t=typeof i=="object"?i:Rp(),s=typeof i=="string"?i:Sh,o=aa(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=XA("firestore");u&&dM(o,...u)}return o}function Vb(i){if(i._terminated)throw new _e(ie.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||pM(i),i._firestoreClient}function pM(i){var e,t,s;const o=i._freezeSettings(),u=function(m,p,g,E){return new MN(m,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,kb(E.experimentalLongPollingOptions),E.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new lM(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e){this._byteString=e}static fromBase64String(e){try{return new So(Gt.fromBase64String(e))}catch(t){throw new _e(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new So(Gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new _e(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new _e(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new _e(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gM=/^__.*__$/;class Lb{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new ua(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Ub(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be()}}class df{constructor(e,t,s,o,u,f){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new df(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Ku(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Ph(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(Ub(this.Lu)&&gM.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class yM{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||of(e)}ju(e,t,s,o=!1){return new df({Lu:e,methodName:t,zu:s,path:Ft.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vM(i){const e=i._freezeSettings(),t=of(i._databaseId);return new yM(i._databaseId,!!e.ignoreUndefinedProperties,t)}class mf extends ff{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof mf}}function _M(i,e,t){return new df({Lu:3,zu:e.settings.zu,methodName:i._methodName,Qu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class yg extends ff{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=_M(this,e,!0),s=this.Hu.map(u=>Tu(u,t)),o=new To(s);return new aO(e.path,o)}isEqual(e){return e instanceof yg&&po(this.Hu,e.Hu)}}function EM(i,e,t,s){const o=i.ju(1,e,t);zb("Data must be an object, but it was:",o,s);const u=[],f=Tn.empty();ms(s,(p,g)=>{const E=vg(e,p,t);g=ht(g);const S=o.Ku(E);if(g instanceof mf)u.push(E);else{const I=Tu(g,S);I!=null&&(u.push(E),f.set(E,I))}});const m=new Xn(u);return new Lb(f,m,o.fieldTransforms)}function TM(i,e,t,s,o,u){const f=i.ju(1,e,t),m=[AE(e,s,t)],p=[o];if(u.length%2!=0)throw new _e(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<u.length;I+=2)m.push(AE(e,u[I])),p.push(u[I+1]);const g=[],E=Tn.empty();for(let I=m.length-1;I>=0;--I)if(!SM(g,m[I])){const O=m[I];let U=p[I];U=ht(U);const $=f.Ku(O);if(U instanceof mf)g.push(O);else{const B=Tu(U,$);B!=null&&(g.push(O),E.set(O,B))}}const S=new Xn(g);return new Lb(E,S,f.fieldTransforms)}function Tu(i,e){if(jb(i=ht(i)))return zb("Unsupported field value:",e,i),bM(i,e);if(i instanceof ff)return function(s,o){if(!Ub(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=Tu(m,o.Uu(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=ht(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return iO(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=It.fromDate(s);return{timestampValue:Nh(o.serializer,u)}}if(s instanceof It){const u=new It(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Nh(o.serializer,u)}}if(s instanceof pg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof So)return{bytesValue:ab(o.serializer,s._byteString)};if(s instanceof qn){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Jp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof gg)return function(f,m){return{mapValue:{fields:{[P1]:{stringValue:V1},[Ah]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw m.Wu("VectorValues must only contain numeric values.");return Xp(m.serializer,g)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${dg(s)}`)}(i,e)}function bM(i,e){const t={};return x1(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ms(i,(s,o)=>{const u=Tu(o,e.qu(s));u!=null&&(t[s]=u)}),{mapValue:{fields:t}}}function jb(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof It||i instanceof pg||i instanceof So||i instanceof qn||i instanceof ff||i instanceof gg)}function zb(i,e,t){if(!jb(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const s=dg(t);throw s==="an object"?e.Wu(i+" a custom object"):e.Wu(i+" "+s)}}function AE(i,e,t){if((e=ht(e))instanceof hf)return e._internalPath;if(typeof e=="string")return vg(i,e);throw Ph("Field path arguments must be of type string or ",i,!1,void 0,t)}const wM=new RegExp("[~\\*/\\[\\]]");function vg(i,e,t){if(e.search(wM)>=0)throw Ph(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new hf(...e.split("."))._internalPath}catch{throw Ph(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Ph(i,e,t,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new _e(ie.INVALID_ARGUMENT,m+i+p)}function SM(i,e){return i.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new qn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new AM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Hb("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class AM extends Bb{data(){return super.data()}}function Hb(i,e){return typeof e=="string"?vg(i,e):e instanceof hf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RM(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new _e(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class IM{convertValue(e,t="none"){switch(cs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(us(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw be()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return ms(e,(o,u)=>{s[o]=this.convertValue(u,t)}),s}convertVectorValue(e){var t,s,o;const u=(o=(s=(t=e.fields)===null||t===void 0?void 0:t[Ah].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>mt(f.doubleValue));return new gg(u)}convertGeoPoint(e){return new pg(mt(e.latitude),mt(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Zh(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(ru(e));default:return null}}convertTimestamp(e){const t=ls(e);return new It(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=ct.fromString(e);$e(fb(s));const o=new su(s.get(1),s.get(3)),u=new Ee(s.popFirst(5));return o.isEqual(t)||ur(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qb extends Bb{constructor(e,t,s,o,u,f){super(e,t,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ch(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Hb("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class ch extends qb{data(e={}){return super.data(e)}}class CM{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Gl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new ch(this._firestore,this._userDataWriter,s.key,s,new Gl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new _e(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new ch(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Gl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new ch(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Gl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:xM(m.type),doc:p,oldIndex:g,newIndex:E}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function xM(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be()}}class Fb extends IM{constructor(e){super(),this.firestore=e}convertBytes(e){return new So(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new qn(this.firestore,null,t)}}function NM(i,e,t,...s){i=mo(i,qn);const o=mo(i.firestore,kh),u=vM(o);let f;return f=typeof(e=ht(e))=="string"||e instanceof hf?TM(u,"updateDoc",i._key,e,t,s):EM(u,"updateDoc",i._key,e),OM(o,[f.toMutation(i._key,ar.exists(!0))])}function RE(i,...e){var t,s,o;i=ht(i);let u={includeMetadataChanges:!1,source:"default"},f=0;typeof e[f]!="object"||SE(e[f])||(u=e[f],f++);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(SE(e[f])){const S=e[f];e[f]=(t=S.next)===null||t===void 0?void 0:t.bind(S),e[f+1]=(s=S.error)===null||s===void 0?void 0:s.bind(S),e[f+2]=(o=S.complete)===null||o===void 0?void 0:o.bind(S)}let p,g,E;if(i instanceof qn)g=mo(i.firestore,kh),E=Yp(i._key.path),p={next:S=>{e[f]&&e[f](DM(g,i,S))},error:e[f+1],complete:e[f+2]};else{const S=mo(i,cf);g=mo(S.firestore,kh),E=S._query;const I=new Fb(g);p={next:O=>{e[f]&&e[f](new CM(g,I,S,O))},error:e[f+1],complete:e[f+2]},RM(i._query)}return function(I,O,U,$){const B=new oM($),X=new HD(O,B,U);return I.asyncQueue.enqueueAndForget(async()=>UD(await yE(I),X)),()=>{B.su(),I.asyncQueue.enqueueAndForget(async()=>jD(await yE(I),X))}}(Vb(g),E,m,p)}function OM(i,e){return function(s,o){const u=new Ws;return s.asyncQueue.enqueueAndForget(async()=>ZD(await cM(s),o,u)),u.promise}(Vb(i),e)}function DM(i,e,t){const s=t.docs.get(e._key),o=new Fb(i);return new qb(i,o,e._key,s,new Gl(t.hasPendingWrites,t.fromCache),e.converter)}function MM(...i){return new yg("arrayUnion",i)}(function(e,t=!0){(function(o){Io=o})(Ro),wi(new Zn("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new kh(new yN(s.getProvider("auth-internal")),new EN(f,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new _e(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new su(g.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:t},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Hn(N0,O0,e),Hn(N0,O0,"esm2017")})();const kM={apiKey:"AIzaSyByGaIQUI0PskrMs32RokqBaU6P3utZZJk",authDomain:"algo-arena-50b4f.firebaseapp.com",projectId:"algo-arena-50b4f",storageBucket:"algo-arena-50b4f.firebasestorage.app",messagingSenderId:"46784098077",appId:"1:46784098077:web:8c482ff1260c4ddaa1bbf4",measurementId:"G-F25G3J45DD"},Gb=dT(kM),IE=hN(Gb),gp=mM(Gb),CE={Easy:{badge:"bg-green-600 text-white",button:"bg-green-500 text-white hover:bg-green-600",buttonText:"It could be easy for you."},Medium:{badge:"bg-yellow-500 text-gray-900",button:"bg-yellow-500 text-gray-900 hover:bg-yellow-600",buttonText:"Needs your focus to crack it."},Hard:{badge:"bg-red-600 text-white",button:"bg-red-600 text-white hover:bg-red-700",buttonText:"Push your limits to solve this one!"}},yp=P.memo(()=>R.jsxs("span",{className:"inline-flex gap-1",children:[R.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-bounce"}),R.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-bounce animation-delay-200"}),R.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-bounce animation-delay-400"})]}));yp.displayName="TypingDots";const _g=P.memo(({icon:i,title:e,desc:t})=>R.jsxs("div",{className:"flex flex-col items-center px-2",children:[R.jsx("div",{className:"p-4 bg-white rounded-full",children:i}),R.jsx("h3",{className:"text-base md:text-lg font-semibold mt-3 text-center",children:e}),R.jsx("p",{className:"text-gray-400 mt-2 text-sm md:text-base text-center",children:t})]}));_g.displayName="Step";_g.propTypes={icon:qt.element.isRequired,title:qt.string.isRequired,desc:qt.string.isRequired};const Eg=P.memo(({problem:i})=>{const e=CE[i.difficulty]||CE.Medium;return R.jsxs("div",{className:"bg-gray-800 p-4 md:p-6 rounded-lg shadow-lg text-center space-y-3 md:space-y-4 h-full flex flex-col justify-between",children:[R.jsxs("div",{children:[R.jsx("h3",{className:"text-lg md:text-xl font-semibold text-white",children:i.title}),R.jsx("span",{className:`inline-block px-3 py-1 text-xs md:text-sm font-semibold rounded-full mt-2 ${e.badge}`,children:i.difficulty}),R.jsx("p",{className:"text-gray-300 text-sm md:text-base mt-2",children:i.description})]}),R.jsx("button",{className:`mt-2 px-3 py-1.5 md:px-4 md:py-2 rounded-lg text-sm md:text-base font-semibold transition ${e.button}`,children:e.buttonText})]})});Eg.displayName="ProblemCard";Eg.propTypes={problem:qt.shape({title:qt.string.isRequired,difficulty:qt.string.isRequired,description:qt.string.isRequired}).isRequired};const Tg=P.memo(({title:i,desc:e})=>R.jsxs("div",{className:"bg-gray-800 p-4 md:p-6 rounded-lg shadow-lg border border-green-500 h-full",children:[R.jsx("h3",{className:"text-lg md:text-xl font-semibold text-white",children:i}),R.jsx("p",{className:"text-gray-400 mt-2 text-sm md:text-base",children:e})]}));Tg.displayName="FeatureBox";Tg.propTypes={title:qt.string.isRequired,desc:qt.string.isRequired};const PM=[{title:"Practice That Matters",desc:"Carefully crafted problems that mirror real-world coding interviews."},{title:"Learn By Doing",desc:"No lengthy tutorialsimprove through hands-on problem solving."},{title:"Track Your Progress",desc:"Watch your skills grow as you advance through difficulty levels."},{title:"Built For Everyone",desc:"Whether you're a student, job seeker, or experienced developer."}],VM=[{icon:R.jsx(LA,{size:32,className:"text-green-500"}),title:"Choose Your Level",desc:"Select from Easy, Medium, or Hard challenges."},{icon:R.jsx(eT,{size:32,className:"text-green-500"}),title:"Solve Problems",desc:"Write, test, and optimize your code in our editor."},{icon:R.jsx(dA,{size:32,className:"text-green-500"}),title:"Get Instant Feedback",desc:"Receive immediate feedback with test cases."},{icon:R.jsx(jA,{size:32,className:"text-green-500"}),title:"Level Up",desc:"Unlock more challenges as you progress."}],LM=()=>{const[i,e]=P.useState(null),[t,s]=P.useState(null),[o,u]=P.useState(null);return P.useEffect(()=>{const f=pp(gp,"HomePage","HeroSection"),m=pp(gp,"HomePage","Featured Problems"),p=RE(f,E=>{var S,I;if(E.exists()){const O=E.data();e((S=O==null?void 0:O.HeroSectionQuotes)==null?void 0:S[O==null?void 0:O.WhichQoute]),s((I=O==null?void 0:O.HeroSectionMessage)==null?void 0:I[O==null?void 0:O.WhichMessage])}}),g=RE(m,E=>{var S;E.exists()&&u((S=E.data())==null?void 0:S.FeaturedProblemsArray)});return()=>{p(),g()}},[]),{heroQuote:i,heroMessage:t,featuredProblems:o}},vp=P.memo(()=>{const i=zh(),e=()=>{i("/codeplayground")};return R.jsx("button",{onClick:e,className:"mt-4 md:mt-5 px-4 py-2 md:px-6 md:py-3 bg-green-500 text-white rounded-lg text-sm md:text-base font-semibold hover:bg-green-600 transition cursor-pointer",children:"Start Coding Now"})});vp.displayName="ActionButton";const $b=()=>{const{heroQuote:i,heroMessage:e,featuredProblems:t}=LM();return R.jsxs("div",{className:"bg-gray-900 text-white",children:[R.jsxs("section",{className:"text-center py-10 md:py-16 lg:py-20 px-4 bg-gray-900 text-white",children:[R.jsxs("h1",{className:"text-2xl md:text-3xl lg:text-4xl font-bold",children:["Master Algorithms,"," ",R.jsx("span",{className:"text-green-500",children:i||R.jsx(yp,{})})]}),R.jsx("p",{className:"text-base md:text-lg mt-3 text-gray-300 max-w-2xl mx-auto",children:e||R.jsx(yp,{})}),R.jsx(vp,{})]}),R.jsxs("section",{className:"py-10 md:py-16 text-center bg-gray-900 text-white px-4",children:[R.jsx("h2",{className:"text-xl md:text-2xl lg:text-3xl font-bold mb-6 md:mb-8 text-green-500",children:"How It Works"}),R.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-6 lg:gap-8 px-2 md:px-6 lg:px-10",children:VM.map((s,o)=>R.jsx(_g,{icon:s.icon,title:s.title,desc:s.desc},o))})]}),R.jsxs("section",{className:"py-10 md:py-16 bg-gray-900 text-white text-center px-4",children:[R.jsx("h2",{className:"text-xl md:text-2xl lg:text-3xl font-bold mb-6 md:mb-8 text-green-500",children:"Featured Problems"}),R.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6 px-2 md:px-6 lg:px-10",children:t===null?Array.from({length:3},(s,o)=>R.jsx("div",{className:"h-32 md:h-40 bg-gray-700 animate-pulse rounded-lg"},o)):t.map((s,o)=>R.jsx(Eg,{problem:s},o))})]}),R.jsxs("section",{className:"py-10 md:py-16 text-center bg-gray-900 text-white px-4",children:[R.jsxs("h2",{className:"text-xl md:text-2xl lg:text-3xl font-bold mb-6 md:mb-8 text-green-500",children:["Why ",R.jsx("span",{className:"text-green-500",children:"AlgoArena?"})]}),R.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 md:gap-6 lg:gap-8 px-2 md:px-6 lg:px-10",children:PM.map((s,o)=>R.jsx(Tg,{title:s.title,desc:s.desc},o))})]}),R.jsxs("section",{className:"text-center py-10 md:py-16 bg-gray-900 text-white px-4",children:[R.jsxs("h2",{className:"text-xl md:text-2xl lg:text-3xl font-bold",children:["Ready to ",R.jsx("span",{className:"text-green-500",children:"sharpen"})," your algorithm skills?"]}),R.jsx(vp,{})]})]})};$b.displayName="Home";function UM(){return R.jsx("div",{className:"min-h-screen bg-slate-50 w-full flex items-center justify-center",children:R.jsxs("div",{className:"flex flex-col items-start max-w-3xl gap-5",children:[R.jsx("h1",{className:"text-6xl font-bold text-black text-center mt-20",children:"Blogs"}),R.jsx("p",{children:"This is a Blogs page"})]})})}function jM(){return R.jsx("div",{className:"min-h-screen bg-slate-50 w-full flex items-center justify-center",children:R.jsxs("div",{className:"flex flex-col items-start max-w-3xl gap-5",children:[R.jsx("h1",{className:"text-6xl font-bold text-black text-center mt-20",children:"Contact Us"}),R.jsx("p",{children:"This is a Contact Page"})]})})}function zM(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function xE(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),t.push.apply(t,s)}return t}function NE(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?xE(Object(t),!0).forEach(function(s){zM(i,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):xE(Object(t)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(t,s))})}return i}function BM(i,e){if(i==null)return{};var t={},s=Object.keys(i),o,u;for(u=0;u<s.length;u++)o=s[u],!(e.indexOf(o)>=0)&&(t[o]=i[o]);return t}function HM(i,e){if(i==null)return{};var t=BM(i,e),s,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(i);for(o=0;o<u.length;o++)s=u[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(i,s)&&(t[s]=i[s])}return t}function qM(i,e){return FM(i)||GM(i,e)||$M(i,e)||KM()}function FM(i){if(Array.isArray(i))return i}function GM(i,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(i)))){var t=[],s=!0,o=!1,u=void 0;try{for(var f=i[Symbol.iterator](),m;!(s=(m=f.next()).done)&&(t.push(m.value),!(e&&t.length===e));s=!0);}catch(p){o=!0,u=p}finally{try{!s&&f.return!=null&&f.return()}finally{if(o)throw u}}return t}}function $M(i,e){if(i){if(typeof i=="string")return OE(i,e);var t=Object.prototype.toString.call(i).slice(8,-1);if(t==="Object"&&i.constructor&&(t=i.constructor.name),t==="Map"||t==="Set")return Array.from(i);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return OE(i,e)}}function OE(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,s=new Array(e);t<e;t++)s[t]=i[t];return s}function KM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QM(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function DE(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),t.push.apply(t,s)}return t}function ME(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?DE(Object(t),!0).forEach(function(s){QM(i,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):DE(Object(t)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(t,s))})}return i}function YM(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return function(s){return e.reduceRight(function(o,u){return u(o)},s)}}function $l(i){return function e(){for(var t=this,s=arguments.length,o=new Array(s),u=0;u<s;u++)o[u]=arguments[u];return o.length>=i.length?i.apply(this,o):function(){for(var f=arguments.length,m=new Array(f),p=0;p<f;p++)m[p]=arguments[p];return e.apply(t,[].concat(o,m))}}}function Vh(i){return{}.toString.call(i).includes("Object")}function XM(i){return!Object.keys(i).length}function uu(i){return typeof i=="function"}function WM(i,e){return Object.prototype.hasOwnProperty.call(i,e)}function ZM(i,e){return Vh(e)||ss("changeType"),Object.keys(e).some(function(t){return!WM(i,t)})&&ss("changeField"),e}function JM(i){uu(i)||ss("selectorType")}function e3(i){uu(i)||Vh(i)||ss("handlerType"),Vh(i)&&Object.values(i).some(function(e){return!uu(e)})&&ss("handlersType")}function t3(i){i||ss("initialIsRequired"),Vh(i)||ss("initialType"),XM(i)&&ss("initialContent")}function n3(i,e){throw new Error(i[e]||i.default)}var i3={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},ss=$l(n3)(i3),Wc={changes:ZM,selector:JM,handler:e3,initial:t3};function r3(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Wc.initial(i),Wc.handler(e);var t={current:i},s=$l(o3)(t,e),o=$l(a3)(t),u=$l(Wc.changes)(i),f=$l(s3)(t);function m(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(E){return E};return Wc.selector(g),g(t.current)}function p(g){YM(s,o,u,f)(g)}return[m,p]}function s3(i,e){return uu(e)?e(i.current):e}function a3(i,e){return i.current=ME(ME({},i.current),e),e}function o3(i,e,t){return uu(e)?e(i.current):Object.keys(t).forEach(function(s){var o;return(o=e[s])===null||o===void 0?void 0:o.call(e,i.current[s])}),t}var l3={create:r3},u3={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs"}};function c3(i){return function e(){for(var t=this,s=arguments.length,o=new Array(s),u=0;u<s;u++)o[u]=arguments[u];return o.length>=i.length?i.apply(this,o):function(){for(var f=arguments.length,m=new Array(f),p=0;p<f;p++)m[p]=arguments[p];return e.apply(t,[].concat(o,m))}}}function h3(i){return{}.toString.call(i).includes("Object")}function f3(i){return i||kE("configIsRequired"),h3(i)||kE("configType"),i.urls?(d3(),{paths:{vs:i.urls.monacoBase}}):i}function d3(){console.warn(Kb.deprecation)}function m3(i,e){throw new Error(i[e]||i.default)}var Kb={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},kE=c3(m3)(Kb),p3={config:f3},g3=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return function(o){return t.reduceRight(function(u,f){return f(u)},o)}};function Qb(i,e){return Object.keys(e).forEach(function(t){e[t]instanceof Object&&i[t]&&Object.assign(e[t],Qb(i[t],e[t]))}),NE(NE({},i),e)}var y3={type:"cancelation",msg:"operation is manually canceled"};function jm(i){var e=!1,t=new Promise(function(s,o){i.then(function(u){return e?o(y3):s(u)}),i.catch(o)});return t.cancel=function(){return e=!0},t}var v3=l3.create({config:u3,isInitialized:!1,resolve:null,reject:null,monaco:null}),Yb=qM(v3,2),bu=Yb[0],pf=Yb[1];function _3(i){var e=p3.config(i),t=e.monaco,s=HM(e,["monaco"]);pf(function(o){return{config:Qb(o.config,s),monaco:t}})}function E3(){var i=bu(function(e){var t=e.monaco,s=e.isInitialized,o=e.resolve;return{monaco:t,isInitialized:s,resolve:o}});if(!i.isInitialized){if(pf({isInitialized:!0}),i.monaco)return i.resolve(i.monaco),jm(zm);if(window.monaco&&window.monaco.editor)return Xb(window.monaco),i.resolve(window.monaco),jm(zm);g3(T3,w3)(S3)}return jm(zm)}function T3(i){return document.body.appendChild(i)}function b3(i){var e=document.createElement("script");return i&&(e.src=i),e}function w3(i){var e=bu(function(s){var o=s.config,u=s.reject;return{config:o,reject:u}}),t=b3("".concat(e.config.paths.vs,"/loader.js"));return t.onload=function(){return i()},t.onerror=e.reject,t}function S3(){var i=bu(function(t){var s=t.config,o=t.resolve,u=t.reject;return{config:s,resolve:o,reject:u}}),e=window.require;e.config(i.config),e(["vs/editor/editor.main"],function(t){Xb(t),i.resolve(t)},function(t){i.reject(t)})}function Xb(i){bu().monaco||pf({monaco:i})}function A3(){return bu(function(i){var e=i.monaco;return e})}var zm=new Promise(function(i,e){return pf({resolve:i,reject:e})}),Wb={config:_3,init:E3,__getMonacoInstance:A3},R3={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},Bm=R3,I3={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},C3=I3;function x3({children:i}){return bn.createElement("div",{style:C3.container},i)}var N3=x3,O3=N3;function D3({width:i,height:e,isEditorReady:t,loading:s,_ref:o,className:u,wrapperProps:f}){return bn.createElement("section",{style:{...Bm.wrapper,width:i,height:e},...f},!t&&bn.createElement(O3,null,s),bn.createElement("div",{ref:o,style:{...Bm.fullWidth,...!t&&Bm.hide},className:u}))}var M3=D3,Zb=P.memo(M3);function k3(i){P.useEffect(i,[])}var Jb=k3;function P3(i,e,t=!0){let s=P.useRef(!0);P.useEffect(s.current||!t?()=>{s.current=!1}:i,e)}var _n=P3;function Zl(){}function oo(i,e,t,s){return V3(i,s)||L3(i,e,t,s)}function V3(i,e){return i.editor.getModel(ew(i,e))}function L3(i,e,t,s){return i.editor.createModel(e,t,s?ew(i,s):void 0)}function ew(i,e){return i.Uri.parse(e)}function U3({original:i,modified:e,language:t,originalLanguage:s,modifiedLanguage:o,originalModelPath:u,modifiedModelPath:f,keepCurrentOriginalModel:m=!1,keepCurrentModifiedModel:p=!1,theme:g="light",loading:E="Loading...",options:S={},height:I="100%",width:O="100%",className:U,wrapperProps:$={},beforeMount:B=Zl,onMount:X=Zl}){let[ee,Q]=P.useState(!1),[ue,re]=P.useState(!0),fe=P.useRef(null),D=P.useRef(null),C=P.useRef(null),w=P.useRef(X),A=P.useRef(B),M=P.useRef(!1);Jb(()=>{let de=Wb.init();return de.then(ne=>(D.current=ne)&&re(!1)).catch(ne=>(ne==null?void 0:ne.type)!=="cancelation"&&console.error("Monaco initialization: error:",ne)),()=>fe.current?Je():de.cancel()}),_n(()=>{if(fe.current&&D.current){let de=fe.current.getOriginalEditor(),ne=oo(D.current,i||"",s||t||"text",u||"");ne!==de.getModel()&&de.setModel(ne)}},[u],ee),_n(()=>{if(fe.current&&D.current){let de=fe.current.getModifiedEditor(),ne=oo(D.current,e||"",o||t||"text",f||"");ne!==de.getModel()&&de.setModel(ne)}},[f],ee),_n(()=>{let de=fe.current.getModifiedEditor();de.getOption(D.current.editor.EditorOption.readOnly)?de.setValue(e||""):e!==de.getValue()&&(de.executeEdits("",[{range:de.getModel().getFullModelRange(),text:e||"",forceMoveMarkers:!0}]),de.pushUndoStop())},[e],ee),_n(()=>{var de,ne;(ne=(de=fe.current)==null?void 0:de.getModel())==null||ne.original.setValue(i||"")},[i],ee),_n(()=>{let{original:de,modified:ne}=fe.current.getModel();D.current.editor.setModelLanguage(de,s||t||"text"),D.current.editor.setModelLanguage(ne,o||t||"text")},[t,s,o],ee),_n(()=>{var de;(de=D.current)==null||de.editor.setTheme(g)},[g],ee),_n(()=>{var de;(de=fe.current)==null||de.updateOptions(S)},[S],ee);let j=P.useCallback(()=>{var ge;if(!D.current)return;A.current(D.current);let de=oo(D.current,i||"",s||t||"text",u||""),ne=oo(D.current,e||"",o||t||"text",f||"");(ge=fe.current)==null||ge.setModel({original:de,modified:ne})},[t,e,o,i,s,u,f]),N=P.useCallback(()=>{var de;!M.current&&C.current&&(fe.current=D.current.editor.createDiffEditor(C.current,{automaticLayout:!0,...S}),j(),(de=D.current)==null||de.editor.setTheme(g),Q(!0),M.current=!0)},[S,g,j]);P.useEffect(()=>{ee&&w.current(fe.current,D.current)},[ee]),P.useEffect(()=>{!ue&&!ee&&N()},[ue,ee,N]);function Je(){var ne,ge,me,De;let de=(ne=fe.current)==null?void 0:ne.getModel();m||((ge=de==null?void 0:de.original)==null||ge.dispose()),p||((me=de==null?void 0:de.modified)==null||me.dispose()),(De=fe.current)==null||De.dispose()}return bn.createElement(Zb,{width:O,height:I,isEditorReady:ee,loading:E,_ref:C,className:U,wrapperProps:$})}var j3=U3;P.memo(j3);function z3(i){let e=P.useRef();return P.useEffect(()=>{e.current=i},[i]),e.current}var B3=z3,Zc=new Map;function H3({defaultValue:i,defaultLanguage:e,defaultPath:t,value:s,language:o,path:u,theme:f="light",line:m,loading:p="Loading...",options:g={},overrideServices:E={},saveViewState:S=!0,keepCurrentModel:I=!1,width:O="100%",height:U="100%",className:$,wrapperProps:B={},beforeMount:X=Zl,onMount:ee=Zl,onChange:Q,onValidate:ue=Zl}){let[re,fe]=P.useState(!1),[D,C]=P.useState(!0),w=P.useRef(null),A=P.useRef(null),M=P.useRef(null),j=P.useRef(ee),N=P.useRef(X),Je=P.useRef(),de=P.useRef(s),ne=B3(u),ge=P.useRef(!1),me=P.useRef(!1);Jb(()=>{let K=Wb.init();return K.then(ae=>(w.current=ae)&&C(!1)).catch(ae=>(ae==null?void 0:ae.type)!=="cancelation"&&console.error("Monaco initialization: error:",ae)),()=>A.current?k():K.cancel()}),_n(()=>{var ae,oe,le,we;let K=oo(w.current,i||s||"",e||o||"",u||t||"");K!==((ae=A.current)==null?void 0:ae.getModel())&&(S&&Zc.set(ne,(oe=A.current)==null?void 0:oe.saveViewState()),(le=A.current)==null||le.setModel(K),S&&((we=A.current)==null||we.restoreViewState(Zc.get(u))))},[u],re),_n(()=>{var K;(K=A.current)==null||K.updateOptions(g)},[g],re),_n(()=>{!A.current||s===void 0||(A.current.getOption(w.current.editor.EditorOption.readOnly)?A.current.setValue(s):s!==A.current.getValue()&&(me.current=!0,A.current.executeEdits("",[{range:A.current.getModel().getFullModelRange(),text:s,forceMoveMarkers:!0}]),A.current.pushUndoStop(),me.current=!1))},[s],re),_n(()=>{var ae,oe;let K=(ae=A.current)==null?void 0:ae.getModel();K&&o&&((oe=w.current)==null||oe.editor.setModelLanguage(K,o))},[o],re),_n(()=>{var K;m!==void 0&&((K=A.current)==null||K.revealLine(m))},[m],re),_n(()=>{var K;(K=w.current)==null||K.editor.setTheme(f)},[f],re);let De=P.useCallback(()=>{var K;if(!(!M.current||!w.current)&&!ge.current){N.current(w.current);let ae=u||t,oe=oo(w.current,s||i||"",e||o||"",ae||"");A.current=(K=w.current)==null?void 0:K.editor.create(M.current,{model:oe,automaticLayout:!0,...g},E),S&&A.current.restoreViewState(Zc.get(ae)),w.current.editor.setTheme(f),m!==void 0&&A.current.revealLine(m),fe(!0),ge.current=!0}},[i,e,t,s,o,u,g,E,S,f,m]);P.useEffect(()=>{re&&j.current(A.current,w.current)},[re]),P.useEffect(()=>{!D&&!re&&De()},[D,re,De]),de.current=s,P.useEffect(()=>{var K,ae;re&&Q&&((K=Je.current)==null||K.dispose(),Je.current=(ae=A.current)==null?void 0:ae.onDidChangeModelContent(oe=>{me.current||Q(A.current.getValue(),oe)}))},[re,Q]),P.useEffect(()=>{if(re){let K=w.current.editor.onDidChangeMarkers(ae=>{var le;let oe=(le=A.current.getModel())==null?void 0:le.uri;if(oe&&ae.find(we=>we.path===oe.path)){let we=w.current.editor.getModelMarkers({resource:oe});ue==null||ue(we)}});return()=>{K==null||K.dispose()}}return()=>{}},[re,ue]);function k(){var K,ae;(K=Je.current)==null||K.dispose(),I?S&&Zc.set(u,A.current.saveViewState()):(ae=A.current.getModel())==null||ae.dispose(),A.current.dispose()}return bn.createElement(Zb,{width:O,height:U,isEditorReady:re,loading:p,_ref:M,className:$,wrapperProps:B})}var q3=H3,F3=P.memo(q3),G3=F3;const $3=[{value:"javascript",label:"JavaScript"},{value:"typescript",label:"TypeScript"},{value:"python",label:"Python"},{value:"java",label:"Java"},{value:"csharp",label:"C#"},{value:"cpp",label:"C++"}],Hm={javascript:"// Start coding in JavaScript...",typescript:`// Start coding in TypeScript...
function example(): void {
  
}`,python:"# Start coding in Python...",java:`public class Main {
  public static void main(String[] args) {
    // Start coding in Java...
  }
}`,csharp:`using System;

class Program {
  static void Main() {
    // Start coding in C#...
  }
}`,cpp:`#include <iostream>

int main() {
  // Start coding in C++...
  return 0;
}`},Jl=P.memo(({icon:i,title:e,panel:t,onToggleFullScreen:s,runAction:o,languageSelector:u})=>{const f=s.activePanel===t;return R.jsxs("div",{className:"flex justify-between items-center pb-2 border-b border-gray-700 mb-2",children:[R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx(i,{size:18}),R.jsx("span",{className:"font-medium",children:e})]}),R.jsxs("div",{className:"flex items-center gap-2",children:[u,o&&R.jsx("button",{onClick:o,className:"px-4 py-1 bg-green-600 hover:bg-green-700 rounded font-medium transition-colors",children:"Run"}),R.jsx("button",{onClick:()=>s(t),className:"p-1 hover:bg-gray-700 rounded transition-colors","aria-label":`Toggle ${t} fullscreen`,children:f?R.jsx(MA,{size:18}):R.jsx(xA,{size:18})})]})]})});Jl.displayName="PanelHeader";Jl.propTypes={icon:qt.elementType.isRequired,title:qt.string.isRequired,panel:qt.string.isRequired,onToggleFullScreen:qt.func.isRequired,runAction:qt.func,languageSelector:qt.node};const bg=P.memo(({language:i,onChange:e})=>R.jsx("select",{value:i,onChange:e,className:"px-2 py-1 bg-gray-700 border border-gray-600 rounded text-sm","aria-label":"Select programming language",children:$3.map(t=>R.jsx("option",{value:t.value,children:t.label},t.value))}));bg.displayName="LanguageSelector";bg.propTypes={language:qt.string.isRequired,onChange:qt.func.isRequired};const tw=P.memo(()=>R.jsxs("div",{className:"p-2",children:[R.jsx("h2",{className:"text-xl font-bold mb-4",children:"Two Sum Problem"}),R.jsxs("div",{className:"prose prose-invert",children:[R.jsxs("p",{className:"mb-3",children:["Given an array of integers ",R.jsx("code",{children:"nums"})," and an integer"," ",R.jsx("code",{children:"target"}),", return indices of the two numbers such that they add up to ",R.jsx("code",{children:"target"}),"."]}),R.jsx("p",{className:"mb-3",children:"You may assume that each input would have exactly one solution, and you may not use the same element twice."}),R.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:"Example:"}),R.jsx("pre",{className:"bg-gray-900 p-3 rounded-lg overflow-x-auto whitespace-pre-wrap",children:`Input: nums = [2,7,11,15], target = 9
Output: [0,1]
Explanation: Because nums[0] + nums[1] == 9, we return [0, 1].`})]})]}));tw.displayName="QuestionContent";const K3=()=>{const[i,e]=P.useState(Hm.javascript),[t,s]=P.useState("Output will appear here..."),[o,u]=P.useState(null),[f,m]=P.useState("javascript"),p=P.useRef(null),[g,E]=P.useState(null);P.useEffect(()=>{(async()=>{const ue=await window.loadPyodide();E(ue)})()},[]);const S=Q=>{p.current=Q};P.useEffect(()=>{const Q=()=>{p.current&&p.current.layout()};Q(),window.addEventListener("resize",Q);const ue=setTimeout(Q,100);return()=>{window.removeEventListener("resize",Q),clearTimeout(ue)}},[o]);const I=Q=>{const ue=Q.target.value;m(ue),e(Hm[ue]||Hm.javascript)},O=async()=>{try{if(f==="javascript"){let Q=[];const ue=console.log;console.log=(...re)=>{Q.push(re.join(" ")),ue(...re)};try{const re=new Function(i)();re!==void 0&&Q.push(String(re))}catch(re){Q.push(`Error: ${re.message}`)}console.log=ue,s(Q.join(`
`))}else if(f==="python"){if(!g){s("Loading Python environment...");return}g.runPython(`
  import sys
  from io import StringIO
  sys.stdout = StringIO()
  `),await g.runPythonAsync(i);const Q=g.runPython("sys.stdout.getvalue()");s(Q)}else s(`[${f.toUpperCase()}] Execution not supported yet.`)}catch(Q){s(`Error: ${Q.message}`)}},U=Q=>{u(o===Q?null:Q)};U.activePanel=o;const $=o==="editor",B=o==="output",X=o==="question",ee=R.jsx(bg,{language:f,onChange:I});return R.jsxs("div",{className:"flex flex-col md:flex-row h-screen bg-gray-900 text-white overflow-hidden p-2 md:p-4 gap-2 md:gap-4",children:[!X&&R.jsxs("div",{className:`flex flex-col ${X?"hidden":$||B?"w-full":"w-full md:w-2/3"} h-full gap-2 md:gap-4 overflow-hidden`,children:[!B&&R.jsx("div",{className:`bg-gray-800 rounded-lg overflow-hidden ${$?"h-full":"h-1/2 md:h-3/5"} flex flex-col`,children:R.jsxs("div",{className:"p-2 md:p-3 flex flex-col h-full",children:[R.jsx(Jl,{icon:eT,title:"Editor",panel:"editor",onToggleFullScreen:U,runAction:O,languageSelector:ee}),R.jsx("div",{className:"flex-grow overflow-hidden",children:R.jsx(G3,{height:"100%",language:f,value:i,onChange:e,theme:"vs-dark",onMount:S,options:{minimap:{enabled:!1},scrollBeyondLastLine:!1,fontSize:14,automaticLayout:!0}})})]})}),!$&&R.jsx("div",{className:`bg-gray-800 rounded-lg ${B?"h-full":"h-1/2 md:h-2/5"} flex flex-col overflow-hidden`,children:R.jsxs("div",{className:"p-2 md:p-3 flex flex-col h-full",children:[R.jsx(Jl,{icon:PA,title:"Output",panel:"output",onToggleFullScreen:U}),R.jsx("pre",{className:"flex-grow overflow-auto bg-gray-900 p-2 md:p-3 rounded-lg text-sm",children:t})]})})]}),!$&&!B&&R.jsx("div",{className:`bg-gray-800 rounded-lg ${X?"w-full h-full":"w-full md:w-1/3 h-full"} overflow-auto`,children:R.jsxs("div",{className:"p-2 md:p-3 flex flex-col h-full",children:[R.jsx("div",{className:"sticky top-0 bg-gray-800 z-10",children:R.jsx(Jl,{icon:EA,title:"Question",panel:"question",onToggleFullScreen:U})}),R.jsx("div",{className:"flex-grow overflow-auto",children:R.jsx(tw,{})})]})})]})};var nw={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},PE=bn.createContext&&bn.createContext(nw),Q3=["attr","size","title"];function Y3(i,e){if(i==null)return{};var t=X3(i,e),s,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(i);for(o=0;o<u.length;o++)s=u[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(i,s)&&(t[s]=i[s])}return t}function X3(i,e){if(i==null)return{};var t={};for(var s in i)if(Object.prototype.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;t[s]=i[s]}return t}function Lh(){return Lh=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=t[s])}return i},Lh.apply(this,arguments)}function VE(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),t.push.apply(t,s)}return t}function Uh(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?VE(Object(t),!0).forEach(function(s){W3(i,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):VE(Object(t)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(t,s))})}return i}function W3(i,e,t){return e=Z3(e),e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function Z3(i){var e=J3(i,"string");return typeof e=="symbol"?e:e+""}function J3(i,e){if(typeof i!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var s=t.call(i,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function iw(i){return i&&i.map((e,t)=>bn.createElement(e.tag,Uh({key:t},e.attr),iw(e.child)))}function Sn(i){return e=>bn.createElement(e6,Lh({attr:Uh({},i.attr)},e),iw(i.child))}function e6(i){var e=t=>{var{attr:s,size:o,title:u}=i,f=Y3(i,Q3),m=o||t.size||"1em",p;return t.className&&(p=t.className),i.className&&(p=(p?p+" ":"")+i.className),bn.createElement("svg",Lh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,f,{className:p,style:Uh(Uh({color:i.color||t.color},t.style),i.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),u&&bn.createElement("title",null,u),i.children)};return PE!==void 0?bn.createElement(PE.Consumer,null,t=>e(t)):e(nw)}function t6(i){return Sn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M162.4 196c4.8-4.9 6.2-5.1 36.4-5.1 27.2 0 28.1.1 32.1 2.1 5.8 2.9 8.3 7 8.3 13.6 0 5.9-2.4 10-7.6 13.4-2.8 1.8-4.5 1.9-31.1 2.1-16.4.1-29.5-.2-31.5-.8-10.3-2.9-14.1-17.7-6.6-25.3zm61.4 94.5c-53.9 0-55.8.2-60.2 4.1-3.5 3.1-5.7 9.4-5.1 13.9.7 4.7 4.8 10.1 9.2 12 2.2 1 14.1 1.7 56.3 1.2l47.9-.6 9.2-1.5c9-5.1 10.5-17.4 3.1-24.4-5.3-4.7-5-4.7-60.4-4.7zm223.4 130.1c-3.5 28.4-23 50.4-51.1 57.5-7.2 1.8-9.7 1.9-172.9 1.8-157.8 0-165.9-.1-172-1.8-8.4-2.2-15.6-5.5-22.3-10-5.6-3.8-13.9-11.8-17-16.4-3.8-5.6-8.2-15.3-10-22C.1 423 0 420.3 0 256.3 0 93.2 0 89.7 1.8 82.6 8.1 57.9 27.7 39 53 33.4c7.3-1.6 332.1-1.9 340-.3 21.2 4.3 37.9 17.1 47.6 36.4 7.7 15.3 7-1.5 7.3 180.6.2 115.8 0 164.5-.7 170.5zm-85.4-185.2c-1.1-5-4.2-9.6-7.7-11.5-1.1-.6-8-1.3-15.5-1.7-12.4-.6-13.8-.8-17.8-3.1-6.2-3.6-7.9-7.6-8-18.3 0-20.4-8.5-39.4-25.3-56.5-12-12.2-25.3-20.5-40.6-25.1-3.6-1.1-11.8-1.5-39.2-1.8-42.9-.5-52.5.4-67.1 6.2-27 10.7-46.3 33.4-53.4 62.4-1.3 5.4-1.6 14.2-1.9 64.3-.4 62.8 0 72.1 4 84.5 9.7 30.7 37.1 53.4 64.6 58.4 9.2 1.7 122.2 2.1 133.7.5 20.1-2.7 35.9-10.8 50.7-25.9 10.7-10.9 17.4-22.8 21.8-38.5 3.2-10.9 2.9-88.4 1.7-93.9z"},child:[]}]})(i)}function n6(i){return Sn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(i)}function i6(i){return Sn({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm121.8 169.9l-40.7 191.8c-3 13.6-11.1 16.9-22.4 10.5l-62-45.7-29.9 28.8c-3.3 3.3-6.1 6.1-12.5 6.1l4.4-63.1 114.9-103.8c5-4.4-1.1-6.9-7.7-2.5l-142 89.4-61.2-19.1c-13.3-4.2-13.6-13.3 2.8-19.7l239.1-92.2c11.1-4 20.8 2.7 17.2 19.5z"},child:[]}]})(i)}function r6(i){return Sn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(i)}function s6(i){return Sn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"},child:[]}]})(i)}function a6(i){return Sn({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"},child:[]}]})(i)}function o6(i){return Sn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M510.52 255.82c-69.97-.85-126.47-57.69-126.47-127.86-70.17 0-127-56.49-127.86-126.45-27.26-4.14-55.13.3-79.72 12.82l-69.13 35.22a132.221 132.221 0 0 0-57.79 57.81l-35.1 68.88a132.645 132.645 0 0 0-12.82 80.95l12.08 76.27a132.521 132.521 0 0 0 37.16 72.96l54.77 54.76a132.036 132.036 0 0 0 72.71 37.06l76.71 12.15c27.51 4.36 55.7-.11 80.53-12.76l69.13-35.21a132.273 132.273 0 0 0 57.79-57.81l35.1-68.88c12.56-24.64 17.01-52.58 12.91-79.91zM176 368c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm32-160c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm160 128c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"},child:[]}]})(i)}function l6(i){return Sn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(i)}function u6(i){return Sn({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(i)}function c6(i){return Sn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.694 292.093L500.27 416.248A63.997 63.997 0 0 1 444.989 448H45.025c-18.523 0-30.064-20.093-20.731-36.093l72.424-124.155A64 64 0 0 1 152 256h399.964c18.523 0 30.064 20.093 20.73 36.093zM152 224h328v-48c0-26.51-21.49-48-48-48H272l-64-64H48C21.49 64 0 85.49 0 112v278.046l69.077-118.418C86.214 242.25 117.989 224 152 224z"},child:[]}]})(i)}function h6(i){return Sn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(i)}function f6(i){return Sn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(i)}function d6(i){return Sn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(i)}const m6=()=>R.jsx("div",{className:"flex space-x-4",children:[{icon:R.jsx(i6,{}),url:"https://web.telegram.org/"},{icon:R.jsx(n6,{}),url:"https://www.instagram.com/"},{icon:R.jsx(r6,{}),url:"https://x.com/"},{icon:R.jsx(s6,{}),url:"https://www.youtube.com/"}].map((i,e)=>R.jsx("a",{href:i.url,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white text-xl","aria-label":`Social media link ${e+1}`,children:i.icon},e))}),p6=()=>R.jsxs("div",{children:[R.jsxs("h3",{className:"text-white font-semibold text-lg mb-4 flex items-center",children:[R.jsx(c6,{className:"mr-2"})," Problem Categories"]}),R.jsx("ul",{className:"space-y-2",children:["Easy Problems","Medium Problems","Hard Problems","All Categories"].map((i,e)=>R.jsx("li",{children:R.jsx(vn,{to:"/Codeplayground",className:"text-gray-400 hover:text-green-500 transition-colors",children:i})},e))})]}),g6=()=>R.jsxs("div",{children:[R.jsxs("h3",{className:"text-white font-semibold text-lg mb-4 flex items-center",children:[R.jsx(a6,{className:"mr-2"})," Links"]}),R.jsx("ul",{className:"space-y-2",children:[{icon:R.jsx(h6,{className:"mr-2"}),text:"Home",path:"/"},{icon:R.jsx(t6,{className:"mr-2"}),text:"Blogs",path:"/blogs"},{icon:R.jsx(l6,{className:"mr-2"}),text:"Contact Us",path:"/contactus"},{icon:R.jsx(d6,{className:"mr-2"}),text:"Code Playground",path:"/codeplayground"}].map((i,e)=>R.jsx("li",{children:R.jsxs(vn,{to:i.path,className:"text-gray-400 hover:text-green-500 transition-colors flex items-center",children:[i.icon," ",i.text]})},e))})]}),y6=()=>{const i=new Date().getFullYear(),[e,t]=P.useState(""),[s,o]=P.useState(!1),[u,f]=P.useState({success:!1,message:"Get the Latest News Delivered to Your Inbox!"}),m=g=>t(g.target.value),p=async g=>{if(g.preventDefault(),!e||!/^\S+@\S+\.\S+$/.test(e)){f({success:!1,message:"Please enter a valid email address"});return}o(!0),f(null);try{const E=pp(gp,"FooterSection","NewsLetter");await NM(E,{Emails:MM(e)}),t(""),f({success:!0,message:"Successfully subscribed!"})}catch(E){console.error("Error adding email: ",E),f({success:!1,message:"Failed to subscribe. Please try again later."})}finally{o(!1)}};return R.jsxs("footer",{className:"bg-gray-900 text-gray-300",children:[R.jsx("div",{className:"max-w-6xl mx-auto px-4 py-8",children:R.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[R.jsxs("div",{className:"mb-6 md:mb-0",children:[R.jsx(vn,{to:"/",className:"flex items-center mb-4",children:R.jsxs("span",{className:"text-white font-bold text-xl",children:["Algo",R.jsx("span",{className:"text-green-500",children:"Arena"})]})}),R.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Master algorithms and ace coding interviews with our progressive learning platform."}),R.jsx(m6,{})]}),R.jsx(p6,{}),R.jsx(g6,{})]})}),R.jsx("div",{className:"border-t border-gray-800",children:R.jsx("div",{className:"max-w-6xl mx-auto px-4 py-6",children:R.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center",children:[R.jsxs("div",{className:"mb-4 md:mb-0",children:[R.jsx("h4",{className:"text-white font-medium mb-2",children:"Stay updated with AlgoArena"}),R.jsx("p",{className:"text-sm text-gray-400",children:"Get notified about new problems and features"})]}),R.jsxs("div",{className:"flex flex-col items-center",children:[R.jsxs("form",{onSubmit:p,className:"flex flex-col sm:flex-row gap-2",children:[R.jsx("input",{type:"email",placeholder:"Enter your email",value:e,onChange:m,disabled:s,className:"bg-gray-800 text-white px-4 py-2 rounded focus:outline-none focus:ring-2 focus:ring-green-500","aria-label":"Email for newsletter",required:!0}),R.jsx("button",{type:"submit",disabled:s,className:`${s?"bg-gray-600":"bg-green-600 hover:bg-green-700"} text-white px-4 py-2 rounded transition-colors`,children:s?"Subscribing...":"Subscribe"})]}),u&&R.jsx("p",{className:`text-sm mt-2 ${u.message==="Get the Latest News Delivered to Your Inbox!"?"text-white":u.success?"text-green-400":"text-red-400"}`,children:u.message})]})]})})}),R.jsx("div",{className:"bg-gray-950 py-4",children:R.jsx("div",{className:"max-w-6xl mx-auto px-4",children:R.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center",children:[R.jsxs("p",{className:"text-sm text-gray-500 mb-2 sm:mb-0",children:[" ",i," AlgoArena. All rights reserved."]}),R.jsx("div",{className:"flex space-x-6",children:[{icon:R.jsx(f6,{className:"mr-1"}),text:"Privacy"},{icon:R.jsx(u6,{className:"mr-1"}),text:"Terms"},{icon:R.jsx(o6,{className:"mr-1"}),text:"Cookies"}].map((g,E)=>R.jsxs(vn,{to:"/contactus",className:"text-sm text-gray-500 hover:text-gray-400 transition-colors flex items-center",children:[g.icon," ",g.text]},E))})]})})})]})},v6=P.memo(y6),to=Vp(),_6=()=>{const i=zh(),[e,t]=P.useState(!0),[s,o]=P.useState(!1),[u,f]=P.useState({email:"",username:"",password:""}),[m,p]=P.useState(!1),[g,E]=P.useState(!1),[S,I]=P.useState(""),[O,U]=P.useState(""),[$,B]=P.useState(!1),[X,ee]=P.useState(null);console.log(X);const Q=P.useCallback(()=>{i("/profile")},[i]);P.useEffect(()=>{const w=Mp(to,A=>{A&&Q()});return()=>w()},[Q]),P.useEffect(()=>{if(AC(to,window.location.href)){let w=localStorage.getItem("emailForSignIn");w||(w=window.prompt("Please provide your email for confirmation")),B(!0);const A=localStorage.getItem("isNewUser")==="true",M=localStorage.getItem("usernameForSignIn");RC(to,w,window.location.href).then(j=>A&&M&&j.user?l0(j.user,{displayName:M}).then(()=>j):j).then(j=>{localStorage.removeItem("emailForSignIn"),localStorage.removeItem("isNewUser"),localStorage.removeItem("usernameForSignIn"),U(`Successfully ${A?"created account":"signed in"} with email link!`),console.log("User signed in:",j.user)}).catch(j=>{I("Error signing in with email link: "+j.message)}).finally(()=>{B(!1)})}},[]);const ue=w=>{const{name:A,value:M}=w.target;f(j=>({...j,[A]:M})),I(""),U(""),E(!1)},re=w=>{w.preventDefault(),B(!0),m?fe():e?wC(to,u.email,u.password).then(A=>{ee(A.user.uid),U("Successfully signed in!")}).catch(A=>{A.code==="auth/invalid-credential"?I("Invalid email or password. Please try again."):I("Error signing in: "+A.message)}).finally(()=>{B(!1)}):bC(to,u.email,u.password).then(A=>l0(A.user,{displayName:u.username}).then(()=>A)).then(A=>{ee(A.user.uid),U("Account created successfully!")}).catch(A=>{A.code==="auth/email-already-in-use"?I("Email is already in use. Please use a different email or sign in."):A.code==="auth/weak-password"?I("Password is too weak. Please use a stronger password."):I("Error creating account: "+A.message)}).finally(()=>{B(!1)})},fe=()=>{const w={url:window.location.origin+window.location.pathname,handleCodeInApp:!0};SC(to,u.email,w).then(()=>{localStorage.setItem("emailForSignIn",u.email),e?(localStorage.removeItem("usernameForSignIn"),localStorage.setItem("isNewUser","false")):(localStorage.setItem("usernameForSignIn",u.username),localStorage.setItem("isNewUser","true")),E(!0),U(`A sign-in link has been sent to ${u.email}`)}).catch(A=>{I("Error sending email link: "+A.message)}).finally(()=>{B(!1)})},D=()=>{t(!e),p(!1),E(!1),I(""),U(""),B(!1),f({email:"",username:e?"":u.username,password:""})},C=()=>{p(!m),I(""),U("")};return R.jsxs("div",{className:"flex flex-col md:flex-row h-[calc(100vh-80px)] bg-gray-900 text-white overflow-hidden",children:[R.jsx("div",{className:"w-full md:w-1/2 h-full flex items-center justify-center p-4 md:p-8 lg:p-12",children:R.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[R.jsxs("div",{className:"mb-8 text-center",children:[R.jsx("h1",{className:"text-2xl font-bold mb-2",children:e?"Welcome Back":"Create Account"}),R.jsx("p",{className:"text-gray-400",children:e?"Sign in to access your account":"Sign up to get started with coding"})]}),g?R.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg text-center",children:[R.jsx(bA,{size:32,className:"mx-auto mb-4 text-blue-400"}),R.jsx("h3",{className:"text-lg font-medium mb-2",children:"Check Your Email"}),R.jsxs("p",{className:"mb-4",children:["We have sent a sign-in link to ",R.jsx("strong",{children:u.email}),". Click the link to complete the"," ",e?"sign-in":"registration"," process."]}),R.jsx("button",{onClick:()=>E(!1),className:"text-blue-500 hover:underline",children:"Use a different email"})]}):R.jsxs("form",{onSubmit:re,className:"space-y-5",children:[!e&&R.jsxs("div",{className:"space-y-2",children:[R.jsx("label",{className:"block text-sm font-medium",htmlFor:"username",children:"Username"}),R.jsxs("div",{className:"relative",children:[R.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:R.jsx(Gm,{size:18,className:"text-gray-500"})}),R.jsx("input",{type:"text",id:"username",name:"username",value:u.username,onChange:ue,className:"bg-gray-700 border border-gray-600 text-white rounded-lg block w-full pl-10 p-2.5 focus:border-blue-500 focus:ring-blue-500 focus:outline-none",placeholder:"username",required:!e})]})]}),R.jsxs("div",{className:"space-y-2",children:[R.jsx("label",{className:"block text-sm font-medium",htmlFor:"email",children:"Email"}),R.jsxs("div",{className:"relative",children:[R.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:R.jsx(IA,{size:18,className:"text-gray-500"})}),R.jsx("input",{type:"email",id:"email",name:"email",value:u.email,onChange:ue,className:"bg-gray-700 border border-gray-600 text-white rounded-lg block w-full pl-10 p-2.5 focus:border-blue-500 focus:ring-blue-500 focus:outline-none",placeholder:"name@example.com",required:!0})]})]}),!m&&R.jsxs("div",{className:"space-y-2",children:[R.jsx("label",{className:"block text-sm font-medium",htmlFor:"password",children:"Password"}),R.jsxs("div",{className:"relative",children:[R.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:R.jsx(SA,{size:18,className:"text-gray-500"})}),R.jsx("input",{type:s?"text":"password",id:"password",name:"password",value:u.password,onChange:ue,className:"bg-gray-700 border border-gray-600 text-white rounded-lg block w-full pl-10 pr-10 p-2.5 focus:border-blue-500 focus:ring-blue-500 focus:outline-none",placeholder:"",required:!m}),R.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 flex items-center pr-3",onClick:()=>o(!s),children:s?R.jsx(gA,{size:18,className:"text-gray-500 hover:text-gray-300"}):R.jsx(vA,{size:18,className:"text-gray-500 hover:text-gray-300"})})]}),e&&R.jsx("div",{className:"flex justify-end",children:R.jsx("a",{href:"#",className:"text-sm text-blue-500 hover:underline",children:"Forgot password?"})})]}),S&&R.jsx("div",{className:"bg-red-900/50 border border-red-800 text-red-100 px-4 py-2 rounded-md",children:S}),O&&R.jsx("div",{className:"bg-green-900/50 border border-green-800 text-green-100 px-4 py-2 rounded-md",children:O}),R.jsxs("button",{type:"submit",disabled:$,className:`w-full flex items-center justify-center gap-2 bg-green-600 hover:bg-green-700 focus:ring-4 focus:ring-green-800 font-medium rounded-lg px-5 py-2.5 text-white transition-all duration-200 ${$?"opacity-70 cursor-not-allowed":""}`,children:[$?R.jsx("span",{className:"inline-block w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}):null,m?`Send ${e?"Sign-in":"Registration"} Link`:e?"Sign In":"Sign Up",!$&&R.jsx(hA,{size:18})]}),R.jsx("div",{className:"text-center mt-4",children:R.jsxs("p",{className:"text-sm text-gray-400",children:[e?"Don't have an account?":"Already have an account?",R.jsx("button",{type:"button",onClick:D,className:"ml-1 text-green-500 hover:underline focus:outline-none",children:e?"Sign Up":"Sign In"})]})}),R.jsxs("div",{className:"relative flex items-center justify-center",children:[R.jsx("hr",{className:"w-full border-gray-600"}),R.jsx("span",{className:"absolute bg-gray-800 px-2 text-gray-400 text-sm",children:"OR"})]}),R.jsx("button",{type:"button",onClick:C,className:"w-full flex items-center justify-center gap-2 bg-gray-700 hover:bg-gray-600 focus:ring-4 focus:ring-gray-600 font-medium rounded-lg px-5 py-2.5 text-white transition-all duration-200",children:m?"Use Password Instead":`${e?"Sign In":"Sign Up"} Without Password`})]})]})}),R.jsx("div",{className:"hidden md:flex md:w-1/2 bg-gray-800 h-full",children:R.jsx("div",{className:"flex flex-col items-center justify-center w-full p-8 lg:p-12",children:R.jsxs("div",{className:"max-w-lg text-center",children:[R.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Code Anywhere, Anytime"}),R.jsx("p",{className:"text-xl mb-8 text-gray-300",children:"Join our coding platform and take your programming skills to the next level"}),R.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-8",children:[R.jsxs("div",{className:"bg-gray-900 p-5 rounded-lg",children:[R.jsx("h3",{className:"font-bold mb-2",children:"Multi-language Support"}),R.jsx("p",{className:"text-gray-400",children:"JavaScript, Python, Java, C++, and more!"})]}),R.jsxs("div",{className:"bg-gray-900 p-5 rounded-lg",children:[R.jsx("h3",{className:"font-bold mb-2",children:"Interactive Challenges"}),R.jsx("p",{className:"text-gray-400",children:"Practice with real-world coding problems"})]}),R.jsxs("div",{className:"bg-gray-900 p-5 rounded-lg",children:[R.jsx("h3",{className:"font-bold mb-2",children:"Collaborative Editing"}),R.jsx("p",{className:"text-gray-400",children:"Code together in real-time with team members"})]}),R.jsxs("div",{className:"bg-gray-900 p-5 rounded-lg",children:[R.jsx("h3",{className:"font-bold mb-2",children:"Cloud Saves"}),R.jsx("p",{className:"text-gray-400",children:"Access your projects from any device"})]})]})]})})})]})};function E6(){const{pathname:i}=Ii();return P.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[i]),null}function T6(){const i=Vp(),e=zh(),[t,s]=P.useState(null),[o,u]=P.useState(!0);P.useEffect(()=>{const m=Mp(i,p=>{s(p),u(!1),p||e("/auth")});return()=>m()},[i,e]);const f=()=>{NC(i).then(()=>{e("/auth")}).catch(m=>{console.error("Error signing out:",m)})};return o?R.jsx("p",{className:"text-center mt-20",children:"Loading..."}):R.jsx("div",{className:"min-h-screen bg-slate-50 w-full flex items-center justify-center",children:R.jsxs("div",{className:"flex flex-col items-center max-w-3xl gap-5 bg-white p-8 shadow-md rounded-xl",children:[R.jsx("h1",{className:"text-4xl font-bold text-black",children:"Profile"}),t?R.jsxs(R.Fragment,{children:[R.jsxs("p",{className:"text-lg text-gray-700",children:["Welcome,"," ",R.jsx("span",{className:"font-semibold",children:t.displayName||t.email})]}),R.jsx("button",{onClick:f,className:"bg-red-500 text-white px-4 py-2 rounded-md hover:bg-red-600 transition duration-200",children:"Sign Out"})]}):R.jsx("p",{className:"text-lg text-gray-500",children:"No user logged in"})]})})}function b6(){const i=Ii();return P.useEffect(()=>{_1(IE,"user_visit",{timestamp:Date.now()})},[]),dN(IE,{user_type:"new",device_type:window.innerWidth<768?"mobile":"desktop",country:"India"}),R.jsx(R.Fragment,{children:R.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[R.jsx(Hx,{}),R.jsx(E6,{}),R.jsx("div",{className:"pt-20",children:R.jsxs(I2,{children:[R.jsx(Ks,{path:"/",element:R.jsx($b,{})}),R.jsx(Ks,{path:"/blogs",element:R.jsx(UM,{})}),R.jsx(Ks,{path:"/contactus",element:R.jsx(jM,{})}),R.jsx(Ks,{path:"/codeplayground",element:R.jsx(K3,{})}),R.jsx(Ks,{path:"/auth",element:R.jsx(_6,{})}),R.jsx(Ks,{path:"/profile",element:R.jsx(T6,{})})]})}),i.pathname!=="/codeplayground"&&i.pathname!=="/auth"&&R.jsx(v6,{})]})})}LS.createRoot(document.getElementById("root")).render(R.jsx(P.StrictMode,{children:R.jsx(W2,{children:R.jsx(b6,{})})}));
