(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function Eb(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var km={exports:{}},Gl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r_;function $2(){if(r_)return Gl;r_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,l){var h=null;if(l!==void 0&&(h=""+l),o.key!==void 0&&(h=""+o.key),"key"in o){l={};for(var d in o)d!=="key"&&(l[d]=o[d])}else l=o;return o=l.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:l}}return Gl.Fragment=e,Gl.jsx=t,Gl.jsxs=t,Gl}var s_;function G2(){return s_||(s_=1,km.exports=$2()),km.exports}var v=G2(),Mm={exports:{}},Ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a_;function K2(){if(a_)return Ne;a_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.iterator;function x(D){return D===null||typeof D!="object"?null:(D=w&&D[w]||D["@@iterator"],typeof D=="function"?D:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,$={};function j(D,B,ne){this.props=D,this.context=B,this.refs=$,this.updater=ne||C}j.prototype.isReactComponent={},j.prototype.setState=function(D,B){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,B,"setState")},j.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function Q(){}Q.prototype=j.prototype;function Z(D,B,ne){this.props=D,this.context=B,this.refs=$,this.updater=ne||C}var J=Z.prototype=new Q;J.constructor=Z,P(J,j.prototype),J.isPureReactComponent=!0;var le=Array.isArray,re={H:null,A:null,T:null,S:null},he=Object.prototype.hasOwnProperty;function M(D,B,ne,ae,ce,be){return ne=be.ref,{$$typeof:i,type:D,key:B,ref:ne!==void 0?ne:null,props:be}}function I(D,B){return M(D.type,B,void 0,void 0,void 0,D.props)}function A(D){return typeof D=="object"&&D!==null&&D.$$typeof===i}function R(D){var B={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ne){return B[ne]})}var V=/\/+/g;function U(D,B){return typeof D=="object"&&D!==null&&D.key!=null?R(""+D.key):B.toString(36)}function k(){}function Ke(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(k,k):(D.status="pending",D.then(function(B){D.status==="pending"&&(D.status="fulfilled",D.value=B)},function(B){D.status==="pending"&&(D.status="rejected",D.reason=B)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function se(D,B,ne,ae,ce){var be=typeof D;(be==="undefined"||be==="boolean")&&(D=null);var Se=!1;if(D===null)Se=!0;else switch(be){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(D.$$typeof){case i:case e:Se=!0;break;case b:return Se=D._init,se(Se(D._payload),B,ne,ae,ce)}}if(Se)return ce=ce(D),Se=ae===""?"."+U(D,0):ae,le(ce)?(ne="",Se!=null&&(ne=Se.replace(V,"$&/")+"/"),se(ce,B,ne,"",function(Xe){return Xe})):ce!=null&&(A(ce)&&(ce=I(ce,ne+(ce.key==null||D&&D.key===ce.key?"":(""+ce.key).replace(V,"$&/")+"/")+Se)),B.push(ce)),1;Se=0;var rt=ae===""?".":ae+":";if(le(D))for(var De=0;De<D.length;De++)ae=D[De],be=rt+U(ae,De),Se+=se(ae,B,ne,be,ce);else if(De=x(D),typeof De=="function")for(D=De.call(D),De=0;!(ae=D.next()).done;)ae=ae.value,be=rt+U(ae,De++),Se+=se(ae,B,ne,be,ce);else if(be==="object"){if(typeof D.then=="function")return se(Ke(D),B,ne,ae,ce);throw B=String(D),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return Se}function X(D,B,ne){if(D==null)return D;var ae=[],ce=0;return se(D,ae,"","",function(be){return B.call(ne,be,ce++)}),ae}function de(D){if(D._status===-1){var B=D._result;B=B(),B.then(function(ne){(D._status===0||D._status===-1)&&(D._status=1,D._result=ne)},function(ne){(D._status===0||D._status===-1)&&(D._status=2,D._result=ne)}),D._status===-1&&(D._status=0,D._result=B)}if(D._status===1)return D._result.default;throw D._result}var fe=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function xe(){}return Ne.Children={map:X,forEach:function(D,B,ne){X(D,function(){B.apply(this,arguments)},ne)},count:function(D){var B=0;return X(D,function(){B++}),B},toArray:function(D){return X(D,function(B){return B})||[]},only:function(D){if(!A(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Ne.Component=j,Ne.Fragment=t,Ne.Profiler=o,Ne.PureComponent=Z,Ne.StrictMode=s,Ne.Suspense=p,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=re,Ne.act=function(){throw Error("act(...) is not supported in production builds of React.")},Ne.cache=function(D){return function(){return D.apply(null,arguments)}},Ne.cloneElement=function(D,B,ne){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var ae=P({},D.props),ce=D.key,be=void 0;if(B!=null)for(Se in B.ref!==void 0&&(be=void 0),B.key!==void 0&&(ce=""+B.key),B)!he.call(B,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&B.ref===void 0||(ae[Se]=B[Se]);var Se=arguments.length-2;if(Se===1)ae.children=ne;else if(1<Se){for(var rt=Array(Se),De=0;De<Se;De++)rt[De]=arguments[De+2];ae.children=rt}return M(D.type,ce,void 0,void 0,be,ae)},Ne.createContext=function(D){return D={$$typeof:h,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:l,_context:D},D},Ne.createElement=function(D,B,ne){var ae,ce={},be=null;if(B!=null)for(ae in B.key!==void 0&&(be=""+B.key),B)he.call(B,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(ce[ae]=B[ae]);var Se=arguments.length-2;if(Se===1)ce.children=ne;else if(1<Se){for(var rt=Array(Se),De=0;De<Se;De++)rt[De]=arguments[De+2];ce.children=rt}if(D&&D.defaultProps)for(ae in Se=D.defaultProps,Se)ce[ae]===void 0&&(ce[ae]=Se[ae]);return M(D,be,void 0,void 0,null,ce)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(D){return{$$typeof:d,render:D}},Ne.isValidElement=A,Ne.lazy=function(D){return{$$typeof:b,_payload:{_status:-1,_result:D},_init:de}},Ne.memo=function(D,B){return{$$typeof:g,type:D,compare:B===void 0?null:B}},Ne.startTransition=function(D){var B=re.T,ne={};re.T=ne;try{var ae=D(),ce=re.S;ce!==null&&ce(ne,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(xe,fe)}catch(be){fe(be)}finally{re.T=B}},Ne.unstable_useCacheRefresh=function(){return re.H.useCacheRefresh()},Ne.use=function(D){return re.H.use(D)},Ne.useActionState=function(D,B,ne){return re.H.useActionState(D,B,ne)},Ne.useCallback=function(D,B){return re.H.useCallback(D,B)},Ne.useContext=function(D){return re.H.useContext(D)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(D,B){return re.H.useDeferredValue(D,B)},Ne.useEffect=function(D,B){return re.H.useEffect(D,B)},Ne.useId=function(){return re.H.useId()},Ne.useImperativeHandle=function(D,B,ne){return re.H.useImperativeHandle(D,B,ne)},Ne.useInsertionEffect=function(D,B){return re.H.useInsertionEffect(D,B)},Ne.useLayoutEffect=function(D,B){return re.H.useLayoutEffect(D,B)},Ne.useMemo=function(D,B){return re.H.useMemo(D,B)},Ne.useOptimistic=function(D,B){return re.H.useOptimistic(D,B)},Ne.useReducer=function(D,B,ne){return re.H.useReducer(D,B,ne)},Ne.useRef=function(D){return re.H.useRef(D)},Ne.useState=function(D){return re.H.useState(D)},Ne.useSyncExternalStore=function(D,B,ne){return re.H.useSyncExternalStore(D,B,ne)},Ne.useTransition=function(){return re.H.useTransition()},Ne.version="19.0.0",Ne}var o_;function Bp(){return o_||(o_=1,Mm.exports=K2()),Mm.exports}var N=Bp();const Rn=Eb(N);var Pm={exports:{}},Kl={},Vm={exports:{}},Lm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l_;function Q2(){return l_||(l_=1,function(i){function e(X,de){var fe=X.length;X.push(de);e:for(;0<fe;){var xe=fe-1>>>1,D=X[xe];if(0<o(D,de))X[xe]=de,X[fe]=D,fe=xe;else break e}}function t(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var de=X[0],fe=X.pop();if(fe!==de){X[0]=fe;e:for(var xe=0,D=X.length,B=D>>>1;xe<B;){var ne=2*(xe+1)-1,ae=X[ne],ce=ne+1,be=X[ce];if(0>o(ae,fe))ce<D&&0>o(be,ae)?(X[xe]=be,X[ce]=fe,xe=ce):(X[xe]=ae,X[ne]=fe,xe=ne);else if(ce<D&&0>o(be,fe))X[xe]=be,X[ce]=fe,xe=ce;else break e}}return de}function o(X,de){var fe=X.sortIndex-de.sortIndex;return fe!==0?fe:X.id-de.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;i.unstable_now=function(){return l.now()}}else{var h=Date,d=h.now();i.unstable_now=function(){return h.now()-d}}var p=[],g=[],b=1,w=null,x=3,C=!1,P=!1,$=!1,j=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;function J(X){for(var de=t(g);de!==null;){if(de.callback===null)s(g);else if(de.startTime<=X)s(g),de.sortIndex=de.expirationTime,e(p,de);else break;de=t(g)}}function le(X){if($=!1,J(X),!P)if(t(p)!==null)P=!0,Ke();else{var de=t(g);de!==null&&se(le,de.startTime-X)}}var re=!1,he=-1,M=5,I=-1;function A(){return!(i.unstable_now()-I<M)}function R(){if(re){var X=i.unstable_now();I=X;var de=!0;try{e:{P=!1,$&&($=!1,Q(he),he=-1),C=!0;var fe=x;try{t:{for(J(X),w=t(p);w!==null&&!(w.expirationTime>X&&A());){var xe=w.callback;if(typeof xe=="function"){w.callback=null,x=w.priorityLevel;var D=xe(w.expirationTime<=X);if(X=i.unstable_now(),typeof D=="function"){w.callback=D,J(X),de=!0;break t}w===t(p)&&s(p),J(X)}else s(p);w=t(p)}if(w!==null)de=!0;else{var B=t(g);B!==null&&se(le,B.startTime-X),de=!1}}break e}finally{w=null,x=fe,C=!1}de=void 0}}finally{de?V():re=!1}}}var V;if(typeof Z=="function")V=function(){Z(R)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,k=U.port2;U.port1.onmessage=R,V=function(){k.postMessage(null)}}else V=function(){j(R,0)};function Ke(){re||(re=!0,V())}function se(X,de){he=j(function(){X(i.unstable_now())},de)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(X){X.callback=null},i.unstable_continueExecution=function(){P||C||(P=!0,Ke())},i.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<X?Math.floor(1e3/X):5},i.unstable_getCurrentPriorityLevel=function(){return x},i.unstable_getFirstCallbackNode=function(){return t(p)},i.unstable_next=function(X){switch(x){case 1:case 2:case 3:var de=3;break;default:de=x}var fe=x;x=de;try{return X()}finally{x=fe}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(X,de){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var fe=x;x=X;try{return de()}finally{x=fe}},i.unstable_scheduleCallback=function(X,de,fe){var xe=i.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?xe+fe:xe):fe=xe,X){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=fe+D,X={id:b++,callback:de,priorityLevel:X,startTime:fe,expirationTime:D,sortIndex:-1},fe>xe?(X.sortIndex=fe,e(g,X),t(p)===null&&X===t(g)&&($?(Q(he),he=-1):$=!0,se(le,fe-xe))):(X.sortIndex=D,e(p,X),P||C||(P=!0,Ke())),X},i.unstable_shouldYield=A,i.unstable_wrapCallback=function(X){var de=x;return function(){var fe=x;x=de;try{return X.apply(this,arguments)}finally{x=fe}}}}(Lm)),Lm}var u_;function Y2(){return u_||(u_=1,Vm.exports=Q2()),Vm.exports}var jm={exports:{}},Xt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c_;function X2(){if(c_)return Xt;c_=1;var i=Bp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)g+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(p,g,b){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:p,containerInfo:g,implementation:b}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Xt.createPortal=function(p,g){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(p,g,null,b)},Xt.flushSync=function(p){var g=h.T,b=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=b,s.d.f()}},Xt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Xt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Xt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var b=g.as,w=d(b,g.crossOrigin),x=typeof g.integrity=="string"?g.integrity:void 0,C=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;b==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:w,integrity:x,fetchPriority:C}):b==="script"&&s.d.X(p,{crossOrigin:w,integrity:x,fetchPriority:C,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Xt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var b=d(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Xt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var b=g.as,w=d(b,g.crossOrigin);s.d.L(p,b,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Xt.preloadModule=function(p,g){if(typeof p=="string")if(g){var b=d(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Xt.requestFormReset=function(p){s.d.r(p)},Xt.unstable_batchedUpdates=function(p,g){return p(g)},Xt.useFormState=function(p,g,b){return h.H.useFormState(p,g,b)},Xt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Xt.version="19.0.0",Xt}var h_;function W2(){if(h_)return jm.exports;h_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),jm.exports=X2(),jm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f_;function Z2(){if(f_)return Kl;f_=1;var i=Y2(),e=Bp(),t=W2();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}var l=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),x=Symbol.for("react.consumer"),C=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),J=Symbol.for("react.offscreen"),le=Symbol.for("react.memo_cache_sentinel"),re=Symbol.iterator;function he(n){return n===null||typeof n!="object"?null:(n=re&&n[re]||n["@@iterator"],typeof n=="function"?n:null)}var M=Symbol.for("react.client.reference");function I(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===M?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case p:return"Fragment";case d:return"Portal";case b:return"Profiler";case g:return"StrictMode";case $:return"Suspense";case j:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case C:return(n.displayName||"Context")+".Provider";case x:return(n._context.displayName||"Context")+".Consumer";case P:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Q:return r=n.displayName||null,r!==null?r:I(n.type)||"Memo";case Z:r=n._payload,n=n._init;try{return I(n(r))}catch{}}return null}var A=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R=Object.assign,V,U;function k(n){if(V===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);V=r&&r[1]||"",U=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+V+n+U}var Ke=!1;function se(n,r){if(!n||Ke)return"";Ke=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(Y){var G=Y}Reflect.construct(n,[],ie)}else{try{ie.call()}catch(Y){G=Y}n.call(ie.prototype)}}else{try{throw Error()}catch(Y){G=Y}(ie=n())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(Y){if(Y&&G&&typeof Y.stack=="string")return[Y.stack,G.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),E=m[0],T=m[1];if(E&&T){var O=E.split(`
`),z=T.split(`
`);for(f=u=0;u<O.length&&!O[u].includes("DetermineComponentFrameRoot");)u++;for(;f<z.length&&!z[f].includes("DetermineComponentFrameRoot");)f++;if(u===O.length||f===z.length)for(u=O.length-1,f=z.length-1;1<=u&&0<=f&&O[u]!==z[f];)f--;for(;1<=u&&0<=f;u--,f--)if(O[u]!==z[f]){if(u!==1||f!==1)do if(u--,f--,0>f||O[u]!==z[f]){var W=`
`+O[u].replace(" at new "," at ");return n.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",n.displayName)),W}while(1<=u&&0<=f);break}}}finally{Ke=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?k(a):""}function X(n){switch(n.tag){case 26:case 27:case 5:return k(n.type);case 16:return k("Lazy");case 13:return k("Suspense");case 19:return k("SuspenseList");case 0:case 15:return n=se(n.type,!1),n;case 11:return n=se(n.type.render,!1),n;case 1:return n=se(n.type,!0),n;default:return""}}function de(n){try{var r="";do r+=X(n),n=n.return;while(n);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function fe(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function xe(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function D(n){if(fe(n)!==n)throw Error(s(188))}function B(n){var r=n.alternate;if(!r){if(r=fe(n),r===null)throw Error(s(188));return r!==n?null:n}for(var a=n,u=r;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(u=f.return,u!==null){a=u;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return D(f),n;if(m===u)return D(f),r;m=m.sibling}throw Error(s(188))}if(a.return!==u.return)a=f,u=m;else{for(var E=!1,T=f.child;T;){if(T===a){E=!0,a=f,u=m;break}if(T===u){E=!0,u=f,a=m;break}T=T.sibling}if(!E){for(T=m.child;T;){if(T===a){E=!0,a=m,u=f;break}if(T===u){E=!0,u=m,a=f;break}T=T.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==u)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:r}function ne(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=ne(n),r!==null)return r;n=n.sibling}return null}var ae=Array.isArray,ce=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,be={pending:!1,data:null,method:null,action:null},Se=[],rt=-1;function De(n){return{current:n}}function Xe(n){0>rt||(n.current=Se[rt],Se[rt]=null,rt--)}function Le(n,r){rt++,Se[rt]=n.current,n.current=r}var tn=De(null),Vi=De(null),Cn=De(null),_r=De(null);function Er(n,r){switch(Le(Cn,r),Le(Vi,n),Le(tn,null),n=r.nodeType,n){case 9:case 11:r=(r=r.documentElement)&&(r=r.namespaceURI)?k0(r):0;break;default:if(n=n===8?r.parentNode:r,r=n.tagName,n=n.namespaceURI)n=k0(n),r=M0(n,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}Xe(tn),Le(tn,r)}function Li(){Xe(tn),Xe(Vi),Xe(Cn)}function qo(n){n.memoizedState!==null&&Le(_r,n);var r=tn.current,a=M0(r,n.type);r!==a&&(Le(Vi,n),Le(tn,a))}function wa(n){Vi.current===n&&(Xe(tn),Xe(Vi)),_r.current===n&&(Xe(_r),ql._currentValue=be)}var Sa=Object.prototype.hasOwnProperty,Rs=i.unstable_scheduleCallback,Aa=i.unstable_cancelCallback,Pf=i.unstable_shouldYield,Bo=i.unstable_requestPaint,hn=i.unstable_now,Vu=i.unstable_getCurrentPriorityLevel,Tt=i.unstable_ImmediatePriority,Ot=i.unstable_UserBlockingPriority,ji=i.unstable_NormalPriority,Lu=i.unstable_LowPriority,Ho=i.unstable_IdlePriority,Vf=i.log,Is=i.unstable_setDisableYieldValue,br=null,Qt=null;function Fo(n){if(Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(br,n,void 0,(n.current.flags&128)===128)}catch{}}function oi(n){if(typeof Vf=="function"&&Is(n),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(br,n)}catch{}}var nn=Math.clz32?Math.clz32:Uu,$o=Math.log,ju=Math.LN2;function Uu(n){return n>>>=0,n===0?32:31-($o(n)/ju|0)|0}var li=128,Tr=4194304;function Zn(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Nn(n,r){var a=n.pendingLanes;if(a===0)return 0;var u=0,f=n.suspendedLanes,m=n.pingedLanes,E=n.warmLanes;n=n.finishedLanes!==0;var T=a&134217727;return T!==0?(a=T&~f,a!==0?u=Zn(a):(m&=T,m!==0?u=Zn(m):n||(E=T&~E,E!==0&&(u=Zn(E))))):(T=a&~f,T!==0?u=Zn(T):m!==0?u=Zn(m):n||(E=a&~E,E!==0&&(u=Zn(E)))),u===0?0:r!==0&&r!==u&&(r&f)===0&&(f=u&-u,E=r&-r,f>=E||f===32&&(E&4194176)!==0)?r:u}function wr(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function xa(n,r){switch(n){case 1:case 2:case 4:case 8:return r+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Go(){var n=li;return li<<=1,(li&4194176)===0&&(li=128),n}function Sr(){var n=Tr;return Tr<<=1,(Tr&62914560)===0&&(Tr=4194304),n}function Ra(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function pt(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function zu(n,r,a,u,f,m){var E=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var T=n.entanglements,O=n.expirationTimes,z=n.hiddenUpdates;for(a=E&~a;0<a;){var W=31-nn(a),ie=1<<W;T[W]=0,O[W]=-1;var G=z[W];if(G!==null)for(z[W]=null,W=0;W<G.length;W++){var Y=G[W];Y!==null&&(Y.lane&=-536870913)}a&=~ie}u!==0&&Ar(n,u,0),m!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=m&~(E&~r))}function Ar(n,r,a){n.pendingLanes|=r,n.suspendedLanes&=~r;var u=31-nn(r);n.entangledLanes|=r,n.entanglements[u]=n.entanglements[u]|1073741824|a&4194218}function xr(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var u=31-nn(a),f=1<<u;f&r|n[u]&r&&(n[u]|=r),a&=~f}}function qu(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Bu(){var n=ce.p;return n!==0?n:(n=window.event,n===void 0?32:Z0(n.type))}function Rr(n,r){var a=ce.p;try{return ce.p=n,r()}finally{ce.p=a}}var ui=Math.random().toString(36).slice(2),Dt="__reactFiber$"+ui,wt="__reactProps$"+ui,Ui="__reactContainer$"+ui,Cs="__reactEvents$"+ui,Ia="__reactListeners$"+ui,ci="__reactHandles$"+ui,Ko="__reactResources$"+ui,Ir="__reactMarker$"+ui;function Ns(n){delete n[Dt],delete n[wt],delete n[Cs],delete n[Ia],delete n[ci]}function Jn(n){var r=n[Dt];if(r)return r;for(var a=n.parentNode;a;){if(r=a[Ui]||a[Dt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=L0(n);n!==null;){if(a=n[Dt])return a;n=L0(n)}return r}n=a,a=n.parentNode}return null}function zi(n){if(n=n[Dt]||n[Ui]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function Cr(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function Nr(n){var r=n[Ko];return r||(r=n[Ko]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function at(n){n[Ir]=!0}var Qo=new Set,Ca={};function vn(n,r){fn(n,r),fn(n+"Capture",r)}function fn(n,r){for(Ca[n]=r,n=0;n<r.length;n++)Qo.add(r[n])}var _n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yo={},Xo={};function Hu(n){return Sa.call(Xo,n)?!0:Sa.call(Yo,n)?!1:Lf.test(n)?Xo[n]=!0:(Yo[n]=!0,!1)}function Or(n,r,a){if(Hu(r))if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+a)}}function Dr(n,r,a){if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+a)}}function On(n,r,a,u){if(u===null)n.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(r,a,""+u)}}function rn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Fu(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function jf(n){var r=Fu(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),u=""+n[r];if(!n.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,m=a.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return f.call(this)},set:function(E){u=""+E,m.call(this,E)}}),Object.defineProperty(n,r,{enumerable:a.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function Os(n){n._valueTracker||(n._valueTracker=jf(n))}function Wo(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),u="";return n&&(u=Fu(n)?n.checked?"true":"false":n.value),n=u,n!==a?(r.setValue(n),!0):!1}function Na(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var qi=/[\n"\\]/g;function ht(n){return n.replace(qi,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function kr(n,r,a,u,f,m,E,T){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),r!=null?E==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+rn(r)):n.value!==""+rn(r)&&(n.value=""+rn(r)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),r!=null?Oa(n,E,rn(r)):a!=null?Oa(n,E,rn(a)):u!=null&&n.removeAttribute("value"),f==null&&m!=null&&(n.defaultChecked=!!m),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.name=""+rn(T):n.removeAttribute("name")}function Ds(n,r,a,u,f,m,E,T){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),r!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||r!=null))return;a=a!=null?""+rn(a):"",r=r!=null?""+rn(r):a,T||r===n.value||(n.value=r),n.defaultValue=r}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=T?n.checked:!!u,n.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E)}function Oa(n,r,a){r==="number"&&Na(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Fe(n,r,a,u){if(n=n.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=r.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&u&&(n[a].defaultSelected=!0)}else{for(a=""+rn(a),r=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,u&&(n[f].defaultSelected=!0);return}r!==null||n[f].disabled||(r=n[f])}r!==null&&(r.selected=!0)}}function ks(n,r,a){if(r!=null&&(r=""+rn(r),r!==n.value&&(n.value=r),a==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=a!=null?""+rn(a):""}function Mr(n,r,a,u){if(r==null){if(u!=null){if(a!=null)throw Error(s(92));if(ae(u)){if(1<u.length)throw Error(s(93));u=u[0]}a=u}a==null&&(a=""),r=a}a=rn(r),n.defaultValue=a,u=n.textContent,u===a&&u!==""&&u!==null&&(n.value=u)}function Dn(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var Uf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zo(n,r,a){var u=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":u?n.setProperty(r,a):typeof a!="number"||a===0||Uf.has(r)?r==="float"?n.cssFloat=a:n[r]=(""+a).trim():n[r]=a+"px"}function $u(n,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var f in r)u=r[f],r.hasOwnProperty(f)&&a[f]!==u&&Zo(n,f,u)}else for(var m in r)r.hasOwnProperty(m)&&Zo(n,m,r[m])}function Jo(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function hi(n){return qf.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var kn=null;function Da(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Bi=null,Hi=null;function Fi(n){var r=zi(n);if(r&&(n=r.stateNode)){var a=n[wt]||null;e:switch(n=r.stateNode,r.type){case"input":if(kr(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ht(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var u=a[r];if(u!==n&&u.form===n.form){var f=u[wt]||null;if(!f)throw Error(s(90));kr(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)u=a[r],u.form===n.form&&Wo(u)}break e;case"textarea":ks(n,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Fe(n,!!a.multiple,r,!1)}}}var el=!1;function Gu(n,r,a){if(el)return n(r,a);el=!0;try{var u=n(r);return u}finally{if(el=!1,(Bi!==null||Hi!==null)&&(Lc(),Bi&&(r=Bi,n=Hi,Hi=Bi=null,Fi(r),n)))for(r=0;r<n.length;r++)Fi(n[r])}}function Ms(n,r){var a=n.stateNode;if(a===null)return null;var u=a[wt]||null;if(u===null)return null;a=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Mn=!1;if(_n)try{var Ps={};Object.defineProperty(Ps,"passive",{get:function(){Mn=!0}}),window.addEventListener("test",Ps,Ps),window.removeEventListener("test",Ps,Ps)}catch{Mn=!1}var fi=null,Pr=null,$i=null;function tl(){if($i)return $i;var n,r=Pr,a=r.length,u,f="value"in fi?fi.value:fi.textContent,m=f.length;for(n=0;n<a&&r[n]===f[n];n++);var E=a-n;for(u=1;u<=E&&r[a-u]===f[m-u];u++);return $i=f.slice(n,1<u?1-u:void 0)}function di(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function mi(){return!0}function nl(){return!1}function kt(n){function r(a,u,f,m,E){this._reactName=a,this._targetInst=f,this.type=u,this.nativeEvent=m,this.target=E,this.currentTarget=null;for(var T in n)n.hasOwnProperty(T)&&(a=n[T],this[T]=a?a(m):m[T]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?mi:nl,this.isPropagationStopped=nl,this}return R(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=mi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=mi)},persist:function(){},isPersistent:mi}),r}var Qe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ka=kt(Qe),Vs=R({},Qe,{view:0,detail:0}),Ku=kt(Vs),Ma,Pa,pi,Ls=R({},Vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zs,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==pi&&(pi&&n.type==="mousemove"?(Ma=n.screenX-pi.screenX,Pa=n.screenY-pi.screenY):Pa=Ma=0,pi=n),Ma)},movementY:function(n){return"movementY"in n?n.movementY:Pa}}),Pn=kt(Ls),Qu=R({},Ls,{dataTransfer:0}),Bf=kt(Qu),js=R({},Vs,{relatedTarget:0}),Va=kt(js),il=R({},Qe,{animationName:0,elapsedTime:0,pseudoElement:0}),La=kt(il),Yu=R({},Qe,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),ja=kt(Yu),Hf=R({},Qe,{data:0}),rl=kt(Hf),Us={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sl(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=Wu[n])?!!r[n]:!1}function zs(){return sl}var Zu=R({},Vs,{key:function(n){if(n.key){var r=Us[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=di(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Xu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zs,charCode:function(n){return n.type==="keypress"?di(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?di(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Ua=kt(Zu),Ju=R({},Ls,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),al=kt(Ju),Gi=R({},Vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zs}),ec=kt(Gi),tc=R({},Qe,{propertyName:0,elapsedTime:0,pseudoElement:0}),nc=kt(tc),ic=R({},Ls,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),za=kt(ic),sn=R({},Qe,{newState:0,oldState:0}),rc=kt(sn),sc=[9,13,27,32],gi=_n&&"CompositionEvent"in window,c=null;_n&&"documentMode"in document&&(c=document.documentMode);var y=_n&&"TextEvent"in window&&!c,_=_n&&(!gi||c&&8<c&&11>=c),S=" ",H=!1;function K(n,r){switch(n){case"keyup":return sc.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ue(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ze=!1;function St(n,r){switch(n){case"compositionend":return ue(r);case"keypress":return r.which!==32?null:(H=!0,S);case"textInput":return n=r.data,n===S&&H?null:n;default:return null}}function qe(n,r){if(ze)return n==="compositionend"||!gi&&K(n,r)?(n=tl(),$i=Pr=fi=null,ze=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var Mt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function At(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!Mt[n.type]:r==="textarea"}function Ki(n,r,a,u){Bi?Hi?Hi.push(u):Hi=[u]:Bi=u,r=Bc(r,"onChange"),0<r.length&&(a=new ka("onChange","change",null,a,u),n.push({event:a,listeners:r}))}var Ut=null,yi=null;function ol(n){I0(n,0)}function ac(n){var r=Cr(n);if(Wo(r))return n}function iy(n,r){if(n==="change")return r}var ry=!1;if(_n){var Ff;if(_n){var $f="oninput"in document;if(!$f){var sy=document.createElement("div");sy.setAttribute("oninput","return;"),$f=typeof sy.oninput=="function"}Ff=$f}else Ff=!1;ry=Ff&&(!document.documentMode||9<document.documentMode)}function ay(){Ut&&(Ut.detachEvent("onpropertychange",oy),yi=Ut=null)}function oy(n){if(n.propertyName==="value"&&ac(yi)){var r=[];Ki(r,yi,n,Da(n)),Gu(ol,r)}}function bS(n,r,a){n==="focusin"?(ay(),Ut=r,yi=a,Ut.attachEvent("onpropertychange",oy)):n==="focusout"&&ay()}function TS(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return ac(yi)}function wS(n,r){if(n==="click")return ac(r)}function SS(n,r){if(n==="input"||n==="change")return ac(r)}function AS(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var En=typeof Object.is=="function"?Object.is:AS;function ll(n,r){if(En(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),u=Object.keys(r);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var f=a[u];if(!Sa.call(r,f)||!En(n[f],r[f]))return!1}return!0}function ly(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function uy(n,r){var a=ly(n);n=0;for(var u;a;){if(a.nodeType===3){if(u=n+a.textContent.length,n<=r&&u>=r)return{node:a,offset:r-n};n=u}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ly(a)}}function cy(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?cy(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function hy(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=Na(n.document);r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=Na(n.document)}return r}function Gf(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}function xS(n,r){var a=hy(r);r=n.focusedElem;var u=n.selectionRange;if(a!==r&&r&&r.ownerDocument&&cy(r.ownerDocument.documentElement,r)){if(u!==null&&Gf(r)){if(n=u.start,a=u.end,a===void 0&&(a=n),"selectionStart"in r)r.selectionStart=n,r.selectionEnd=Math.min(a,r.value.length);else if(a=(n=r.ownerDocument||document)&&n.defaultView||window,a.getSelection){a=a.getSelection();var f=r.textContent.length,m=Math.min(u.start,f);u=u.end===void 0?m:Math.min(u.end,f),!a.extend&&m>u&&(f=u,u=m,m=f),f=uy(r,m);var E=uy(r,u);f&&E&&(a.rangeCount!==1||a.anchorNode!==f.node||a.anchorOffset!==f.offset||a.focusNode!==E.node||a.focusOffset!==E.offset)&&(n=n.createRange(),n.setStart(f.node,f.offset),a.removeAllRanges(),m>u?(a.addRange(n),a.extend(E.node,E.offset)):(n.setEnd(E.node,E.offset),a.addRange(n)))}}for(n=[],a=r;a=a.parentNode;)a.nodeType===1&&n.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<n.length;r++)a=n[r],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var RS=_n&&"documentMode"in document&&11>=document.documentMode,qa=null,Kf=null,ul=null,Qf=!1;function fy(n,r,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Qf||qa==null||qa!==Na(u)||(u=qa,"selectionStart"in u&&Gf(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ul&&ll(ul,u)||(ul=u,u=Bc(Kf,"onSelect"),0<u.length&&(r=new ka("onSelect","select",null,r,a),n.push({event:r,listeners:u}),r.target=qa)))}function qs(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var Ba={animationend:qs("Animation","AnimationEnd"),animationiteration:qs("Animation","AnimationIteration"),animationstart:qs("Animation","AnimationStart"),transitionrun:qs("Transition","TransitionRun"),transitionstart:qs("Transition","TransitionStart"),transitioncancel:qs("Transition","TransitionCancel"),transitionend:qs("Transition","TransitionEnd")},Yf={},dy={};_n&&(dy=document.createElement("div").style,"AnimationEvent"in window||(delete Ba.animationend.animation,delete Ba.animationiteration.animation,delete Ba.animationstart.animation),"TransitionEvent"in window||delete Ba.transitionend.transition);function Bs(n){if(Yf[n])return Yf[n];if(!Ba[n])return n;var r=Ba[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in dy)return Yf[n]=r[a];return n}var my=Bs("animationend"),py=Bs("animationiteration"),gy=Bs("animationstart"),IS=Bs("transitionrun"),CS=Bs("transitionstart"),NS=Bs("transitioncancel"),yy=Bs("transitionend"),vy=new Map,_y="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function ei(n,r){vy.set(n,r),vn(r,[n])}var Vn=[],Ha=0,Xf=0;function oc(){for(var n=Ha,r=Xf=Ha=0;r<n;){var a=Vn[r];Vn[r++]=null;var u=Vn[r];Vn[r++]=null;var f=Vn[r];Vn[r++]=null;var m=Vn[r];if(Vn[r++]=null,u!==null&&f!==null){var E=u.pending;E===null?f.next=f:(f.next=E.next,E.next=f),u.pending=f}m!==0&&Ey(a,f,m)}}function lc(n,r,a,u){Vn[Ha++]=n,Vn[Ha++]=r,Vn[Ha++]=a,Vn[Ha++]=u,Xf|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function Wf(n,r,a,u){return lc(n,r,a,u),uc(n)}function Vr(n,r){return lc(n,null,null,r),uc(n)}function Ey(n,r,a){n.lanes|=a;var u=n.alternate;u!==null&&(u.lanes|=a);for(var f=!1,m=n.return;m!==null;)m.childLanes|=a,u=m.alternate,u!==null&&(u.childLanes|=a),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(f=!0)),n=m,m=m.return;f&&r!==null&&n.tag===3&&(m=n.stateNode,f=31-nn(a),m=m.hiddenUpdates,n=m[f],n===null?m[f]=[r]:n.push(r),r.lane=a|536870912)}function uc(n){if(50<Ml)throw Ml=0,im=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var Fa={},by=new WeakMap;function Ln(n,r){if(typeof n=="object"&&n!==null){var a=by.get(n);return a!==void 0?a:(r={value:n,source:r,stack:de(r)},by.set(n,r),r)}return{value:n,source:r,stack:de(r)}}var $a=[],Ga=0,cc=null,hc=0,jn=[],Un=0,Hs=null,Qi=1,Yi="";function Fs(n,r){$a[Ga++]=hc,$a[Ga++]=cc,cc=n,hc=r}function Ty(n,r,a){jn[Un++]=Qi,jn[Un++]=Yi,jn[Un++]=Hs,Hs=n;var u=Qi;n=Yi;var f=32-nn(u)-1;u&=~(1<<f),a+=1;var m=32-nn(r)+f;if(30<m){var E=f-f%5;m=(u&(1<<E)-1).toString(32),u>>=E,f-=E,Qi=1<<32-nn(r)+f|a<<f|u,Yi=m+n}else Qi=1<<m|a<<f|u,Yi=n}function Zf(n){n.return!==null&&(Fs(n,1),Ty(n,1,0))}function Jf(n){for(;n===cc;)cc=$a[--Ga],$a[Ga]=null,hc=$a[--Ga],$a[Ga]=null;for(;n===Hs;)Hs=jn[--Un],jn[Un]=null,Yi=jn[--Un],jn[Un]=null,Qi=jn[--Un],jn[Un]=null}var an=null,zt=null,$e=!1,ti=null,vi=!1,ed=Error(s(519));function $s(n){var r=Error(s(418,""));throw fl(Ln(r,n)),ed}function wy(n){var r=n.stateNode,a=n.type,u=n.memoizedProps;switch(r[Dt]=n,r[wt]=u,a){case"dialog":je("cancel",r),je("close",r);break;case"iframe":case"object":case"embed":je("load",r);break;case"video":case"audio":for(a=0;a<Vl.length;a++)je(Vl[a],r);break;case"source":je("error",r);break;case"img":case"image":case"link":je("error",r),je("load",r);break;case"details":je("toggle",r);break;case"input":je("invalid",r),Ds(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Os(r);break;case"select":je("invalid",r);break;case"textarea":je("invalid",r),Mr(r,u.value,u.defaultValue,u.children),Os(r)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||u.suppressHydrationWarning===!0||D0(r.textContent,a)?(u.popover!=null&&(je("beforetoggle",r),je("toggle",r)),u.onScroll!=null&&je("scroll",r),u.onScrollEnd!=null&&je("scrollend",r),u.onClick!=null&&(r.onclick=Hc),r=!0):r=!1,r||$s(n)}function Sy(n){for(an=n.return;an;)switch(an.tag){case 3:case 27:vi=!0;return;case 5:case 13:vi=!1;return;default:an=an.return}}function cl(n){if(n!==an)return!1;if(!$e)return Sy(n),$e=!0,!1;var r=!1,a;if((a=n.tag!==3&&n.tag!==27)&&((a=n.tag===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Em(n.type,n.memoizedProps)),a=!a),a&&(r=!0),r&&zt&&$s(n),Sy(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(r===0){zt=ii(n.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;n=n.nextSibling}zt=null}}else zt=an?ii(n.stateNode.nextSibling):null;return!0}function hl(){zt=an=null,$e=!1}function fl(n){ti===null?ti=[n]:ti.push(n)}var dl=Error(s(460)),Ay=Error(s(474)),td={then:function(){}};function xy(n){return n=n.status,n==="fulfilled"||n==="rejected"}function fc(){}function Ry(n,r,a){switch(a=n[a],a===void 0?n.push(r):a!==r&&(r.then(fc,fc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,n===dl?Error(s(483)):n;default:if(typeof r.status=="string")r.then(fc,fc);else{if(n=nt,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(u){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=u}},function(u){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,n===dl?Error(s(483)):n}throw ml=r,dl}}var ml=null;function Iy(){if(ml===null)throw Error(s(459));var n=ml;return ml=null,n}var Ka=null,pl=0;function dc(n){var r=pl;return pl+=1,Ka===null&&(Ka=[]),Ry(Ka,n,r)}function gl(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function mc(n,r){throw r.$$typeof===l?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function Cy(n){var r=n._init;return r(n._payload)}function Ny(n){function r(q,L){if(n){var F=q.deletions;F===null?(q.deletions=[L],q.flags|=16):F.push(L)}}function a(q,L){if(!n)return null;for(;L!==null;)r(q,L),L=L.sibling;return null}function u(q){for(var L=new Map;q!==null;)q.key!==null?L.set(q.key,q):L.set(q.index,q),q=q.sibling;return L}function f(q,L){return q=Qr(q,L),q.index=0,q.sibling=null,q}function m(q,L,F){return q.index=F,n?(F=q.alternate,F!==null?(F=F.index,F<L?(q.flags|=33554434,L):F):(q.flags|=33554434,L)):(q.flags|=1048576,L)}function E(q){return n&&q.alternate===null&&(q.flags|=33554434),q}function T(q,L,F,ee){return L===null||L.tag!==6?(L=Yd(F,q.mode,ee),L.return=q,L):(L=f(L,F),L.return=q,L)}function O(q,L,F,ee){var ge=F.type;return ge===p?W(q,L,F.props.children,ee,F.key):L!==null&&(L.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===Z&&Cy(ge)===L.type)?(L=f(L,F.props),gl(L,F),L.return=q,L):(L=Dc(F.type,F.key,F.props,null,q.mode,ee),gl(L,F),L.return=q,L)}function z(q,L,F,ee){return L===null||L.tag!==4||L.stateNode.containerInfo!==F.containerInfo||L.stateNode.implementation!==F.implementation?(L=Xd(F,q.mode,ee),L.return=q,L):(L=f(L,F.children||[]),L.return=q,L)}function W(q,L,F,ee,ge){return L===null||L.tag!==7?(L=ta(F,q.mode,ee,ge),L.return=q,L):(L=f(L,F),L.return=q,L)}function ie(q,L,F){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=Yd(""+L,q.mode,F),L.return=q,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case h:return F=Dc(L.type,L.key,L.props,null,q.mode,F),gl(F,L),F.return=q,F;case d:return L=Xd(L,q.mode,F),L.return=q,L;case Z:var ee=L._init;return L=ee(L._payload),ie(q,L,F)}if(ae(L)||he(L))return L=ta(L,q.mode,F,null),L.return=q,L;if(typeof L.then=="function")return ie(q,dc(L),F);if(L.$$typeof===C)return ie(q,Cc(q,L),F);mc(q,L)}return null}function G(q,L,F,ee){var ge=L!==null?L.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return ge!==null?null:T(q,L,""+F,ee);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case h:return F.key===ge?O(q,L,F,ee):null;case d:return F.key===ge?z(q,L,F,ee):null;case Z:return ge=F._init,F=ge(F._payload),G(q,L,F,ee)}if(ae(F)||he(F))return ge!==null?null:W(q,L,F,ee,null);if(typeof F.then=="function")return G(q,L,dc(F),ee);if(F.$$typeof===C)return G(q,L,Cc(q,F),ee);mc(q,F)}return null}function Y(q,L,F,ee,ge){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return q=q.get(F)||null,T(L,q,""+ee,ge);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case h:return q=q.get(ee.key===null?F:ee.key)||null,O(L,q,ee,ge);case d:return q=q.get(ee.key===null?F:ee.key)||null,z(L,q,ee,ge);case Z:var ke=ee._init;return ee=ke(ee._payload),Y(q,L,F,ee,ge)}if(ae(ee)||he(ee))return q=q.get(F)||null,W(L,q,ee,ge,null);if(typeof ee.then=="function")return Y(q,L,F,dc(ee),ge);if(ee.$$typeof===C)return Y(q,L,F,Cc(L,ee),ge);mc(L,ee)}return null}function ye(q,L,F,ee){for(var ge=null,ke=null,ve=L,we=L=0,Lt=null;ve!==null&&we<F.length;we++){ve.index>we?(Lt=ve,ve=null):Lt=ve.sibling;var Ge=G(q,ve,F[we],ee);if(Ge===null){ve===null&&(ve=Lt);break}n&&ve&&Ge.alternate===null&&r(q,ve),L=m(Ge,L,we),ke===null?ge=Ge:ke.sibling=Ge,ke=Ge,ve=Lt}if(we===F.length)return a(q,ve),$e&&Fs(q,we),ge;if(ve===null){for(;we<F.length;we++)ve=ie(q,F[we],ee),ve!==null&&(L=m(ve,L,we),ke===null?ge=ve:ke.sibling=ve,ke=ve);return $e&&Fs(q,we),ge}for(ve=u(ve);we<F.length;we++)Lt=Y(ve,q,we,F[we],ee),Lt!==null&&(n&&Lt.alternate!==null&&ve.delete(Lt.key===null?we:Lt.key),L=m(Lt,L,we),ke===null?ge=Lt:ke.sibling=Lt,ke=Lt);return n&&ve.forEach(function(ts){return r(q,ts)}),$e&&Fs(q,we),ge}function Ie(q,L,F,ee){if(F==null)throw Error(s(151));for(var ge=null,ke=null,ve=L,we=L=0,Lt=null,Ge=F.next();ve!==null&&!Ge.done;we++,Ge=F.next()){ve.index>we?(Lt=ve,ve=null):Lt=ve.sibling;var ts=G(q,ve,Ge.value,ee);if(ts===null){ve===null&&(ve=Lt);break}n&&ve&&ts.alternate===null&&r(q,ve),L=m(ts,L,we),ke===null?ge=ts:ke.sibling=ts,ke=ts,ve=Lt}if(Ge.done)return a(q,ve),$e&&Fs(q,we),ge;if(ve===null){for(;!Ge.done;we++,Ge=F.next())Ge=ie(q,Ge.value,ee),Ge!==null&&(L=m(Ge,L,we),ke===null?ge=Ge:ke.sibling=Ge,ke=Ge);return $e&&Fs(q,we),ge}for(ve=u(ve);!Ge.done;we++,Ge=F.next())Ge=Y(ve,q,we,Ge.value,ee),Ge!==null&&(n&&Ge.alternate!==null&&ve.delete(Ge.key===null?we:Ge.key),L=m(Ge,L,we),ke===null?ge=Ge:ke.sibling=Ge,ke=Ge);return n&&ve.forEach(function(F2){return r(q,F2)}),$e&&Fs(q,we),ge}function mt(q,L,F,ee){if(typeof F=="object"&&F!==null&&F.type===p&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case h:e:{for(var ge=F.key;L!==null;){if(L.key===ge){if(ge=F.type,ge===p){if(L.tag===7){a(q,L.sibling),ee=f(L,F.props.children),ee.return=q,q=ee;break e}}else if(L.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===Z&&Cy(ge)===L.type){a(q,L.sibling),ee=f(L,F.props),gl(ee,F),ee.return=q,q=ee;break e}a(q,L);break}else r(q,L);L=L.sibling}F.type===p?(ee=ta(F.props.children,q.mode,ee,F.key),ee.return=q,q=ee):(ee=Dc(F.type,F.key,F.props,null,q.mode,ee),gl(ee,F),ee.return=q,q=ee)}return E(q);case d:e:{for(ge=F.key;L!==null;){if(L.key===ge)if(L.tag===4&&L.stateNode.containerInfo===F.containerInfo&&L.stateNode.implementation===F.implementation){a(q,L.sibling),ee=f(L,F.children||[]),ee.return=q,q=ee;break e}else{a(q,L);break}else r(q,L);L=L.sibling}ee=Xd(F,q.mode,ee),ee.return=q,q=ee}return E(q);case Z:return ge=F._init,F=ge(F._payload),mt(q,L,F,ee)}if(ae(F))return ye(q,L,F,ee);if(he(F)){if(ge=he(F),typeof ge!="function")throw Error(s(150));return F=ge.call(F),Ie(q,L,F,ee)}if(typeof F.then=="function")return mt(q,L,dc(F),ee);if(F.$$typeof===C)return mt(q,L,Cc(q,F),ee);mc(q,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,L!==null&&L.tag===6?(a(q,L.sibling),ee=f(L,F),ee.return=q,q=ee):(a(q,L),ee=Yd(F,q.mode,ee),ee.return=q,q=ee),E(q)):a(q,L)}return function(q,L,F,ee){try{pl=0;var ge=mt(q,L,F,ee);return Ka=null,ge}catch(ve){if(ve===dl)throw ve;var ke=Hn(29,ve,null,q.mode);return ke.lanes=ee,ke.return=q,ke}finally{}}}var Gs=Ny(!0),Oy=Ny(!1),Qa=De(null),pc=De(0);function Dy(n,r){n=ar,Le(pc,n),Le(Qa,r),ar=n|r.baseLanes}function nd(){Le(pc,ar),Le(Qa,Qa.current)}function id(){ar=pc.current,Xe(Qa),Xe(pc)}var zn=De(null),_i=null;function Lr(n){var r=n.alternate;Le(xt,xt.current&1),Le(zn,n),_i===null&&(r===null||Qa.current!==null||r.memoizedState!==null)&&(_i=n)}function ky(n){if(n.tag===22){if(Le(xt,xt.current),Le(zn,n),_i===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(_i=n)}}else jr()}function jr(){Le(xt,xt.current),Le(zn,zn.current)}function Xi(n){Xe(zn),_i===n&&(_i=null),Xe(xt)}var xt=De(0);function gc(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var OS=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(a,u){n.push(u)}};this.abort=function(){r.aborted=!0,n.forEach(function(a){return a()})}},DS=i.unstable_scheduleCallback,kS=i.unstable_NormalPriority,Rt={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rd(){return{controller:new OS,data:new Map,refCount:0}}function yl(n){n.refCount--,n.refCount===0&&DS(kS,function(){n.controller.abort()})}var vl=null,sd=0,Ya=0,Xa=null;function MS(n,r){if(vl===null){var a=vl=[];sd=0,Ya=hm(),Xa={status:"pending",value:void 0,then:function(u){a.push(u)}}}return sd++,r.then(My,My),r}function My(){if(--sd===0&&vl!==null){Xa!==null&&(Xa.status="fulfilled");var n=vl;vl=null,Ya=0,Xa=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function PS(n,r){var a=[],u={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){u.status="fulfilled",u.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(u.status="rejected",u.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),u}var Py=A.S;A.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&MS(n,r),Py!==null&&Py(n,r)};var Ks=De(null);function ad(){var n=Ks.current;return n!==null?n:nt.pooledCache}function yc(n,r){r===null?Le(Ks,Ks.current):Le(Ks,r.pool)}function Vy(){var n=ad();return n===null?null:{parent:Rt._currentValue,pool:n}}var Ur=0,Oe=null,We=null,vt=null,vc=!1,Wa=!1,Qs=!1,_c=0,_l=0,Za=null,VS=0;function gt(){throw Error(s(321))}function od(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!En(n[a],r[a]))return!1;return!0}function ld(n,r,a,u,f,m){return Ur=m,Oe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,A.H=n===null||n.memoizedState===null?Ys:zr,Qs=!1,m=a(u,f),Qs=!1,Wa&&(m=jy(r,a,u,f)),Ly(n),m}function Ly(n){A.H=Ei;var r=We!==null&&We.next!==null;if(Ur=0,vt=We=Oe=null,vc=!1,_l=0,Za=null,r)throw Error(s(300));n===null||Pt||(n=n.dependencies,n!==null&&Ic(n)&&(Pt=!0))}function jy(n,r,a,u){Oe=n;var f=0;do{if(Wa&&(Za=null),_l=0,Wa=!1,25<=f)throw Error(s(301));if(f+=1,vt=We=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}A.H=Xs,m=r(a,u)}while(Wa);return m}function LS(){var n=A.H,r=n.useState()[0];return r=typeof r.then=="function"?El(r):r,n=n.useState()[0],(We!==null?We.memoizedState:null)!==n&&(Oe.flags|=1024),r}function ud(){var n=_c!==0;return _c=0,n}function cd(n,r,a){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a}function hd(n){if(vc){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}vc=!1}Ur=0,vt=We=Oe=null,Wa=!1,_l=_c=0,Za=null}function dn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?Oe.memoizedState=vt=n:vt=vt.next=n,vt}function _t(){if(We===null){var n=Oe.alternate;n=n!==null?n.memoizedState:null}else n=We.next;var r=vt===null?Oe.memoizedState:vt.next;if(r!==null)vt=r,We=n;else{if(n===null)throw Oe.alternate===null?Error(s(467)):Error(s(310));We=n,n={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},vt===null?Oe.memoizedState=vt=n:vt=vt.next=n}return vt}var Ec;Ec=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function El(n){var r=_l;return _l+=1,Za===null&&(Za=[]),n=Ry(Za,n,r),r=Oe,(vt===null?r.memoizedState:vt.next)===null&&(r=r.alternate,A.H=r===null||r.memoizedState===null?Ys:zr),n}function bc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return El(n);if(n.$$typeof===C)return Yt(n)}throw Error(s(438,String(n)))}function fd(n){var r=null,a=Oe.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var u=Oe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Ec(),Oe.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(n),u=0;u<n;u++)a[u]=le;return r.index++,a}function Wi(n,r){return typeof r=="function"?r(n):r}function Tc(n){var r=_t();return dd(r,We,n)}function dd(n,r,a){var u=n.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=a;var f=n.baseQueue,m=u.pending;if(m!==null){if(f!==null){var E=f.next;f.next=m.next,m.next=E}r.baseQueue=f=m,u.pending=null}if(m=n.baseState,f===null)n.memoizedState=m;else{r=f.next;var T=E=null,O=null,z=r,W=!1;do{var ie=z.lane&-536870913;if(ie!==z.lane?(Be&ie)===ie:(Ur&ie)===ie){var G=z.revertLane;if(G===0)O!==null&&(O=O.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),ie===Ya&&(W=!0);else if((Ur&G)===G){z=z.next,G===Ya&&(W=!0);continue}else ie={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},O===null?(T=O=ie,E=m):O=O.next=ie,Oe.lanes|=G,Yr|=G;ie=z.action,Qs&&a(m,ie),m=z.hasEagerState?z.eagerState:a(m,ie)}else G={lane:ie,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},O===null?(T=O=G,E=m):O=O.next=G,Oe.lanes|=ie,Yr|=ie;z=z.next}while(z!==null&&z!==r);if(O===null?E=m:O.next=T,!En(m,n.memoizedState)&&(Pt=!0,W&&(a=Xa,a!==null)))throw a;n.memoizedState=m,n.baseState=E,n.baseQueue=O,u.lastRenderedState=m}return f===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function md(n){var r=_t(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var u=a.dispatch,f=a.pending,m=r.memoizedState;if(f!==null){a.pending=null;var E=f=f.next;do m=n(m,E.action),E=E.next;while(E!==f);En(m,r.memoizedState)||(Pt=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),a.lastRenderedState=m}return[m,u]}function Uy(n,r,a){var u=Oe,f=_t(),m=$e;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=r();var E=!En((We||f).memoizedState,a);if(E&&(f.memoizedState=a,Pt=!0),f=f.queue,yd(By.bind(null,u,f,n),[n]),f.getSnapshot!==r||E||vt!==null&&vt.memoizedState.tag&1){if(u.flags|=2048,Ja(9,qy.bind(null,u,f,a,r),{destroy:void 0},null),nt===null)throw Error(s(349));m||(Ur&60)!==0||zy(u,r,a)}return a}function zy(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=Oe.updateQueue,r===null?(r=Ec(),Oe.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function qy(n,r,a,u){r.value=a,r.getSnapshot=u,Hy(r)&&Fy(n)}function By(n,r,a){return a(function(){Hy(r)&&Fy(n)})}function Hy(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!En(n,a)}catch{return!0}}function Fy(n){var r=Vr(n,2);r!==null&&on(r,n,2)}function pd(n){var r=dn();if(typeof n=="function"){var a=n;if(n=a(),Qs){oi(!0);try{a()}finally{oi(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:n},r}function $y(n,r,a,u){return n.baseState=a,dd(n,We,typeof u=="function"?u:Wi)}function jS(n,r,a,u,f){if(Ac(n))throw Error(s(485));if(n=r.action,n!==null){var m={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){m.listeners.push(E)}};A.T!==null?a(!0):m.isTransition=!1,u(m),a=r.pending,a===null?(m.next=r.pending=m,Gy(r,m)):(m.next=a.next,r.pending=a.next=m)}}function Gy(n,r){var a=r.action,u=r.payload,f=n.state;if(r.isTransition){var m=A.T,E={};A.T=E;try{var T=a(f,u),O=A.S;O!==null&&O(E,T),Ky(n,r,T)}catch(z){gd(n,r,z)}finally{A.T=m}}else try{m=a(f,u),Ky(n,r,m)}catch(z){gd(n,r,z)}}function Ky(n,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){Qy(n,r,u)},function(u){return gd(n,r,u)}):Qy(n,r,a)}function Qy(n,r,a){r.status="fulfilled",r.value=a,Yy(r),n.state=a,r=n.pending,r!==null&&(a=r.next,a===r?n.pending=null:(a=a.next,r.next=a,Gy(n,a)))}function gd(n,r,a){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=a,Yy(r),r=r.next;while(r!==u)}n.action=null}function Yy(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function Xy(n,r){return r}function Wy(n,r){if($e){var a=nt.formState;if(a!==null){e:{var u=Oe;if($e){if(zt){t:{for(var f=zt,m=vi;f.nodeType!==8;){if(!m){f=null;break t}if(f=ii(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){zt=ii(f.nextSibling),u=f.data==="F!";break e}}$s(u)}u=!1}u&&(r=a[0])}}return a=dn(),a.memoizedState=a.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xy,lastRenderedState:r},a.queue=u,a=pv.bind(null,Oe,u),u.dispatch=a,u=pd(!1),m=Td.bind(null,Oe,!1,u.queue),u=dn(),f={state:r,dispatch:null,action:n,pending:null},u.queue=f,a=jS.bind(null,Oe,f,m,a),f.dispatch=a,u.memoizedState=n,[r,a,!1]}function Zy(n){var r=_t();return Jy(r,We,n)}function Jy(n,r,a){r=dd(n,r,Xy)[0],n=Tc(Wi)[0],r=typeof r=="object"&&r!==null&&typeof r.then=="function"?El(r):r;var u=_t(),f=u.queue,m=f.dispatch;return a!==u.memoizedState&&(Oe.flags|=2048,Ja(9,US.bind(null,f,a),{destroy:void 0},null)),[r,m,n]}function US(n,r){n.action=r}function ev(n){var r=_t(),a=We;if(a!==null)return Jy(r,a,n);_t(),r=r.memoizedState,a=_t();var u=a.queue.dispatch;return a.memoizedState=n,[r,u,!1]}function Ja(n,r,a,u){return n={tag:n,create:r,inst:a,deps:u,next:null},r=Oe.updateQueue,r===null&&(r=Ec(),Oe.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=n.next=n:(u=a.next,a.next=n,n.next=u,r.lastEffect=n),n}function tv(){return _t().memoizedState}function wc(n,r,a,u){var f=dn();Oe.flags|=n,f.memoizedState=Ja(1|r,a,{destroy:void 0},u===void 0?null:u)}function Sc(n,r,a,u){var f=_t();u=u===void 0?null:u;var m=f.memoizedState.inst;We!==null&&u!==null&&od(u,We.memoizedState.deps)?f.memoizedState=Ja(r,a,m,u):(Oe.flags|=n,f.memoizedState=Ja(1|r,a,m,u))}function nv(n,r){wc(8390656,8,n,r)}function yd(n,r){Sc(2048,8,n,r)}function iv(n,r){return Sc(4,2,n,r)}function rv(n,r){return Sc(4,4,n,r)}function sv(n,r){if(typeof r=="function"){n=n();var a=r(n);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function av(n,r,a){a=a!=null?a.concat([n]):null,Sc(4,4,sv.bind(null,r,n),a)}function vd(){}function ov(n,r){var a=_t();r=r===void 0?null:r;var u=a.memoizedState;return r!==null&&od(r,u[1])?u[0]:(a.memoizedState=[n,r],n)}function lv(n,r){var a=_t();r=r===void 0?null:r;var u=a.memoizedState;if(r!==null&&od(r,u[1]))return u[0];if(u=n(),Qs){oi(!0);try{n()}finally{oi(!1)}}return a.memoizedState=[u,r],u}function _d(n,r,a){return a===void 0||(Ur&1073741824)!==0?n.memoizedState=r:(n.memoizedState=a,n=c0(),Oe.lanes|=n,Yr|=n,a)}function uv(n,r,a,u){return En(a,r)?a:Qa.current!==null?(n=_d(n,a,u),En(n,r)||(Pt=!0),n):(Ur&42)===0?(Pt=!0,n.memoizedState=a):(n=c0(),Oe.lanes|=n,Yr|=n,r)}function cv(n,r,a,u,f){var m=ce.p;ce.p=m!==0&&8>m?m:8;var E=A.T,T={};A.T=T,Td(n,!1,r,a);try{var O=f(),z=A.S;if(z!==null&&z(T,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var W=PS(O,u);bl(n,r,W,Sn(n))}else bl(n,r,u,Sn(n))}catch(ie){bl(n,r,{then:function(){},status:"rejected",reason:ie},Sn())}finally{ce.p=m,A.T=E}}function zS(){}function Ed(n,r,a,u){if(n.tag!==5)throw Error(s(476));var f=hv(n).queue;cv(n,f,r,be,a===null?zS:function(){return fv(n),a(u)})}function hv(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:be,baseState:be,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:be},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:a},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function fv(n){var r=hv(n).next.queue;bl(n,r,{},Sn())}function bd(){return Yt(ql)}function dv(){return _t().memoizedState}function mv(){return _t().memoizedState}function qS(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var a=Sn();n=Hr(a);var u=Fr(r,n,a);u!==null&&(on(u,r,a),Sl(u,r,a)),r={cache:rd()},n.payload=r;return}r=r.return}}function BS(n,r,a){var u=Sn();a={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Ac(n)?gv(r,a):(a=Wf(n,r,a,u),a!==null&&(on(a,n,u),yv(a,r,u)))}function pv(n,r,a){var u=Sn();bl(n,r,a,u)}function bl(n,r,a,u){var f={lane:u,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ac(n))gv(r,f);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var E=r.lastRenderedState,T=m(E,a);if(f.hasEagerState=!0,f.eagerState=T,En(T,E))return lc(n,r,f,0),nt===null&&oc(),!1}catch{}finally{}if(a=Wf(n,r,f,u),a!==null)return on(a,n,u),yv(a,r,u),!0}return!1}function Td(n,r,a,u){if(u={lane:2,revertLane:hm(),action:u,hasEagerState:!1,eagerState:null,next:null},Ac(n)){if(r)throw Error(s(479))}else r=Wf(n,a,u,2),r!==null&&on(r,n,2)}function Ac(n){var r=n.alternate;return n===Oe||r!==null&&r===Oe}function gv(n,r){Wa=vc=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function yv(n,r,a){if((a&4194176)!==0){var u=r.lanes;u&=n.pendingLanes,a|=u,r.lanes=a,xr(n,a)}}var Ei={readContext:Yt,use:bc,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt};Ei.useCacheRefresh=gt,Ei.useMemoCache=gt,Ei.useHostTransitionStatus=gt,Ei.useFormState=gt,Ei.useActionState=gt,Ei.useOptimistic=gt;var Ys={readContext:Yt,use:bc,useCallback:function(n,r){return dn().memoizedState=[n,r===void 0?null:r],n},useContext:Yt,useEffect:nv,useImperativeHandle:function(n,r,a){a=a!=null?a.concat([n]):null,wc(4194308,4,sv.bind(null,r,n),a)},useLayoutEffect:function(n,r){return wc(4194308,4,n,r)},useInsertionEffect:function(n,r){wc(4,2,n,r)},useMemo:function(n,r){var a=dn();r=r===void 0?null:r;var u=n();if(Qs){oi(!0);try{n()}finally{oi(!1)}}return a.memoizedState=[u,r],u},useReducer:function(n,r,a){var u=dn();if(a!==void 0){var f=a(r);if(Qs){oi(!0);try{a(r)}finally{oi(!1)}}}else f=r;return u.memoizedState=u.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},u.queue=n,n=n.dispatch=BS.bind(null,Oe,n),[u.memoizedState,n]},useRef:function(n){var r=dn();return n={current:n},r.memoizedState=n},useState:function(n){n=pd(n);var r=n.queue,a=pv.bind(null,Oe,r);return r.dispatch=a,[n.memoizedState,a]},useDebugValue:vd,useDeferredValue:function(n,r){var a=dn();return _d(a,n,r)},useTransition:function(){var n=pd(!1);return n=cv.bind(null,Oe,n.queue,!0,!1),dn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,a){var u=Oe,f=dn();if($e){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),nt===null)throw Error(s(349));(Be&60)!==0||zy(u,r,a)}f.memoizedState=a;var m={value:a,getSnapshot:r};return f.queue=m,nv(By.bind(null,u,m,n),[n]),u.flags|=2048,Ja(9,qy.bind(null,u,m,a,r),{destroy:void 0},null),a},useId:function(){var n=dn(),r=nt.identifierPrefix;if($e){var a=Yi,u=Qi;a=(u&~(1<<32-nn(u)-1)).toString(32)+a,r=":"+r+"R"+a,a=_c++,0<a&&(r+="H"+a.toString(32)),r+=":"}else a=VS++,r=":"+r+"r"+a.toString(32)+":";return n.memoizedState=r},useCacheRefresh:function(){return dn().memoizedState=qS.bind(null,Oe)}};Ys.useMemoCache=fd,Ys.useHostTransitionStatus=bd,Ys.useFormState=Wy,Ys.useActionState=Wy,Ys.useOptimistic=function(n){var r=dn();r.memoizedState=r.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Td.bind(null,Oe,!0,a),a.dispatch=r,[n,r]};var zr={readContext:Yt,use:bc,useCallback:ov,useContext:Yt,useEffect:yd,useImperativeHandle:av,useInsertionEffect:iv,useLayoutEffect:rv,useMemo:lv,useReducer:Tc,useRef:tv,useState:function(){return Tc(Wi)},useDebugValue:vd,useDeferredValue:function(n,r){var a=_t();return uv(a,We.memoizedState,n,r)},useTransition:function(){var n=Tc(Wi)[0],r=_t().memoizedState;return[typeof n=="boolean"?n:El(n),r]},useSyncExternalStore:Uy,useId:dv};zr.useCacheRefresh=mv,zr.useMemoCache=fd,zr.useHostTransitionStatus=bd,zr.useFormState=Zy,zr.useActionState=Zy,zr.useOptimistic=function(n,r){var a=_t();return $y(a,We,n,r)};var Xs={readContext:Yt,use:bc,useCallback:ov,useContext:Yt,useEffect:yd,useImperativeHandle:av,useInsertionEffect:iv,useLayoutEffect:rv,useMemo:lv,useReducer:md,useRef:tv,useState:function(){return md(Wi)},useDebugValue:vd,useDeferredValue:function(n,r){var a=_t();return We===null?_d(a,n,r):uv(a,We.memoizedState,n,r)},useTransition:function(){var n=md(Wi)[0],r=_t().memoizedState;return[typeof n=="boolean"?n:El(n),r]},useSyncExternalStore:Uy,useId:dv};Xs.useCacheRefresh=mv,Xs.useMemoCache=fd,Xs.useHostTransitionStatus=bd,Xs.useFormState=ev,Xs.useActionState=ev,Xs.useOptimistic=function(n,r){var a=_t();return We!==null?$y(a,We,n,r):(a.baseState=n,[n,a.queue.dispatch])};function wd(n,r,a,u){r=n.memoizedState,a=a(u,r),a=a==null?r:R({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Sd={isMounted:function(n){return(n=n._reactInternals)?fe(n)===n:!1},enqueueSetState:function(n,r,a){n=n._reactInternals;var u=Sn(),f=Hr(u);f.payload=r,a!=null&&(f.callback=a),r=Fr(n,f,u),r!==null&&(on(r,n,u),Sl(r,n,u))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var u=Sn(),f=Hr(u);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=Fr(n,f,u),r!==null&&(on(r,n,u),Sl(r,n,u))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=Sn(),u=Hr(a);u.tag=2,r!=null&&(u.callback=r),r=Fr(n,u,a),r!==null&&(on(r,n,a),Sl(r,n,a))}};function vv(n,r,a,u,f,m,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,m,E):r.prototype&&r.prototype.isPureReactComponent?!ll(a,u)||!ll(f,m):!0}function _v(n,r,a,u){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,u),r.state!==n&&Sd.enqueueReplaceState(r,r.state,null)}function Ws(n,r){var a=r;if("ref"in r){a={};for(var u in r)u!=="ref"&&(a[u]=r[u])}if(n=n.defaultProps){a===r&&(a=R({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}var xc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Ev(n){xc(n)}function bv(n){console.error(n)}function Tv(n){xc(n)}function Rc(n,r){try{var a=n.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function wv(n,r,a){try{var u=n.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Ad(n,r,a){return a=Hr(a),a.tag=3,a.payload={element:null},a.callback=function(){Rc(n,r)},a}function Sv(n){return n=Hr(n),n.tag=3,n}function Av(n,r,a,u){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=u.value;n.payload=function(){return f(m)},n.callback=function(){wv(r,a,u)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){wv(r,a,u),typeof f!="function"&&(Xr===null?Xr=new Set([this]):Xr.add(this));var T=u.stack;this.componentDidCatch(u.value,{componentStack:T!==null?T:""})})}function HS(n,r,a,u,f){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=a.alternate,r!==null&&wl(r,a,f,!0),a=zn.current,a!==null){switch(a.tag){case 13:return _i===null?am():a.alternate===null&&dt===0&&(dt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,u===td?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([u]):r.add(u),lm(n,u,f)),!1;case 22:return a.flags|=65536,u===td?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([u]):a.add(u)),lm(n,u,f)),!1}throw Error(s(435,a.tag))}return lm(n,u,f),am(),!1}if($e)return r=zn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,u!==ed&&(n=Error(s(422),{cause:u}),fl(Ln(n,a)))):(u!==ed&&(r=Error(s(423),{cause:u}),fl(Ln(r,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,u=Ln(u,a),f=Ad(n.stateNode,u,f),zd(n,f),dt!==4&&(dt=2)),!1;var m=Error(s(520),{cause:u});if(m=Ln(m,a),Dl===null?Dl=[m]:Dl.push(m),dt!==4&&(dt=2),r===null)return!0;u=Ln(u,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=Ad(a.stateNode,u,n),zd(a,n),!1;case 1:if(r=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Xr===null||!Xr.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Sv(f),Av(f,n,a,u),zd(a,f),!1}a=a.return}while(a!==null);return!1}var xv=Error(s(461)),Pt=!1;function qt(n,r,a,u){r.child=n===null?Oy(r,null,a,u):Gs(r,n.child,a,u)}function Rv(n,r,a,u,f){a=a.render;var m=r.ref;if("ref"in u){var E={};for(var T in u)T!=="ref"&&(E[T]=u[T])}else E=u;return Js(r),u=ld(n,r,a,E,m,f),T=ud(),n!==null&&!Pt?(cd(n,r,f),Zi(n,r,f)):($e&&T&&Zf(r),r.flags|=1,qt(n,r,u,f),r.child)}function Iv(n,r,a,u,f){if(n===null){var m=a.type;return typeof m=="function"&&!Qd(m)&&m.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=m,Cv(n,r,m,u,f)):(n=Dc(a.type,null,u,r,r.mode,f),n.ref=r.ref,n.return=r,r.child=n)}if(m=n.child,!Md(n,f)){var E=m.memoizedProps;if(a=a.compare,a=a!==null?a:ll,a(E,u)&&n.ref===r.ref)return Zi(n,r,f)}return r.flags|=1,n=Qr(m,u),n.ref=r.ref,n.return=r,r.child=n}function Cv(n,r,a,u,f){if(n!==null){var m=n.memoizedProps;if(ll(m,u)&&n.ref===r.ref)if(Pt=!1,r.pendingProps=u=m,Md(n,f))(n.flags&131072)!==0&&(Pt=!0);else return r.lanes=n.lanes,Zi(n,r,f)}return xd(n,r,a,u,f)}function Nv(n,r,a){var u=r.pendingProps,f=u.children,m=(r.stateNode._pendingVisibility&2)!==0,E=n!==null?n.memoizedState:null;if(Tl(n,r),u.mode==="hidden"||m){if((r.flags&128)!==0){if(u=E!==null?E.baseLanes|a:a,n!==null){for(f=r.child=n.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;r.childLanes=m&~u}else r.childLanes=0,r.child=null;return Ov(n,r,u,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&yc(r,E!==null?E.cachePool:null),E!==null?Dy(r,E):nd(),ky(r);else return r.lanes=r.childLanes=536870912,Ov(n,r,E!==null?E.baseLanes|a:a,a)}else E!==null?(yc(r,E.cachePool),Dy(r,E),jr(),r.memoizedState=null):(n!==null&&yc(r,null),nd(),jr());return qt(n,r,f,a),r.child}function Ov(n,r,a,u){var f=ad();return f=f===null?null:{parent:Rt._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},n!==null&&yc(r,null),nd(),ky(r),n!==null&&wl(n,r,u,!0),null}function Tl(n,r){var a=r.ref;if(a===null)n!==null&&n.ref!==null&&(r.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(r.flags|=2097664)}}function xd(n,r,a,u,f){return Js(r),a=ld(n,r,a,u,void 0,f),u=ud(),n!==null&&!Pt?(cd(n,r,f),Zi(n,r,f)):($e&&u&&Zf(r),r.flags|=1,qt(n,r,a,f),r.child)}function Dv(n,r,a,u,f,m){return Js(r),r.updateQueue=null,a=jy(r,u,a,f),Ly(n),u=ud(),n!==null&&!Pt?(cd(n,r,m),Zi(n,r,m)):($e&&u&&Zf(r),r.flags|=1,qt(n,r,a,m),r.child)}function kv(n,r,a,u,f){if(Js(r),r.stateNode===null){var m=Fa,E=a.contextType;typeof E=="object"&&E!==null&&(m=Yt(E)),m=new a(u,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Sd,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=u,m.state=r.memoizedState,m.refs={},jd(r),E=a.contextType,m.context=typeof E=="object"&&E!==null?Yt(E):Fa,m.state=r.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(wd(r,a,E,u),m.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(E=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),E!==m.state&&Sd.enqueueReplaceState(m,m.state,null),xl(r,u,m,f),Al(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(n===null){m=r.stateNode;var T=r.memoizedProps,O=Ws(a,T);m.props=O;var z=m.context,W=a.contextType;E=Fa,typeof W=="object"&&W!==null&&(E=Yt(W));var ie=a.getDerivedStateFromProps;W=typeof ie=="function"||typeof m.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,W||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T||z!==E)&&_v(r,m,u,E),Br=!1;var G=r.memoizedState;m.state=G,xl(r,u,m,f),Al(),z=r.memoizedState,T||G!==z||Br?(typeof ie=="function"&&(wd(r,a,ie,u),z=r.memoizedState),(O=Br||vv(r,a,O,u,G,z,E))?(W||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=z),m.props=u,m.state=z,m.context=E,u=O):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{m=r.stateNode,Ud(n,r),E=r.memoizedProps,W=Ws(a,E),m.props=W,ie=r.pendingProps,G=m.context,z=a.contextType,O=Fa,typeof z=="object"&&z!==null&&(O=Yt(z)),T=a.getDerivedStateFromProps,(z=typeof T=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E!==ie||G!==O)&&_v(r,m,u,O),Br=!1,G=r.memoizedState,m.state=G,xl(r,u,m,f),Al();var Y=r.memoizedState;E!==ie||G!==Y||Br||n!==null&&n.dependencies!==null&&Ic(n.dependencies)?(typeof T=="function"&&(wd(r,a,T,u),Y=r.memoizedState),(W=Br||vv(r,a,W,u,G,Y,O)||n!==null&&n.dependencies!==null&&Ic(n.dependencies))?(z||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,Y,O),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,Y,O)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||E===n.memoizedProps&&G===n.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&G===n.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=Y),m.props=u,m.state=Y,m.context=O,u=W):(typeof m.componentDidUpdate!="function"||E===n.memoizedProps&&G===n.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&G===n.memoizedState||(r.flags|=1024),u=!1)}return m=u,Tl(n,r),u=(r.flags&128)!==0,m||u?(m=r.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,n!==null&&u?(r.child=Gs(r,n.child,null,f),r.child=Gs(r,null,a,f)):qt(n,r,a,f),r.memoizedState=m.state,n=r.child):n=Zi(n,r,f),n}function Mv(n,r,a,u){return hl(),r.flags|=256,qt(n,r,a,u),r.child}var Rd={dehydrated:null,treeContext:null,retryLane:0};function Id(n){return{baseLanes:n,cachePool:Vy()}}function Cd(n,r,a){return n=n!==null?n.childLanes&~a:0,r&&(n|=Fn),n}function Pv(n,r,a){var u=r.pendingProps,f=!1,m=(r.flags&128)!==0,E;if((E=m)||(E=n!==null&&n.memoizedState===null?!1:(xt.current&2)!==0),E&&(f=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,n===null){if($e){if(f?Lr(r):jr(),$e){var T=zt,O;if(O=T){e:{for(O=T,T=vi;O.nodeType!==8;){if(!T){T=null;break e}if(O=ii(O.nextSibling),O===null){T=null;break e}}T=O}T!==null?(r.memoizedState={dehydrated:T,treeContext:Hs!==null?{id:Qi,overflow:Yi}:null,retryLane:536870912},O=Hn(18,null,null,0),O.stateNode=T,O.return=r,r.child=O,an=r,zt=null,O=!0):O=!1}O||$s(r)}if(T=r.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return T.data==="$!"?r.lanes=16:r.lanes=536870912,null;Xi(r)}return T=u.children,u=u.fallback,f?(jr(),f=r.mode,T=Od({mode:"hidden",children:T},f),u=ta(u,f,a,null),T.return=r,u.return=r,T.sibling=u,r.child=T,f=r.child,f.memoizedState=Id(a),f.childLanes=Cd(n,E,a),r.memoizedState=Rd,u):(Lr(r),Nd(r,T))}if(O=n.memoizedState,O!==null&&(T=O.dehydrated,T!==null)){if(m)r.flags&256?(Lr(r),r.flags&=-257,r=Dd(n,r,a)):r.memoizedState!==null?(jr(),r.child=n.child,r.flags|=128,r=null):(jr(),f=u.fallback,T=r.mode,u=Od({mode:"visible",children:u.children},T),f=ta(f,T,a,null),f.flags|=2,u.return=r,f.return=r,u.sibling=f,r.child=u,Gs(r,n.child,null,a),u=r.child,u.memoizedState=Id(a),u.childLanes=Cd(n,E,a),r.memoizedState=Rd,r=f);else if(Lr(r),T.data==="$!"){if(E=T.nextSibling&&T.nextSibling.dataset,E)var z=E.dgst;E=z,u=Error(s(419)),u.stack="",u.digest=E,fl({value:u,source:null,stack:null}),r=Dd(n,r,a)}else if(Pt||wl(n,r,a,!1),E=(a&n.childLanes)!==0,Pt||E){if(E=nt,E!==null){if(u=a&-a,(u&42)!==0)u=1;else switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=64;break;case 268435456:u=134217728;break;default:u=0}if(u=(u&(E.suspendedLanes|a))!==0?0:u,u!==0&&u!==O.retryLane)throw O.retryLane=u,Vr(n,u),on(E,n,u),xv}T.data==="$?"||am(),r=Dd(n,r,a)}else T.data==="$?"?(r.flags|=128,r.child=n.child,r=r2.bind(null,n),T._reactRetry=r,r=null):(n=O.treeContext,zt=ii(T.nextSibling),an=r,$e=!0,ti=null,vi=!1,n!==null&&(jn[Un++]=Qi,jn[Un++]=Yi,jn[Un++]=Hs,Qi=n.id,Yi=n.overflow,Hs=r),r=Nd(r,u.children),r.flags|=4096);return r}return f?(jr(),f=u.fallback,T=r.mode,O=n.child,z=O.sibling,u=Qr(O,{mode:"hidden",children:u.children}),u.subtreeFlags=O.subtreeFlags&31457280,z!==null?f=Qr(z,f):(f=ta(f,T,a,null),f.flags|=2),f.return=r,u.return=r,u.sibling=f,r.child=u,u=f,f=r.child,T=n.child.memoizedState,T===null?T=Id(a):(O=T.cachePool,O!==null?(z=Rt._currentValue,O=O.parent!==z?{parent:z,pool:z}:O):O=Vy(),T={baseLanes:T.baseLanes|a,cachePool:O}),f.memoizedState=T,f.childLanes=Cd(n,E,a),r.memoizedState=Rd,u):(Lr(r),a=n.child,n=a.sibling,a=Qr(a,{mode:"visible",children:u.children}),a.return=r,a.sibling=null,n!==null&&(E=r.deletions,E===null?(r.deletions=[n],r.flags|=16):E.push(n)),r.child=a,r.memoizedState=null,a)}function Nd(n,r){return r=Od({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function Od(n,r){return o0(n,r,0,null)}function Dd(n,r,a){return Gs(r,n.child,null,a),n=Nd(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function Vv(n,r,a){n.lanes|=r;var u=n.alternate;u!==null&&(u.lanes|=r),Vd(n.return,r,a)}function kd(n,r,a,u,f){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:f}:(m.isBackwards=r,m.rendering=null,m.renderingStartTime=0,m.last=u,m.tail=a,m.tailMode=f)}function Lv(n,r,a){var u=r.pendingProps,f=u.revealOrder,m=u.tail;if(qt(n,r,u.children,a),u=xt.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Vv(n,a,r);else if(n.tag===19)Vv(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}u&=1}switch(Le(xt,u),f){case"forwards":for(a=r.child,f=null;a!==null;)n=a.alternate,n!==null&&gc(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),kd(r,!1,f,a,m);break;case"backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(n=f.alternate,n!==null&&gc(n)===null){r.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}kd(r,!0,a,null,m);break;case"together":kd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Zi(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),Yr|=r.lanes,(a&r.childLanes)===0)if(n!==null){if(wl(n,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,a=Qr(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=Qr(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function Md(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&Ic(n)))}function FS(n,r,a){switch(r.tag){case 3:Er(r,r.stateNode.containerInfo),qr(r,Rt,n.memoizedState.cache),hl();break;case 27:case 5:qo(r);break;case 4:Er(r,r.stateNode.containerInfo);break;case 10:qr(r,r.type,r.memoizedProps.value);break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Lr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?Pv(n,r,a):(Lr(r),n=Zi(n,r,a),n!==null?n.sibling:null);Lr(r);break;case 19:var f=(n.flags&128)!==0;if(u=(a&r.childLanes)!==0,u||(wl(n,r,a,!1),u=(a&r.childLanes)!==0),f){if(u)return Lv(n,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Le(xt,xt.current),u)break;return null;case 22:case 23:return r.lanes=0,Nv(n,r,a);case 24:qr(r,Rt,n.memoizedState.cache)}return Zi(n,r,a)}function jv(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps)Pt=!0;else{if(!Md(n,a)&&(r.flags&128)===0)return Pt=!1,FS(n,r,a);Pt=(n.flags&131072)!==0}else Pt=!1,$e&&(r.flags&1048576)!==0&&Ty(r,hc,r.index);switch(r.lanes=0,r.tag){case 16:e:{n=r.pendingProps;var u=r.elementType,f=u._init;if(u=f(u._payload),r.type=u,typeof u=="function")Qd(u)?(n=Ws(u,n),r.tag=1,r=kv(null,r,u,n,a)):(r.tag=0,r=xd(null,r,u,n,a));else{if(u!=null){if(f=u.$$typeof,f===P){r.tag=11,r=Rv(null,r,u,n,a);break e}else if(f===Q){r.tag=14,r=Iv(null,r,u,n,a);break e}}throw r=I(u)||u,Error(s(306,r,""))}}return r;case 0:return xd(n,r,r.type,r.pendingProps,a);case 1:return u=r.type,f=Ws(u,r.pendingProps),kv(n,r,u,f,a);case 3:e:{if(Er(r,r.stateNode.containerInfo),n===null)throw Error(s(387));var m=r.pendingProps;f=r.memoizedState,u=f.element,Ud(n,r),xl(r,m,null,a);var E=r.memoizedState;if(m=E.cache,qr(r,Rt,m),m!==f.cache&&Ld(r,[Rt],a,!0),Al(),m=E.element,f.isDehydrated)if(f={element:m,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){r=Mv(n,r,m,a);break e}else if(m!==u){u=Ln(Error(s(424)),r),fl(u),r=Mv(n,r,m,a);break e}else for(zt=ii(r.stateNode.containerInfo.firstChild),an=r,$e=!0,ti=null,vi=!0,a=Oy(r,null,m,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(hl(),m===u){r=Zi(n,r,a);break e}qt(n,r,m,a)}r=r.child}return r;case 26:return Tl(n,r),n===null?(a=q0(r.type,null,r.pendingProps,null))?r.memoizedState=a:$e||(a=r.type,n=r.pendingProps,u=Fc(Cn.current).createElement(a),u[Dt]=r,u[wt]=n,Bt(u,a,n),at(u),r.stateNode=u):r.memoizedState=q0(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return qo(r),n===null&&$e&&(u=r.stateNode=j0(r.type,r.pendingProps,Cn.current),an=r,vi=!0,zt=ii(u.firstChild)),u=r.pendingProps.children,n!==null||$e?qt(n,r,u,a):r.child=Gs(r,null,u,a),Tl(n,r),r.child;case 5:return n===null&&$e&&((f=u=zt)&&(u=E2(u,r.type,r.pendingProps,vi),u!==null?(r.stateNode=u,an=r,zt=ii(u.firstChild),vi=!1,f=!0):f=!1),f||$s(r)),qo(r),f=r.type,m=r.pendingProps,E=n!==null?n.memoizedProps:null,u=m.children,Em(f,m)?u=null:E!==null&&Em(f,E)&&(r.flags|=32),r.memoizedState!==null&&(f=ld(n,r,LS,null,null,a),ql._currentValue=f),Tl(n,r),qt(n,r,u,a),r.child;case 6:return n===null&&$e&&((n=a=zt)&&(a=b2(a,r.pendingProps,vi),a!==null?(r.stateNode=a,an=r,zt=null,n=!0):n=!1),n||$s(r)),null;case 13:return Pv(n,r,a);case 4:return Er(r,r.stateNode.containerInfo),u=r.pendingProps,n===null?r.child=Gs(r,null,u,a):qt(n,r,u,a),r.child;case 11:return Rv(n,r,r.type,r.pendingProps,a);case 7:return qt(n,r,r.pendingProps,a),r.child;case 8:return qt(n,r,r.pendingProps.children,a),r.child;case 12:return qt(n,r,r.pendingProps.children,a),r.child;case 10:return u=r.pendingProps,qr(r,r.type,u.value),qt(n,r,u.children,a),r.child;case 9:return f=r.type._context,u=r.pendingProps.children,Js(r),f=Yt(f),u=u(f),r.flags|=1,qt(n,r,u,a),r.child;case 14:return Iv(n,r,r.type,r.pendingProps,a);case 15:return Cv(n,r,r.type,r.pendingProps,a);case 19:return Lv(n,r,a);case 22:return Nv(n,r,a);case 24:return Js(r),u=Yt(Rt),n===null?(f=ad(),f===null&&(f=nt,m=rd(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),r.memoizedState={parent:u,cache:f},jd(r),qr(r,Rt,f)):((n.lanes&a)!==0&&(Ud(n,r),xl(r,null,null,a),Al()),f=n.memoizedState,m=r.memoizedState,f.parent!==u?(f={parent:u,cache:u},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),qr(r,Rt,u)):(u=m.cache,qr(r,Rt,u),u!==f.cache&&Ld(r,[Rt],a,!0))),qt(n,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}var Pd=De(null),Zs=null,Ji=null;function qr(n,r,a){Le(Pd,r._currentValue),r._currentValue=a}function er(n){n._currentValue=Pd.current,Xe(Pd)}function Vd(n,r,a){for(;n!==null;){var u=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),n===a)break;n=n.return}}function Ld(n,r,a,u){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var m=f.dependencies;if(m!==null){var E=f.child;m=m.firstContext;e:for(;m!==null;){var T=m;m=f;for(var O=0;O<r.length;O++)if(T.context===r[O]){m.lanes|=a,T=m.alternate,T!==null&&(T.lanes|=a),Vd(m.return,a,n),u||(E=null);break e}m=T.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(s(341));E.lanes|=a,m=E.alternate,m!==null&&(m.lanes|=a),Vd(E,a,n),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===n){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function wl(n,r,a,u){n=null;for(var f=r,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var T=f.type;En(f.pendingProps.value,E.value)||(n!==null?n.push(T):n=[T])}}else if(f===_r.current){if(E=f.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(ql):n=[ql])}f=f.return}n!==null&&Ld(r,n,a,u),r.flags|=262144}function Ic(n){for(n=n.firstContext;n!==null;){if(!En(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Js(n){Zs=n,Ji=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Yt(n){return Uv(Zs,n)}function Cc(n,r){return Zs===null&&Js(n),Uv(n,r)}function Uv(n,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Ji===null){if(n===null)throw Error(s(308));Ji=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else Ji=Ji.next=r;return a}var Br=!1;function jd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ud(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Hr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Fr(n,r,a){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(lt&2)!==0){var f=u.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),u.pending=r,r=uc(n),Ey(n,null,a),r}return lc(n,u,r,a),uc(n)}function Sl(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194176)!==0)){var u=r.lanes;u&=n.pendingLanes,a|=u,r.lanes=a,xr(n,a)}}function zd(n,r){var a=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=E:m=m.next=E,a=a.next}while(a!==null);m===null?f=m=r:m=m.next=r}else f=m=r;a={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}var qd=!1;function Al(){if(qd){var n=Xa;if(n!==null)throw n}}function xl(n,r,a,u){qd=!1;var f=n.updateQueue;Br=!1;var m=f.firstBaseUpdate,E=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var O=T,z=O.next;O.next=null,E===null?m=z:E.next=z,E=O;var W=n.alternate;W!==null&&(W=W.updateQueue,T=W.lastBaseUpdate,T!==E&&(T===null?W.firstBaseUpdate=z:T.next=z,W.lastBaseUpdate=O))}if(m!==null){var ie=f.baseState;E=0,W=z=O=null,T=m;do{var G=T.lane&-536870913,Y=G!==T.lane;if(Y?(Be&G)===G:(u&G)===G){G!==0&&G===Ya&&(qd=!0),W!==null&&(W=W.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var ye=n,Ie=T;G=r;var mt=a;switch(Ie.tag){case 1:if(ye=Ie.payload,typeof ye=="function"){ie=ye.call(mt,ie,G);break e}ie=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=Ie.payload,G=typeof ye=="function"?ye.call(mt,ie,G):ye,G==null)break e;ie=R({},ie,G);break e;case 2:Br=!0}}G=T.callback,G!==null&&(n.flags|=64,Y&&(n.flags|=8192),Y=f.callbacks,Y===null?f.callbacks=[G]:Y.push(G))}else Y={lane:G,tag:T.tag,payload:T.payload,callback:T.callback,next:null},W===null?(z=W=Y,O=ie):W=W.next=Y,E|=G;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;Y=T,T=Y.next,Y.next=null,f.lastBaseUpdate=Y,f.shared.pending=null}}while(!0);W===null&&(O=ie),f.baseState=O,f.firstBaseUpdate=z,f.lastBaseUpdate=W,m===null&&(f.shared.lanes=0),Yr|=E,n.lanes=E,n.memoizedState=ie}}function zv(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function qv(n,r){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)zv(a[n],r)}function Rl(n,r){try{var a=r.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var f=u.next;a=f;do{if((a.tag&n)===n){u=void 0;var m=a.create,E=a.inst;u=m(),E.destroy=u}a=a.next}while(a!==f)}}catch(T){et(r,r.return,T)}}function $r(n,r,a){try{var u=r.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var m=f.next;u=m;do{if((u.tag&n)===n){var E=u.inst,T=E.destroy;if(T!==void 0){E.destroy=void 0,f=r;var O=a;try{T()}catch(z){et(f,O,z)}}}u=u.next}while(u!==m)}}catch(z){et(r,r.return,z)}}function Bv(n){var r=n.updateQueue;if(r!==null){var a=n.stateNode;try{qv(r,a)}catch(u){et(n,n.return,u)}}}function Hv(n,r,a){a.props=Ws(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(u){et(n,r,u)}}function ea(n,r){try{var a=n.ref;if(a!==null){var u=n.stateNode;switch(n.tag){case 26:case 27:case 5:var f=u;break;default:f=u}typeof a=="function"?n.refCleanup=a(f):a.current=f}}catch(m){et(n,r,m)}}function bn(n,r){var a=n.ref,u=n.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(f){et(n,r,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){et(n,r,f)}else a.current=null}function Fv(n){var r=n.type,a=n.memoizedProps,u=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break e;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(f){et(n,n.return,f)}}function $v(n,r,a){try{var u=n.stateNode;p2(u,n.type,a,r),u[wt]=r}catch(f){et(n,n.return,f)}}function Gv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27||n.tag===4}function Bd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Gv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==27&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Hd(n,r,a){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?a.nodeType===8?a.parentNode.insertBefore(n,r):a.insertBefore(n,r):(a.nodeType===8?(r=a.parentNode,r.insertBefore(n,a)):(r=a,r.appendChild(n)),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Hc));else if(u!==4&&u!==27&&(n=n.child,n!==null))for(Hd(n,r,a),n=n.sibling;n!==null;)Hd(n,r,a),n=n.sibling}function Nc(n,r,a){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(u!==4&&u!==27&&(n=n.child,n!==null))for(Nc(n,r,a),n=n.sibling;n!==null;)Nc(n,r,a),n=n.sibling}var tr=!1,ft=!1,Fd=!1,Kv=typeof WeakSet=="function"?WeakSet:Set,Vt=null,Qv=!1;function $S(n,r){if(n=n.containerInfo,vm=Xc,n=hy(n),Gf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var f=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var E=0,T=-1,O=-1,z=0,W=0,ie=n,G=null;t:for(;;){for(var Y;ie!==a||f!==0&&ie.nodeType!==3||(T=E+f),ie!==m||u!==0&&ie.nodeType!==3||(O=E+u),ie.nodeType===3&&(E+=ie.nodeValue.length),(Y=ie.firstChild)!==null;)G=ie,ie=Y;for(;;){if(ie===n)break t;if(G===a&&++z===f&&(T=E),G===m&&++W===u&&(O=E),(Y=ie.nextSibling)!==null)break;ie=G,G=ie.parentNode}ie=Y}a=T===-1||O===-1?null:{start:T,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(_m={focusedElem:n,selectionRange:a},Xc=!1,Vt=r;Vt!==null;)if(r=Vt,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,Vt=n;else for(;Vt!==null;){switch(r=Vt,m=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,a=r,f=m.memoizedProps,m=m.memoizedState,u=a.stateNode;try{var ye=Ws(a.type,f,a.elementType===a.type);n=u.getSnapshotBeforeUpdate(ye,m),u.__reactInternalSnapshotBeforeUpdate=n}catch(Ie){et(a,a.return,Ie)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,a=n.nodeType,a===9)wm(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":wm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,Vt=n;break}Vt=r.return}return ye=Qv,Qv=!1,ye}function Yv(n,r,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:ir(n,a),u&4&&Rl(5,a);break;case 1:if(ir(n,a),u&4)if(n=a.stateNode,r===null)try{n.componentDidMount()}catch(T){et(a,a.return,T)}else{var f=Ws(a.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(f,r,n.__reactInternalSnapshotBeforeUpdate)}catch(T){et(a,a.return,T)}}u&64&&Bv(a),u&512&&ea(a,a.return);break;case 3:if(ir(n,a),u&64&&(u=a.updateQueue,u!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{qv(u,n)}catch(T){et(a,a.return,T)}}break;case 26:ir(n,a),u&512&&ea(a,a.return);break;case 27:case 5:ir(n,a),r===null&&u&4&&Fv(a),u&512&&ea(a,a.return);break;case 12:ir(n,a);break;case 13:ir(n,a),u&4&&Zv(n,a);break;case 22:if(f=a.memoizedState!==null||tr,!f){r=r!==null&&r.memoizedState!==null||ft;var m=tr,E=ft;tr=f,(ft=r)&&!E?Gr(n,a,(a.subtreeFlags&8772)!==0):ir(n,a),tr=m,ft=E}u&512&&(a.memoizedProps.mode==="manual"?ea(a,a.return):bn(a,a.return));break;default:ir(n,a)}}function Xv(n){var r=n.alternate;r!==null&&(n.alternate=null,Xv(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&Ns(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Et=null,Tn=!1;function nr(n,r,a){for(a=a.child;a!==null;)Wv(n,r,a),a=a.sibling}function Wv(n,r,a){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(br,a)}catch{}switch(a.tag){case 26:ft||bn(a,r),nr(n,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ft||bn(a,r);var u=Et,f=Tn;for(Et=a.stateNode,nr(n,r,a),a=a.stateNode,r=a.attributes;r.length;)a.removeAttributeNode(r[0]);Ns(a),Et=u,Tn=f;break;case 5:ft||bn(a,r);case 6:f=Et;var m=Tn;if(Et=null,nr(n,r,a),Et=f,Tn=m,Et!==null)if(Tn)try{n=Et,u=a.stateNode,n.nodeType===8?n.parentNode.removeChild(u):n.removeChild(u)}catch(E){et(a,r,E)}else try{Et.removeChild(a.stateNode)}catch(E){et(a,r,E)}break;case 18:Et!==null&&(Tn?(r=Et,a=a.stateNode,r.nodeType===8?Tm(r.parentNode,a):r.nodeType===1&&Tm(r,a),$l(r)):Tm(Et,a.stateNode));break;case 4:u=Et,f=Tn,Et=a.stateNode.containerInfo,Tn=!0,nr(n,r,a),Et=u,Tn=f;break;case 0:case 11:case 14:case 15:ft||$r(2,a,r),ft||$r(4,a,r),nr(n,r,a);break;case 1:ft||(bn(a,r),u=a.stateNode,typeof u.componentWillUnmount=="function"&&Hv(a,r,u)),nr(n,r,a);break;case 21:nr(n,r,a);break;case 22:ft||bn(a,r),ft=(u=ft)||a.memoizedState!==null,nr(n,r,a),ft=u;break;default:nr(n,r,a)}}function Zv(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{$l(n)}catch(a){et(r,r.return,a)}}function GS(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new Kv),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new Kv),r;default:throw Error(s(435,n.tag))}}function $d(n,r){var a=GS(n);r.forEach(function(u){var f=s2.bind(null,n,u);a.has(u)||(a.add(u),u.then(f,f))})}function qn(n,r){var a=r.deletions;if(a!==null)for(var u=0;u<a.length;u++){var f=a[u],m=n,E=r,T=E;e:for(;T!==null;){switch(T.tag){case 27:case 5:Et=T.stateNode,Tn=!1;break e;case 3:Et=T.stateNode.containerInfo,Tn=!0;break e;case 4:Et=T.stateNode.containerInfo,Tn=!0;break e}T=T.return}if(Et===null)throw Error(s(160));Wv(m,E,f),Et=null,Tn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Jv(r,n),r=r.sibling}var ni=null;function Jv(n,r){var a=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:qn(r,n),Bn(n),u&4&&($r(3,n,n.return),Rl(3,n),$r(5,n,n.return));break;case 1:qn(r,n),Bn(n),u&512&&(ft||a===null||bn(a,a.return)),u&64&&tr&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var f=ni;if(qn(r,n),Bn(n),u&512&&(ft||a===null||bn(a,a.return)),u&4){var m=a!==null?a.memoizedState:null;if(u=n.memoizedState,a===null)if(u===null)if(n.stateNode===null){e:{u=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Ir]||m[Dt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(u),f.head.insertBefore(m,f.querySelector("head > title"))),Bt(m,u,a),m[Dt]=n,at(m),u=m;break e;case"link":var E=F0("link","href",f).get(u+(a.href||""));if(E){for(var T=0;T<E.length;T++)if(m=E[T],m.getAttribute("href")===(a.href==null?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(T,1);break t}}m=f.createElement(u),Bt(m,u,a),f.head.appendChild(m);break;case"meta":if(E=F0("meta","content",f).get(u+(a.content||""))){for(T=0;T<E.length;T++)if(m=E[T],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(T,1);break t}}m=f.createElement(u),Bt(m,u,a),f.head.appendChild(m);break;default:throw Error(s(468,u))}m[Dt]=n,at(m),u=m}n.stateNode=u}else $0(f,n.type,n.stateNode);else n.stateNode=H0(f,u,n.memoizedProps);else m!==u?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,u===null?$0(f,n.type,n.stateNode):H0(f,u,n.memoizedProps)):u===null&&n.stateNode!==null&&$v(n,n.memoizedProps,a.memoizedProps)}break;case 27:if(u&4&&n.alternate===null){f=n.stateNode,m=n.memoizedProps;try{for(var O=f.firstChild;O;){var z=O.nextSibling,W=O.nodeName;O[Ir]||W==="HEAD"||W==="BODY"||W==="SCRIPT"||W==="STYLE"||W==="LINK"&&O.rel.toLowerCase()==="stylesheet"||f.removeChild(O),O=z}for(var ie=n.type,G=f.attributes;G.length;)f.removeAttributeNode(G[0]);Bt(f,ie,m),f[Dt]=n,f[wt]=m}catch(ye){et(n,n.return,ye)}}case 5:if(qn(r,n),Bn(n),u&512&&(ft||a===null||bn(a,a.return)),n.flags&32){f=n.stateNode;try{Dn(f,"")}catch(ye){et(n,n.return,ye)}}u&4&&n.stateNode!=null&&(f=n.memoizedProps,$v(n,f,a!==null?a.memoizedProps:f)),u&1024&&(Fd=!0);break;case 6:if(qn(r,n),Bn(n),u&4){if(n.stateNode===null)throw Error(s(162));u=n.memoizedProps,a=n.stateNode;try{a.nodeValue=u}catch(ye){et(n,n.return,ye)}}break;case 3:if(Kc=null,f=ni,ni=$c(r.containerInfo),qn(r,n),ni=f,Bn(n),u&4&&a!==null&&a.memoizedState.isDehydrated)try{$l(r.containerInfo)}catch(ye){et(n,n.return,ye)}Fd&&(Fd=!1,e0(n));break;case 4:u=ni,ni=$c(n.stateNode.containerInfo),qn(r,n),Bn(n),ni=u;break;case 12:qn(r,n),Bn(n);break;case 13:qn(r,n),Bn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(em=hn()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,$d(n,u)));break;case 22:if(u&512&&(ft||a===null||bn(a,a.return)),O=n.memoizedState!==null,z=a!==null&&a.memoizedState!==null,W=tr,ie=ft,tr=W||O,ft=ie||z,qn(r,n),ft=ie,tr=W,Bn(n),r=n.stateNode,r._current=n,r._visibility&=-3,r._visibility|=r._pendingVisibility&2,u&8192&&(r._visibility=O?r._visibility&-2:r._visibility|1,O&&(r=tr||ft,a===null||z||r||eo(n)),n.memoizedProps===null||n.memoizedProps.mode!=="manual"))e:for(a=null,r=n;;){if(r.tag===5||r.tag===26||r.tag===27){if(a===null){z=a=r;try{if(f=z.stateNode,O)m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{E=z.stateNode,T=z.memoizedProps.style;var Y=T!=null&&T.hasOwnProperty("display")?T.display:null;E.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(ye){et(z,z.return,ye)}}}else if(r.tag===6){if(a===null){z=r;try{z.stateNode.nodeValue=O?"":z.memoizedProps}catch(ye){et(z,z.return,ye)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=n.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,$d(n,a))));break;case 19:qn(r,n),Bn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,$d(n,u)));break;case 21:break;default:qn(r,n),Bn(n)}}function Bn(n){var r=n.flags;if(r&2){try{if(n.tag!==27){e:{for(var a=n.return;a!==null;){if(Gv(a)){var u=a;break e}a=a.return}throw Error(s(160))}switch(u.tag){case 27:var f=u.stateNode,m=Bd(n);Nc(n,m,f);break;case 5:var E=u.stateNode;u.flags&32&&(Dn(E,""),u.flags&=-33);var T=Bd(n);Nc(n,T,E);break;case 3:case 4:var O=u.stateNode.containerInfo,z=Bd(n);Hd(n,z,O);break;default:throw Error(s(161))}}}catch(W){et(n,n.return,W)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function e0(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;e0(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function ir(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Yv(n,r.alternate,r),r=r.sibling}function eo(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:$r(4,r,r.return),eo(r);break;case 1:bn(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&Hv(r,r.return,a),eo(r);break;case 26:case 27:case 5:bn(r,r.return),eo(r);break;case 22:bn(r,r.return),r.memoizedState===null&&eo(r);break;default:eo(r)}n=n.sibling}}function Gr(n,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,f=n,m=r,E=m.flags;switch(m.tag){case 0:case 11:case 15:Gr(f,m,a),Rl(4,m);break;case 1:if(Gr(f,m,a),u=m,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(z){et(u,u.return,z)}if(u=m,f=u.updateQueue,f!==null){var T=u.stateNode;try{var O=f.shared.hiddenCallbacks;if(O!==null)for(f.shared.hiddenCallbacks=null,f=0;f<O.length;f++)zv(O[f],T)}catch(z){et(u,u.return,z)}}a&&E&64&&Bv(m),ea(m,m.return);break;case 26:case 27:case 5:Gr(f,m,a),a&&u===null&&E&4&&Fv(m),ea(m,m.return);break;case 12:Gr(f,m,a);break;case 13:Gr(f,m,a),a&&E&4&&Zv(f,m);break;case 22:m.memoizedState===null&&Gr(f,m,a),ea(m,m.return);break;default:Gr(f,m,a)}r=r.sibling}}function Gd(n,r){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&yl(a))}function Kd(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&yl(n))}function Kr(n,r,a,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)t0(n,r,a,u),r=r.sibling}function t0(n,r,a,u){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Kr(n,r,a,u),f&2048&&Rl(9,r);break;case 3:Kr(n,r,a,u),f&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&yl(n)));break;case 12:if(f&2048){Kr(n,r,a,u),n=r.stateNode;try{var m=r.memoizedProps,E=m.id,T=m.onPostCommit;typeof T=="function"&&T(E,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(O){et(r,r.return,O)}}else Kr(n,r,a,u);break;case 23:break;case 22:m=r.stateNode,r.memoizedState!==null?m._visibility&4?Kr(n,r,a,u):Il(n,r):m._visibility&4?Kr(n,r,a,u):(m._visibility|=4,to(n,r,a,u,(r.subtreeFlags&10256)!==0)),f&2048&&Gd(r.alternate,r);break;case 24:Kr(n,r,a,u),f&2048&&Kd(r.alternate,r);break;default:Kr(n,r,a,u)}}function to(n,r,a,u,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var m=n,E=r,T=a,O=u,z=E.flags;switch(E.tag){case 0:case 11:case 15:to(m,E,T,O,f),Rl(8,E);break;case 23:break;case 22:var W=E.stateNode;E.memoizedState!==null?W._visibility&4?to(m,E,T,O,f):Il(m,E):(W._visibility|=4,to(m,E,T,O,f)),f&&z&2048&&Gd(E.alternate,E);break;case 24:to(m,E,T,O,f),f&&z&2048&&Kd(E.alternate,E);break;default:to(m,E,T,O,f)}r=r.sibling}}function Il(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=n,u=r,f=u.flags;switch(u.tag){case 22:Il(a,u),f&2048&&Gd(u.alternate,u);break;case 24:Il(a,u),f&2048&&Kd(u.alternate,u);break;default:Il(a,u)}r=r.sibling}}var Cl=8192;function no(n){if(n.subtreeFlags&Cl)for(n=n.child;n!==null;)n0(n),n=n.sibling}function n0(n){switch(n.tag){case 26:no(n),n.flags&Cl&&n.memoizedState!==null&&M2(ni,n.memoizedState,n.memoizedProps);break;case 5:no(n);break;case 3:case 4:var r=ni;ni=$c(n.stateNode.containerInfo),no(n),ni=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=Cl,Cl=16777216,no(n),Cl=r):no(n));break;default:no(n)}}function i0(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function Nl(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];Vt=u,s0(u,n)}i0(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)r0(n),n=n.sibling}function r0(n){switch(n.tag){case 0:case 11:case 15:Nl(n),n.flags&2048&&$r(9,n,n.return);break;case 3:Nl(n);break;case 12:Nl(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&4&&(n.return===null||n.return.tag!==13)?(r._visibility&=-5,Oc(n)):Nl(n);break;default:Nl(n)}}function Oc(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];Vt=u,s0(u,n)}i0(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:$r(8,r,r.return),Oc(r);break;case 22:a=r.stateNode,a._visibility&4&&(a._visibility&=-5,Oc(r));break;default:Oc(r)}n=n.sibling}}function s0(n,r){for(;Vt!==null;){var a=Vt;switch(a.tag){case 0:case 11:case 15:$r(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:yl(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,Vt=u;else e:for(a=n;Vt!==null;){u=Vt;var f=u.sibling,m=u.return;if(Xv(u),u===a){Vt=null;break e}if(f!==null){f.return=m,Vt=f;break e}Vt=m}}}function KS(n,r,a,u){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hn(n,r,a,u){return new KS(n,r,a,u)}function Qd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Qr(n,r){var a=n.alternate;return a===null?(a=Hn(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&31457280,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function a0(n,r){n.flags&=31457282;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function Dc(n,r,a,u,f,m){var E=0;if(u=n,typeof n=="function")Qd(n)&&(E=1);else if(typeof n=="string")E=D2(n,a,tn.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case p:return ta(a.children,f,m,r);case g:E=8,f|=24;break;case b:return n=Hn(12,a,r,f|2),n.elementType=b,n.lanes=m,n;case $:return n=Hn(13,a,r,f),n.elementType=$,n.lanes=m,n;case j:return n=Hn(19,a,r,f),n.elementType=j,n.lanes=m,n;case J:return o0(a,f,m,r);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case w:case C:E=10;break e;case x:E=9;break e;case P:E=11;break e;case Q:E=14;break e;case Z:E=16,u=null;break e}E=29,a=Error(s(130,n===null?"null":typeof n,"")),u=null}return r=Hn(E,a,r,f),r.elementType=n,r.type=u,r.lanes=m,r}function ta(n,r,a,u){return n=Hn(7,n,u,r),n.lanes=a,n}function o0(n,r,a,u){n=Hn(22,n,u,r),n.elementType=J,n.lanes=a;var f={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var m=f._current;if(m===null)throw Error(s(456));if((f._pendingVisibility&2)===0){var E=Vr(m,2);E!==null&&(f._pendingVisibility|=2,on(E,m,2))}},attach:function(){var m=f._current;if(m===null)throw Error(s(456));if((f._pendingVisibility&2)!==0){var E=Vr(m,2);E!==null&&(f._pendingVisibility&=-3,on(E,m,2))}}};return n.stateNode=f,n}function Yd(n,r,a){return n=Hn(6,n,null,r),n.lanes=a,n}function Xd(n,r,a){return r=Hn(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}function rr(n){n.flags|=4}function l0(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!G0(r)){if(r=zn.current,r!==null&&((Be&4194176)===Be?_i!==null:(Be&62914560)!==Be&&(Be&536870912)===0||r!==_i))throw ml=td,Ay;n.flags|=8192}}function kc(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?Sr():536870912,n.lanes|=r,ro|=r)}function Ol(n,r){if(!$e)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function ot(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,u=0;if(r)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags&31457280,u|=f.flags&31457280,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=u,n.childLanes=a,r}function QS(n,r,a){var u=r.pendingProps;switch(Jf(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(r),null;case 1:return ot(r),null;case 3:return a=r.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),er(Rt),Li(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(cl(r)?rr(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,ti!==null&&(rm(ti),ti=null))),ot(r),null;case 26:return a=r.memoizedState,n===null?(rr(r),a!==null?(ot(r),l0(r,a)):(ot(r),r.flags&=-16777217)):a?a!==n.memoizedState?(rr(r),ot(r),l0(r,a)):(ot(r),r.flags&=-16777217):(n.memoizedProps!==u&&rr(r),ot(r),r.flags&=-16777217),null;case 27:wa(r),a=Cn.current;var f=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==u&&rr(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return ot(r),null}n=tn.current,cl(r)?wy(r):(n=j0(f,u,a),r.stateNode=n,rr(r))}return ot(r),null;case 5:if(wa(r),a=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==u&&rr(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return ot(r),null}if(n=tn.current,cl(r))wy(r);else{switch(f=Fc(Cn.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?n.multiple=!0:u.size&&(n.size=u.size);break;default:n=typeof u.is=="string"?f.createElement(a,{is:u.is}):f.createElement(a)}}n[Dt]=r,n[wt]=u;e:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=n;e:switch(Bt(n,a,u),a){case"button":case"input":case"select":case"textarea":n=!!u.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&rr(r)}}return ot(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==u&&rr(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(n=Cn.current,cl(r)){if(n=r.stateNode,a=r.memoizedProps,u=null,f=an,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}n[Dt]=r,n=!!(n.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||D0(n.nodeValue,a)),n||$s(r)}else n=Fc(n).createTextNode(u),n[Dt]=r,r.stateNode=n}return ot(r),null;case 13:if(u=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=cl(r),u!==null&&u.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Dt]=r}else hl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ot(r),f=!1}else ti!==null&&(rm(ti),ti=null),f=!0;if(!f)return r.flags&256?(Xi(r),r):(Xi(r),null)}if(Xi(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=u!==null,n=n!==null&&n.memoizedState!==null,a){u=r.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var m=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==f&&(u.flags|=2048)}return a!==n&&a&&(r.child.flags|=8192),kc(r,r.updateQueue),ot(r),null;case 4:return Li(),n===null&&pm(r.stateNode.containerInfo),ot(r),null;case 10:return er(r.type),ot(r),null;case 19:if(Xe(xt),f=r.memoizedState,f===null)return ot(r),null;if(u=(r.flags&128)!==0,m=f.rendering,m===null)if(u)Ol(f,!1);else{if(dt!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(m=gc(n),m!==null){for(r.flags|=128,Ol(f,!1),n=m.updateQueue,r.updateQueue=n,kc(r,n),r.subtreeFlags=0,n=a,a=r.child;a!==null;)a0(a,n),a=a.sibling;return Le(xt,xt.current&1|2),r.child}n=n.sibling}f.tail!==null&&hn()>Mc&&(r.flags|=128,u=!0,Ol(f,!1),r.lanes=4194304)}else{if(!u)if(n=gc(m),n!==null){if(r.flags|=128,u=!0,n=n.updateQueue,r.updateQueue=n,kc(r,n),Ol(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!$e)return ot(r),null}else 2*hn()-f.renderingStartTime>Mc&&a!==536870912&&(r.flags|=128,u=!0,Ol(f,!1),r.lanes=4194304);f.isBackwards?(m.sibling=r.child,r.child=m):(n=f.last,n!==null?n.sibling=m:r.child=m,f.last=m)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=hn(),r.sibling=null,n=xt.current,Le(xt,u?n&1|2:n&1),r):(ot(r),null);case 22:case 23:return Xi(r),id(),u=r.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(a&536870912)!==0&&(r.flags&128)===0&&(ot(r),r.subtreeFlags&6&&(r.flags|=8192)):ot(r),a=r.updateQueue,a!==null&&kc(r,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==a&&(r.flags|=2048),n!==null&&Xe(Ks),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),er(Rt),ot(r),null;case 25:return null}throw Error(s(156,r.tag))}function YS(n,r){switch(Jf(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return er(Rt),Li(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return wa(r),null;case 13:if(Xi(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));hl()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return Xe(xt),null;case 4:return Li(),null;case 10:return er(r.type),null;case 22:case 23:return Xi(r),id(),n!==null&&Xe(Ks),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return er(Rt),null;case 25:return null;default:return null}}function u0(n,r){switch(Jf(r),r.tag){case 3:er(Rt),Li();break;case 26:case 27:case 5:wa(r);break;case 4:Li();break;case 13:Xi(r);break;case 19:Xe(xt);break;case 10:er(r.type);break;case 22:case 23:Xi(r),id(),n!==null&&Xe(Ks);break;case 24:er(Rt)}}var XS={getCacheForType:function(n){var r=Yt(Rt),a=r.data.get(n);return a===void 0&&(a=n(),r.data.set(n,a)),a}},WS=typeof WeakMap=="function"?WeakMap:Map,lt=0,nt=null,Me=null,Be=0,it=0,wn=null,sr=!1,io=!1,Wd=!1,ar=0,dt=0,Yr=0,na=0,Zd=0,Fn=0,ro=0,Dl=null,bi=null,Jd=!1,em=0,Mc=1/0,Pc=null,Xr=null,Vc=!1,ia=null,kl=0,tm=0,nm=null,Ml=0,im=null;function Sn(){if((lt&2)!==0&&Be!==0)return Be&-Be;if(A.T!==null){var n=Ya;return n!==0?n:hm()}return Bu()}function c0(){Fn===0&&(Fn=(Be&536870912)===0||$e?Go():536870912);var n=zn.current;return n!==null&&(n.flags|=32),Fn}function on(n,r,a){(n===nt&&it===2||n.cancelPendingCommit!==null)&&(so(n,0),or(n,Be,Fn,!1)),pt(n,a),((lt&2)===0||n!==nt)&&(n===nt&&((lt&2)===0&&(na|=a),dt===4&&or(n,Be,Fn,!1)),Ti(n))}function h0(n,r,a){if((lt&6)!==0)throw Error(s(327));var u=!a&&(r&60)===0&&(r&n.expiredLanes)===0||wr(n,r),f=u?e2(n,r):om(n,r,!0),m=u;do{if(f===0){io&&!u&&or(n,r,0,!1);break}else if(f===6)or(n,r,0,!sr);else{if(a=n.current.alternate,m&&!ZS(a)){f=om(n,r,!1),m=!1;continue}if(f===2){if(m=r,n.errorRecoveryDisabledLanes&m)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;e:{var T=n;f=Dl;var O=T.current.memoizedState.isDehydrated;if(O&&(so(T,E).flags|=256),E=om(T,E,!1),E!==2){if(Wd&&!O){T.errorRecoveryDisabledLanes|=m,na|=m,f=4;break e}m=bi,bi=f,m!==null&&rm(m)}f=E}if(m=!1,f!==2)continue}}if(f===1){so(n,0),or(n,r,0,!0);break}e:{switch(u=n,f){case 0:case 1:throw Error(s(345));case 4:if((r&4194176)===r){or(u,r,Fn,!sr);break e}break;case 2:bi=null;break;case 3:case 5:break;default:throw Error(s(329))}if(u.finishedWork=a,u.finishedLanes=r,(r&62914560)===r&&(m=em+300-hn(),10<m)){if(or(u,r,Fn,!sr),Nn(u,0)!==0)break e;u.timeoutHandle=P0(f0.bind(null,u,a,bi,Pc,Jd,r,Fn,na,ro,sr,2,-0,0),m);break e}f0(u,a,bi,Pc,Jd,r,Fn,na,ro,sr,0,-0,0)}}break}while(!0);Ti(n)}function rm(n){bi===null?bi=n:bi.push.apply(bi,n)}function f0(n,r,a,u,f,m,E,T,O,z,W,ie,G){var Y=r.subtreeFlags;if((Y&8192||(Y&16785408)===16785408)&&(zl={stylesheets:null,count:0,unsuspend:k2},n0(r),r=P2(),r!==null)){n.cancelPendingCommit=r(_0.bind(null,n,a,u,f,E,T,O,1,ie,G)),or(n,m,E,!z);return}_0(n,a,u,f,E,T,O,W,ie,G)}function ZS(n){for(var r=n;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var f=a[u],m=f.getSnapshot;f=f.value;try{if(!En(m(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function or(n,r,a,u){r&=~Zd,r&=~na,n.suspendedLanes|=r,n.pingedLanes&=~r,u&&(n.warmLanes|=r),u=n.expirationTimes;for(var f=r;0<f;){var m=31-nn(f),E=1<<m;u[m]=-1,f&=~E}a!==0&&Ar(n,a,r)}function Lc(){return(lt&6)===0?(Pl(0),!1):!0}function sm(){if(Me!==null){if(it===0)var n=Me.return;else n=Me,Ji=Zs=null,hd(n),Ka=null,pl=0,n=Me;for(;n!==null;)u0(n.alternate,n),n=n.return;Me=null}}function so(n,r){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,y2(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),sm(),nt=n,Me=a=Qr(n.current,null),Be=r,it=0,wn=null,sr=!1,io=wr(n,r),Wd=!1,ro=Fn=Zd=na=Yr=dt=0,bi=Dl=null,Jd=!1,(r&8)!==0&&(r|=r&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=r;0<u;){var f=31-nn(u),m=1<<f;r|=n[f],u&=~m}return ar=r,oc(),a}function d0(n,r){Oe=null,A.H=Ei,r===dl?(r=Iy(),it=3):r===Ay?(r=Iy(),it=4):it=r===xv?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,wn=r,Me===null&&(dt=1,Rc(n,Ln(r,n.current)))}function m0(){var n=A.H;return A.H=Ei,n===null?Ei:n}function p0(){var n=A.A;return A.A=XS,n}function am(){dt=4,sr||(Be&4194176)!==Be&&zn.current!==null||(io=!0),(Yr&134217727)===0&&(na&134217727)===0||nt===null||or(nt,Be,Fn,!1)}function om(n,r,a){var u=lt;lt|=2;var f=m0(),m=p0();(nt!==n||Be!==r)&&(Pc=null,so(n,r)),r=!1;var E=dt;e:do try{if(it!==0&&Me!==null){var T=Me,O=wn;switch(it){case 8:sm(),E=6;break e;case 3:case 2:case 6:zn.current===null&&(r=!0);var z=it;if(it=0,wn=null,ao(n,T,O,z),a&&io){E=0;break e}break;default:z=it,it=0,wn=null,ao(n,T,O,z)}}JS(),E=dt;break}catch(W){d0(n,W)}while(!0);return r&&n.shellSuspendCounter++,Ji=Zs=null,lt=u,A.H=f,A.A=m,Me===null&&(nt=null,Be=0,oc()),E}function JS(){for(;Me!==null;)g0(Me)}function e2(n,r){var a=lt;lt|=2;var u=m0(),f=p0();nt!==n||Be!==r?(Pc=null,Mc=hn()+500,so(n,r)):io=wr(n,r);e:do try{if(it!==0&&Me!==null){r=Me;var m=wn;t:switch(it){case 1:it=0,wn=null,ao(n,r,m,1);break;case 2:if(xy(m)){it=0,wn=null,y0(r);break}r=function(){it===2&&nt===n&&(it=7),Ti(n)},m.then(r,r);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:xy(m)?(it=0,wn=null,y0(r)):(it=0,wn=null,ao(n,r,m,7));break;case 5:var E=null;switch(Me.tag){case 26:E=Me.memoizedState;case 5:case 27:var T=Me;if(!E||G0(E)){it=0,wn=null;var O=T.sibling;if(O!==null)Me=O;else{var z=T.return;z!==null?(Me=z,jc(z)):Me=null}break t}}it=0,wn=null,ao(n,r,m,5);break;case 6:it=0,wn=null,ao(n,r,m,6);break;case 8:sm(),dt=6;break e;default:throw Error(s(462))}}t2();break}catch(W){d0(n,W)}while(!0);return Ji=Zs=null,A.H=u,A.A=f,lt=a,Me!==null?0:(nt=null,Be=0,oc(),dt)}function t2(){for(;Me!==null&&!Pf();)g0(Me)}function g0(n){var r=jv(n.alternate,n,ar);n.memoizedProps=n.pendingProps,r===null?jc(n):Me=r}function y0(n){var r=n,a=r.alternate;switch(r.tag){case 15:case 0:r=Dv(a,r,r.pendingProps,r.type,void 0,Be);break;case 11:r=Dv(a,r,r.pendingProps,r.type.render,r.ref,Be);break;case 5:hd(r);default:u0(a,r),r=Me=a0(r,ar),r=jv(a,r,ar)}n.memoizedProps=n.pendingProps,r===null?jc(n):Me=r}function ao(n,r,a,u){Ji=Zs=null,hd(r),Ka=null,pl=0;var f=r.return;try{if(HS(n,f,r,a,Be)){dt=1,Rc(n,Ln(a,n.current)),Me=null;return}}catch(m){if(f!==null)throw Me=f,m;dt=1,Rc(n,Ln(a,n.current)),Me=null;return}r.flags&32768?($e||u===1?n=!0:io||(Be&536870912)!==0?n=!1:(sr=n=!0,(u===2||u===3||u===6)&&(u=zn.current,u!==null&&u.tag===13&&(u.flags|=16384))),v0(r,n)):jc(r)}function jc(n){var r=n;do{if((r.flags&32768)!==0){v0(r,sr);return}n=r.return;var a=QS(r.alternate,r,ar);if(a!==null){Me=a;return}if(r=r.sibling,r!==null){Me=r;return}Me=r=n}while(r!==null);dt===0&&(dt=5)}function v0(n,r){do{var a=YS(n.alternate,n);if(a!==null){a.flags&=32767,Me=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(n=n.sibling,n!==null)){Me=n;return}Me=n=a}while(n!==null);dt=6,Me=null}function _0(n,r,a,u,f,m,E,T,O,z){var W=A.T,ie=ce.p;try{ce.p=2,A.T=null,n2(n,r,a,u,ie,f,m,E,T,O,z)}finally{A.T=W,ce.p=ie}}function n2(n,r,a,u,f,m,E,T){do oo();while(ia!==null);if((lt&6)!==0)throw Error(s(327));var O=n.finishedWork;if(u=n.finishedLanes,O===null)return null;if(n.finishedWork=null,n.finishedLanes=0,O===n.current)throw Error(s(177));n.callbackNode=null,n.callbackPriority=0,n.cancelPendingCommit=null;var z=O.lanes|O.childLanes;if(z|=Xf,zu(n,u,z,m,E,T),n===nt&&(Me=nt=null,Be=0),(O.subtreeFlags&10256)===0&&(O.flags&10256)===0||Vc||(Vc=!0,tm=z,nm=a,a2(ji,function(){return oo(),null})),a=(O.flags&15990)!==0,(O.subtreeFlags&15990)!==0||a?(a=A.T,A.T=null,m=ce.p,ce.p=2,E=lt,lt|=4,$S(n,O),Jv(O,n),xS(_m,n.containerInfo),Xc=!!vm,_m=vm=null,n.current=O,Yv(n,O.alternate,O),Bo(),lt=E,ce.p=m,A.T=a):n.current=O,Vc?(Vc=!1,ia=n,kl=u):E0(n,z),z=n.pendingLanes,z===0&&(Xr=null),Fo(O.stateNode),Ti(n),r!==null)for(f=n.onRecoverableError,O=0;O<r.length;O++)z=r[O],f(z.value,{componentStack:z.stack});return(kl&3)!==0&&oo(),z=n.pendingLanes,(u&4194218)!==0&&(z&42)!==0?n===im?Ml++:(Ml=0,im=n):Ml=0,Pl(0),null}function E0(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,yl(r)))}function oo(){if(ia!==null){var n=ia,r=tm;tm=0;var a=qu(kl),u=A.T,f=ce.p;try{if(ce.p=32>a?32:a,A.T=null,ia===null)var m=!1;else{a=nm,nm=null;var E=ia,T=kl;if(ia=null,kl=0,(lt&6)!==0)throw Error(s(331));var O=lt;if(lt|=4,r0(E.current),t0(E,E.current,T,a),lt=O,Pl(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(br,E)}catch{}m=!0}return m}finally{ce.p=f,A.T=u,E0(n,r)}}return!1}function b0(n,r,a){r=Ln(a,r),r=Ad(n.stateNode,r,2),n=Fr(n,r,2),n!==null&&(pt(n,2),Ti(n))}function et(n,r,a){if(n.tag===3)b0(n,n,a);else for(;r!==null;){if(r.tag===3){b0(r,n,a);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Xr===null||!Xr.has(u))){n=Ln(a,n),a=Sv(2),u=Fr(r,a,2),u!==null&&(Av(a,u,r,n),pt(u,2),Ti(u));break}}r=r.return}}function lm(n,r,a){var u=n.pingCache;if(u===null){u=n.pingCache=new WS;var f=new Set;u.set(r,f)}else f=u.get(r),f===void 0&&(f=new Set,u.set(r,f));f.has(a)||(Wd=!0,f.add(a),n=i2.bind(null,n,r,a),r.then(n,n))}function i2(n,r,a){var u=n.pingCache;u!==null&&u.delete(r),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,nt===n&&(Be&a)===a&&(dt===4||dt===3&&(Be&62914560)===Be&&300>hn()-em?(lt&2)===0&&so(n,0):Zd|=a,ro===Be&&(ro=0)),Ti(n)}function T0(n,r){r===0&&(r=Sr()),n=Vr(n,r),n!==null&&(pt(n,r),Ti(n))}function r2(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),T0(n,a)}function s2(n,r){var a=0;switch(n.tag){case 13:var u=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),T0(n,a)}function a2(n,r){return Rs(n,r)}var Uc=null,lo=null,um=!1,zc=!1,cm=!1,ra=0;function Ti(n){n!==lo&&n.next===null&&(lo===null?Uc=lo=n:lo=lo.next=n),zc=!0,um||(um=!0,l2(o2))}function Pl(n,r){if(!cm&&zc){cm=!0;do for(var a=!1,u=Uc;u!==null;){if(n!==0){var f=u.pendingLanes;if(f===0)var m=0;else{var E=u.suspendedLanes,T=u.pingedLanes;m=(1<<31-nn(42|n)+1)-1,m&=f&~(E&~T),m=m&201326677?m&201326677|1:m?m|2:0}m!==0&&(a=!0,A0(u,m))}else m=Be,m=Nn(u,u===nt?m:0),(m&3)===0||wr(u,m)||(a=!0,A0(u,m));u=u.next}while(a);cm=!1}}function o2(){zc=um=!1;var n=0;ra!==0&&(g2()&&(n=ra),ra=0);for(var r=hn(),a=null,u=Uc;u!==null;){var f=u.next,m=w0(u,r);m===0?(u.next=null,a===null?Uc=f:a.next=f,f===null&&(lo=a)):(a=u,(n!==0||(m&3)!==0)&&(zc=!0)),u=f}Pl(n)}function w0(n,r){for(var a=n.suspendedLanes,u=n.pingedLanes,f=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var E=31-nn(m),T=1<<E,O=f[E];O===-1?((T&a)===0||(T&u)!==0)&&(f[E]=xa(T,r)):O<=r&&(n.expiredLanes|=T),m&=~T}if(r=nt,a=Be,a=Nn(n,n===r?a:0),u=n.callbackNode,a===0||n===r&&it===2||n.cancelPendingCommit!==null)return u!==null&&u!==null&&Aa(u),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||wr(n,a)){if(r=a&-a,r===n.callbackPriority)return r;switch(u!==null&&Aa(u),qu(a)){case 2:case 8:a=Ot;break;case 32:a=ji;break;case 268435456:a=Ho;break;default:a=ji}return u=S0.bind(null,n),a=Rs(a,u),n.callbackPriority=r,n.callbackNode=a,r}return u!==null&&u!==null&&Aa(u),n.callbackPriority=2,n.callbackNode=null,2}function S0(n,r){var a=n.callbackNode;if(oo()&&n.callbackNode!==a)return null;var u=Be;return u=Nn(n,n===nt?u:0),u===0?null:(h0(n,u,r),w0(n,hn()),n.callbackNode!=null&&n.callbackNode===a?S0.bind(null,n):null)}function A0(n,r){if(oo())return null;h0(n,r,!0)}function l2(n){v2(function(){(lt&6)!==0?Rs(Tt,n):n()})}function hm(){return ra===0&&(ra=Go()),ra}function x0(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:hi(""+n)}function R0(n,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,n.id&&a.setAttribute("form",n.id),r.parentNode.insertBefore(a,r),n=new FormData(n),a.parentNode.removeChild(a),n}function u2(n,r,a,u,f){if(r==="submit"&&a&&a.stateNode===f){var m=x0((f[wt]||null).action),E=u.submitter;E&&(r=(r=E[wt]||null)?x0(r.formAction):E.getAttribute("formAction"),r!==null&&(m=r,E=null));var T=new ka("action","action",null,u,f);n.push({event:T,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ra!==0){var O=E?R0(f,E):new FormData(f);Ed(a,{pending:!0,data:O,method:f.method,action:m},null,O)}}else typeof m=="function"&&(T.preventDefault(),O=E?R0(f,E):new FormData(f),Ed(a,{pending:!0,data:O,method:f.method,action:m},m,O))},currentTarget:f}]})}}for(var fm=0;fm<_y.length;fm++){var dm=_y[fm],c2=dm.toLowerCase(),h2=dm[0].toUpperCase()+dm.slice(1);ei(c2,"on"+h2)}ei(my,"onAnimationEnd"),ei(py,"onAnimationIteration"),ei(gy,"onAnimationStart"),ei("dblclick","onDoubleClick"),ei("focusin","onFocus"),ei("focusout","onBlur"),ei(IS,"onTransitionRun"),ei(CS,"onTransitionStart"),ei(NS,"onTransitionCancel"),ei(yy,"onTransitionEnd"),fn("onMouseEnter",["mouseout","mouseover"]),fn("onMouseLeave",["mouseout","mouseover"]),fn("onPointerEnter",["pointerout","pointerover"]),fn("onPointerLeave",["pointerout","pointerover"]),vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vn("onBeforeInput",["compositionend","keypress","textInput","paste"]),vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),f2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vl));function I0(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var u=n[a],f=u.event;u=u.listeners;e:{var m=void 0;if(r)for(var E=u.length-1;0<=E;E--){var T=u[E],O=T.instance,z=T.currentTarget;if(T=T.listener,O!==m&&f.isPropagationStopped())break e;m=T,f.currentTarget=z;try{m(f)}catch(W){xc(W)}f.currentTarget=null,m=O}else for(E=0;E<u.length;E++){if(T=u[E],O=T.instance,z=T.currentTarget,T=T.listener,O!==m&&f.isPropagationStopped())break e;m=T,f.currentTarget=z;try{m(f)}catch(W){xc(W)}f.currentTarget=null,m=O}}}}function je(n,r){var a=r[Cs];a===void 0&&(a=r[Cs]=new Set);var u=n+"__bubble";a.has(u)||(C0(r,n,2,!1),a.add(u))}function mm(n,r,a){var u=0;r&&(u|=4),C0(a,n,u,r)}var qc="_reactListening"+Math.random().toString(36).slice(2);function pm(n){if(!n[qc]){n[qc]=!0,Qo.forEach(function(a){a!=="selectionchange"&&(f2.has(a)||mm(a,!1,n),mm(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[qc]||(r[qc]=!0,mm("selectionchange",!1,r))}}function C0(n,r,a,u){switch(Z0(r)){case 2:var f=j2;break;case 8:f=U2;break;default:f=Im}a=f.bind(null,r,a,n),f=void 0,!Mn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),u?f!==void 0?n.addEventListener(r,a,{capture:!0,passive:f}):n.addEventListener(r,a,!0):f!==void 0?n.addEventListener(r,a,{passive:f}):n.addEventListener(r,a,!1)}function gm(n,r,a,u,f){var m=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var T=u.stateNode.containerInfo;if(T===f||T.nodeType===8&&T.parentNode===f)break;if(E===4)for(E=u.return;E!==null;){var O=E.tag;if((O===3||O===4)&&(O=E.stateNode.containerInfo,O===f||O.nodeType===8&&O.parentNode===f))return;E=E.return}for(;T!==null;){if(E=Jn(T),E===null)return;if(O=E.tag,O===5||O===6||O===26||O===27){u=m=E;continue e}T=T.parentNode}}u=u.return}Gu(function(){var z=m,W=Da(a),ie=[];e:{var G=vy.get(n);if(G!==void 0){var Y=ka,ye=n;switch(n){case"keypress":if(di(a)===0)break e;case"keydown":case"keyup":Y=Ua;break;case"focusin":ye="focus",Y=Va;break;case"focusout":ye="blur",Y=Va;break;case"beforeblur":case"afterblur":Y=Va;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Bf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=ec;break;case my:case py:case gy:Y=La;break;case yy:Y=nc;break;case"scroll":case"scrollend":Y=Ku;break;case"wheel":Y=za;break;case"copy":case"cut":case"paste":Y=ja;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=al;break;case"toggle":case"beforetoggle":Y=rc}var Ie=(r&4)!==0,mt=!Ie&&(n==="scroll"||n==="scrollend"),q=Ie?G!==null?G+"Capture":null:G;Ie=[];for(var L=z,F;L!==null;){var ee=L;if(F=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||F===null||q===null||(ee=Ms(L,q),ee!=null&&Ie.push(Ll(L,ee,F))),mt)break;L=L.return}0<Ie.length&&(G=new Y(G,ye,null,a,W),ie.push({event:G,listeners:Ie}))}}if((r&7)===0){e:{if(G=n==="mouseover"||n==="pointerover",Y=n==="mouseout"||n==="pointerout",G&&a!==kn&&(ye=a.relatedTarget||a.fromElement)&&(Jn(ye)||ye[Ui]))break e;if((Y||G)&&(G=W.window===W?W:(G=W.ownerDocument)?G.defaultView||G.parentWindow:window,Y?(ye=a.relatedTarget||a.toElement,Y=z,ye=ye?Jn(ye):null,ye!==null&&(mt=fe(ye),Ie=ye.tag,ye!==mt||Ie!==5&&Ie!==27&&Ie!==6)&&(ye=null)):(Y=null,ye=z),Y!==ye)){if(Ie=Pn,ee="onMouseLeave",q="onMouseEnter",L="mouse",(n==="pointerout"||n==="pointerover")&&(Ie=al,ee="onPointerLeave",q="onPointerEnter",L="pointer"),mt=Y==null?G:Cr(Y),F=ye==null?G:Cr(ye),G=new Ie(ee,L+"leave",Y,a,W),G.target=mt,G.relatedTarget=F,ee=null,Jn(W)===z&&(Ie=new Ie(q,L+"enter",ye,a,W),Ie.target=F,Ie.relatedTarget=mt,ee=Ie),mt=ee,Y&&ye)t:{for(Ie=Y,q=ye,L=0,F=Ie;F;F=uo(F))L++;for(F=0,ee=q;ee;ee=uo(ee))F++;for(;0<L-F;)Ie=uo(Ie),L--;for(;0<F-L;)q=uo(q),F--;for(;L--;){if(Ie===q||q!==null&&Ie===q.alternate)break t;Ie=uo(Ie),q=uo(q)}Ie=null}else Ie=null;Y!==null&&N0(ie,G,Y,Ie,!1),ye!==null&&mt!==null&&N0(ie,mt,ye,Ie,!0)}}e:{if(G=z?Cr(z):window,Y=G.nodeName&&G.nodeName.toLowerCase(),Y==="select"||Y==="input"&&G.type==="file")var ge=iy;else if(At(G))if(ry)ge=SS;else{ge=TS;var ke=bS}else Y=G.nodeName,!Y||Y.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?z&&Jo(z.elementType)&&(ge=iy):ge=wS;if(ge&&(ge=ge(n,z))){Ki(ie,ge,a,W);break e}ke&&ke(n,G,z),n==="focusout"&&z&&G.type==="number"&&z.memoizedProps.value!=null&&Oa(G,"number",G.value)}switch(ke=z?Cr(z):window,n){case"focusin":(At(ke)||ke.contentEditable==="true")&&(qa=ke,Kf=z,ul=null);break;case"focusout":ul=Kf=qa=null;break;case"mousedown":Qf=!0;break;case"contextmenu":case"mouseup":case"dragend":Qf=!1,fy(ie,a,W);break;case"selectionchange":if(RS)break;case"keydown":case"keyup":fy(ie,a,W)}var ve;if(gi)e:{switch(n){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else ze?K(n,a)&&(we="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(we="onCompositionStart");we&&(_&&a.locale!=="ko"&&(ze||we!=="onCompositionStart"?we==="onCompositionEnd"&&ze&&(ve=tl()):(fi=W,Pr="value"in fi?fi.value:fi.textContent,ze=!0)),ke=Bc(z,we),0<ke.length&&(we=new rl(we,n,null,a,W),ie.push({event:we,listeners:ke}),ve?we.data=ve:(ve=ue(a),ve!==null&&(we.data=ve)))),(ve=y?St(n,a):qe(n,a))&&(we=Bc(z,"onBeforeInput"),0<we.length&&(ke=new rl("onBeforeInput","beforeinput",null,a,W),ie.push({event:ke,listeners:we}),ke.data=ve)),u2(ie,n,z,a,W)}I0(ie,r)})}function Ll(n,r,a){return{instance:n,listener:r,currentTarget:a}}function Bc(n,r){for(var a=r+"Capture",u=[];n!==null;){var f=n,m=f.stateNode;f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Ms(n,a),f!=null&&u.unshift(Ll(n,f,m)),f=Ms(n,r),f!=null&&u.push(Ll(n,f,m))),n=n.return}return u}function uo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function N0(n,r,a,u,f){for(var m=r._reactName,E=[];a!==null&&a!==u;){var T=a,O=T.alternate,z=T.stateNode;if(T=T.tag,O!==null&&O===u)break;T!==5&&T!==26&&T!==27||z===null||(O=z,f?(z=Ms(a,m),z!=null&&E.unshift(Ll(a,z,O))):f||(z=Ms(a,m),z!=null&&E.push(Ll(a,z,O)))),a=a.return}E.length!==0&&n.push({event:r,listeners:E})}var d2=/\r\n?/g,m2=/\u0000|\uFFFD/g;function O0(n){return(typeof n=="string"?n:""+n).replace(d2,`
`).replace(m2,"")}function D0(n,r){return r=O0(r),O0(n)===r}function Hc(){}function Ze(n,r,a,u,f,m){switch(a){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||Dn(n,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&Dn(n,""+u);break;case"className":Dr(n,"class",u);break;case"tabIndex":Dr(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Dr(n,a,u);break;case"style":$u(n,u,m);break;case"data":if(r!=="object"){Dr(n,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||a!=="href")){n.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(a);break}u=hi(""+u),n.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(r!=="input"&&Ze(n,r,"name",f.name,f,null),Ze(n,r,"formEncType",f.formEncType,f,null),Ze(n,r,"formMethod",f.formMethod,f,null),Ze(n,r,"formTarget",f.formTarget,f,null)):(Ze(n,r,"encType",f.encType,f,null),Ze(n,r,"method",f.method,f,null),Ze(n,r,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(a);break}u=hi(""+u),n.setAttribute(a,u);break;case"onClick":u!=null&&(n.onclick=Hc);break;case"onScroll":u!=null&&je("scroll",n);break;case"onScrollEnd":u!=null&&je("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}a=hi(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,""+u):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":u===!0?n.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,u):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(a,u):n.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(a):n.setAttribute(a,u);break;case"popover":je("beforetoggle",n),je("toggle",n),Or(n,"popover",u);break;case"xlinkActuate":On(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":On(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":On(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":On(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":On(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":On(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":On(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":On(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":On(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Or(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=zf.get(a)||a,Or(n,a,u))}}function ym(n,r,a,u,f,m){switch(a){case"style":$u(n,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof u=="string"?Dn(n,u):(typeof u=="number"||typeof u=="bigint")&&Dn(n,""+u);break;case"onScroll":u!=null&&je("scroll",n);break;case"onScrollEnd":u!=null&&je("scrollend",n);break;case"onClick":u!=null&&(n.onclick=Hc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ca.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),m=n[wt]||null,m=m!=null?m[a]:null,typeof m=="function"&&n.removeEventListener(r,m,f),typeof u=="function")){typeof m!="function"&&m!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(r,u,f);break e}a in n?n[a]=u:u===!0?n.setAttribute(a,""):Or(n,a,u)}}}function Bt(n,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",n),je("load",n);var u=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var E=a[m];if(E!=null)switch(m){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ze(n,r,m,E,a,null)}}f&&Ze(n,r,"srcSet",a.srcSet,a,null),u&&Ze(n,r,"src",a.src,a,null);return;case"input":je("invalid",n);var T=m=E=f=null,O=null,z=null;for(u in a)if(a.hasOwnProperty(u)){var W=a[u];if(W!=null)switch(u){case"name":f=W;break;case"type":E=W;break;case"checked":O=W;break;case"defaultChecked":z=W;break;case"value":m=W;break;case"defaultValue":T=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:Ze(n,r,u,W,a,null)}}Ds(n,m,T,O,z,E,f,!1),Os(n);return;case"select":je("invalid",n),u=E=m=null;for(f in a)if(a.hasOwnProperty(f)&&(T=a[f],T!=null))switch(f){case"value":m=T;break;case"defaultValue":E=T;break;case"multiple":u=T;default:Ze(n,r,f,T,a,null)}r=m,a=E,n.multiple=!!u,r!=null?Fe(n,!!u,r,!1):a!=null&&Fe(n,!!u,a,!0);return;case"textarea":je("invalid",n),m=f=u=null;for(E in a)if(a.hasOwnProperty(E)&&(T=a[E],T!=null))switch(E){case"value":u=T;break;case"defaultValue":f=T;break;case"children":m=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Ze(n,r,E,T,a,null)}Mr(n,u,f,m),Os(n);return;case"option":for(O in a)if(a.hasOwnProperty(O)&&(u=a[O],u!=null))switch(O){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Ze(n,r,O,u,a,null)}return;case"dialog":je("cancel",n),je("close",n);break;case"iframe":case"object":je("load",n);break;case"video":case"audio":for(u=0;u<Vl.length;u++)je(Vl[u],n);break;case"image":je("error",n),je("load",n);break;case"details":je("toggle",n);break;case"embed":case"source":case"link":je("error",n),je("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(u=a[z],u!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ze(n,r,z,u,a,null)}return;default:if(Jo(r)){for(W in a)a.hasOwnProperty(W)&&(u=a[W],u!==void 0&&ym(n,r,W,u,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(u=a[T],u!=null&&Ze(n,r,T,u,a,null))}function p2(n,r,a,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,E=null,T=null,O=null,z=null,W=null;for(Y in a){var ie=a[Y];if(a.hasOwnProperty(Y)&&ie!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":O=ie;default:u.hasOwnProperty(Y)||Ze(n,r,Y,null,u,ie)}}for(var G in u){var Y=u[G];if(ie=a[G],u.hasOwnProperty(G)&&(Y!=null||ie!=null))switch(G){case"type":m=Y;break;case"name":f=Y;break;case"checked":z=Y;break;case"defaultChecked":W=Y;break;case"value":E=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:Y!==ie&&Ze(n,r,G,Y,u,ie)}}kr(n,E,T,O,z,W,m,f);return;case"select":Y=E=T=G=null;for(m in a)if(O=a[m],a.hasOwnProperty(m)&&O!=null)switch(m){case"value":break;case"multiple":Y=O;default:u.hasOwnProperty(m)||Ze(n,r,m,null,u,O)}for(f in u)if(m=u[f],O=a[f],u.hasOwnProperty(f)&&(m!=null||O!=null))switch(f){case"value":G=m;break;case"defaultValue":T=m;break;case"multiple":E=m;default:m!==O&&Ze(n,r,f,m,u,O)}r=T,a=E,u=Y,G!=null?Fe(n,!!a,G,!1):!!u!=!!a&&(r!=null?Fe(n,!!a,r,!0):Fe(n,!!a,a?[]:"",!1));return;case"textarea":Y=G=null;for(T in a)if(f=a[T],a.hasOwnProperty(T)&&f!=null&&!u.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Ze(n,r,T,null,u,f)}for(E in u)if(f=u[E],m=a[E],u.hasOwnProperty(E)&&(f!=null||m!=null))switch(E){case"value":G=f;break;case"defaultValue":Y=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==m&&Ze(n,r,E,f,u,m)}ks(n,G,Y);return;case"option":for(var ye in a)if(G=a[ye],a.hasOwnProperty(ye)&&G!=null&&!u.hasOwnProperty(ye))switch(ye){case"selected":n.selected=!1;break;default:Ze(n,r,ye,null,u,G)}for(O in u)if(G=u[O],Y=a[O],u.hasOwnProperty(O)&&G!==Y&&(G!=null||Y!=null))switch(O){case"selected":n.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:Ze(n,r,O,G,u,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ie in a)G=a[Ie],a.hasOwnProperty(Ie)&&G!=null&&!u.hasOwnProperty(Ie)&&Ze(n,r,Ie,null,u,G);for(z in u)if(G=u[z],Y=a[z],u.hasOwnProperty(z)&&G!==Y&&(G!=null||Y!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,r));break;default:Ze(n,r,z,G,u,Y)}return;default:if(Jo(r)){for(var mt in a)G=a[mt],a.hasOwnProperty(mt)&&G!==void 0&&!u.hasOwnProperty(mt)&&ym(n,r,mt,void 0,u,G);for(W in u)G=u[W],Y=a[W],!u.hasOwnProperty(W)||G===Y||G===void 0&&Y===void 0||ym(n,r,W,G,u,Y);return}}for(var q in a)G=a[q],a.hasOwnProperty(q)&&G!=null&&!u.hasOwnProperty(q)&&Ze(n,r,q,null,u,G);for(ie in u)G=u[ie],Y=a[ie],!u.hasOwnProperty(ie)||G===Y||G==null&&Y==null||Ze(n,r,ie,G,u,Y)}var vm=null,_m=null;function Fc(n){return n.nodeType===9?n:n.ownerDocument}function k0(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function M0(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function Em(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var bm=null;function g2(){var n=window.event;return n&&n.type==="popstate"?n===bm?!1:(bm=n,!0):(bm=null,!1)}var P0=typeof setTimeout=="function"?setTimeout:void 0,y2=typeof clearTimeout=="function"?clearTimeout:void 0,V0=typeof Promise=="function"?Promise:void 0,v2=typeof queueMicrotask=="function"?queueMicrotask:typeof V0<"u"?function(n){return V0.resolve(null).then(n).catch(_2)}:P0;function _2(n){setTimeout(function(){throw n})}function Tm(n,r){var a=r,u=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(u===0){n.removeChild(f),$l(r);return}u--}else a!=="$"&&a!=="$?"&&a!=="$!"||u++;a=f}while(a);$l(r)}function wm(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":wm(a),Ns(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function E2(n,r,a,u){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[Ir])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==f.rel||n.getAttribute("href")!==(f.href==null?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=ii(n.nextSibling),n===null)break}return null}function b2(n,r,a){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=ii(n.nextSibling),n===null))return null;return n}function ii(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}function L0(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return n;r--}else a==="/$"&&r++}n=n.previousSibling}return null}function j0(n,r,a){switch(r=Fc(a),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}var $n=new Map,U0=new Set;function $c(n){return typeof n.getRootNode=="function"?n.getRootNode():n.ownerDocument}var lr=ce.d;ce.d={f:T2,r:w2,D:S2,C:A2,L:x2,m:R2,X:C2,S:I2,M:N2};function T2(){var n=lr.f(),r=Lc();return n||r}function w2(n){var r=zi(n);r!==null&&r.tag===5&&r.type==="form"?fv(r):lr.r(n)}var co=typeof document>"u"?null:document;function z0(n,r,a){var u=co;if(u&&typeof r=="string"&&r){var f=ht(r);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),U0.has(f)||(U0.add(f),n={rel:n,crossOrigin:a,href:r},u.querySelector(f)===null&&(r=u.createElement("link"),Bt(r,"link",n),at(r),u.head.appendChild(r)))}}function S2(n){lr.D(n),z0("dns-prefetch",n,null)}function A2(n,r){lr.C(n,r),z0("preconnect",n,r)}function x2(n,r,a){lr.L(n,r,a);var u=co;if(u&&n&&r){var f='link[rel="preload"][as="'+ht(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+ht(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+ht(a.imageSizes)+'"]')):f+='[href="'+ht(n)+'"]';var m=f;switch(r){case"style":m=ho(n);break;case"script":m=fo(n)}$n.has(m)||(n=R({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:n,as:r},a),$n.set(m,n),u.querySelector(f)!==null||r==="style"&&u.querySelector(jl(m))||r==="script"&&u.querySelector(Ul(m))||(r=u.createElement("link"),Bt(r,"link",n),at(r),u.head.appendChild(r)))}}function R2(n,r){lr.m(n,r);var a=co;if(a&&n){var u=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+ht(u)+'"][href="'+ht(n)+'"]',m=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=fo(n)}if(!$n.has(m)&&(n=R({rel:"modulepreload",href:n},r),$n.set(m,n),a.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ul(m)))return}u=a.createElement("link"),Bt(u,"link",n),at(u),a.head.appendChild(u)}}}function I2(n,r,a){lr.S(n,r,a);var u=co;if(u&&n){var f=Nr(u).hoistableStyles,m=ho(n);r=r||"default";var E=f.get(m);if(!E){var T={loading:0,preload:null};if(E=u.querySelector(jl(m)))T.loading=5;else{n=R({rel:"stylesheet",href:n,"data-precedence":r},a),(a=$n.get(m))&&Sm(n,a);var O=E=u.createElement("link");at(O),Bt(O,"link",n),O._p=new Promise(function(z,W){O.onload=z,O.onerror=W}),O.addEventListener("load",function(){T.loading|=1}),O.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Gc(E,r,u)}E={type:"stylesheet",instance:E,count:1,state:T},f.set(m,E)}}}function C2(n,r){lr.X(n,r);var a=co;if(a&&n){var u=Nr(a).hoistableScripts,f=fo(n),m=u.get(f);m||(m=a.querySelector(Ul(f)),m||(n=R({src:n,async:!0},r),(r=$n.get(f))&&Am(n,r),m=a.createElement("script"),at(m),Bt(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function N2(n,r){lr.M(n,r);var a=co;if(a&&n){var u=Nr(a).hoistableScripts,f=fo(n),m=u.get(f);m||(m=a.querySelector(Ul(f)),m||(n=R({src:n,async:!0,type:"module"},r),(r=$n.get(f))&&Am(n,r),m=a.createElement("script"),at(m),Bt(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function q0(n,r,a,u){var f=(f=Cn.current)?$c(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=ho(a.href),a=Nr(f).hoistableStyles,u=a.get(r),u||(u={type:"style",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=ho(a.href);var m=Nr(f).hoistableStyles,E=m.get(n);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,E),(m=f.querySelector(jl(n)))&&!m._p&&(E.instance=m,E.state.loading=5),$n.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},$n.set(n,a),m||O2(f,n,a,E.state))),r&&u===null)throw Error(s(528,""));return E}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=fo(a),a=Nr(f).hoistableScripts,u=a.get(r),u||(u={type:"script",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function ho(n){return'href="'+ht(n)+'"'}function jl(n){return'link[rel="stylesheet"]['+n+"]"}function B0(n){return R({},n,{"data-precedence":n.precedence,precedence:null})}function O2(n,r,a,u){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=n.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),Bt(r,"link",a),at(r),n.head.appendChild(r))}function fo(n){return'[src="'+ht(n)+'"]'}function Ul(n){return"script[async]"+n}function H0(n,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var u=n.querySelector('style[data-href~="'+ht(a.href)+'"]');if(u)return r.instance=u,at(u),u;var f=R({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),at(u),Bt(u,"style",f),Gc(u,a.precedence,n),r.instance=u;case"stylesheet":f=ho(a.href);var m=n.querySelector(jl(f));if(m)return r.state.loading|=4,r.instance=m,at(m),m;u=B0(a),(f=$n.get(f))&&Sm(u,f),m=(n.ownerDocument||n).createElement("link"),at(m);var E=m;return E._p=new Promise(function(T,O){E.onload=T,E.onerror=O}),Bt(m,"link",u),r.state.loading|=4,Gc(m,a.precedence,n),r.instance=m;case"script":return m=fo(a.src),(f=n.querySelector(Ul(m)))?(r.instance=f,at(f),f):(u=a,(f=$n.get(m))&&(u=R({},a),Am(u,f)),n=n.ownerDocument||n,f=n.createElement("script"),at(f),Bt(f,"link",u),n.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Gc(u,a.precedence,n));return r.instance}function Gc(n,r,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,m=f,E=0;E<u.length;E++){var T=u[E];if(T.dataset.precedence===r)m=T;else if(m!==f)break}m?m.parentNode.insertBefore(n,m.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(n,r.firstChild))}function Sm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function Am(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var Kc=null;function F0(n,r,a){if(Kc===null){var u=new Map,f=Kc=new Map;f.set(a,u)}else f=Kc,u=f.get(a),u||(u=new Map,f.set(a,u));if(u.has(n))return u;for(u.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var m=a[f];if(!(m[Ir]||m[Dt]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var E=m.getAttribute(r)||"";E=n+E;var T=u.get(E);T?T.push(m):u.set(E,[m])}}return u}function $0(n,r,a){n=n.ownerDocument||n,n.head.insertBefore(a,r==="title"?n.querySelector("head > title"):null)}function D2(n,r,a){if(a===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function G0(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var zl=null;function k2(){}function M2(n,r,a){if(zl===null)throw Error(s(475));var u=zl;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=ho(a.href),m=n.querySelector(jl(f));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(u.count++,u=Qc.bind(u),n.then(u,u)),r.state.loading|=4,r.instance=m,at(m);return}m=n.ownerDocument||n,a=B0(a),(f=$n.get(f))&&Sm(a,f),m=m.createElement("link"),at(m);var E=m;E._p=new Promise(function(T,O){E.onload=T,E.onerror=O}),Bt(m,"link",a),r.instance=m}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(u.count++,r=Qc.bind(u),n.addEventListener("load",r),n.addEventListener("error",r))}}function P2(){if(zl===null)throw Error(s(475));var n=zl;return n.stylesheets&&n.count===0&&xm(n,n.stylesheets),0<n.count?function(r){var a=setTimeout(function(){if(n.stylesheets&&xm(n,n.stylesheets),n.unsuspend){var u=n.unsuspend;n.unsuspend=null,u()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(a)}}:null}function Qc(){if(this.count--,this.count===0){if(this.stylesheets)xm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Yc=null;function xm(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Yc=new Map,r.forEach(V2,n),Yc=null,Qc.call(n))}function V2(n,r){if(!(r.state.loading&4)){var a=Yc.get(n);if(a)var u=a.get(null);else{a=new Map,Yc.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var E=f[m];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),u=E)}u&&a.set(null,u)}f=r.instance,E=f.getAttribute("data-precedence"),m=a.get(E)||u,m===u&&a.set(null,f),a.set(E,f),this.count++,u=Qc.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),m?m.parentNode.insertBefore(f,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),r.state.loading|=4}}var ql={$$typeof:C,Provider:null,Consumer:null,_currentValue:be,_currentValue2:be,_threadCount:0};function L2(n,r,a,u,f,m,E,T){this.tag=1,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ra(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ra(0),this.hiddenUpdates=Ra(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function K0(n,r,a,u,f,m,E,T,O,z,W,ie){return n=new L2(n,r,a,E,T,O,z,ie),r=1,m===!0&&(r|=24),m=Hn(3,null,null,r),n.current=m,m.stateNode=n,r=rd(),r.refCount++,n.pooledCache=r,r.refCount++,m.memoizedState={element:u,isDehydrated:a,cache:r},jd(m),n}function Q0(n){return n?(n=Fa,n):Fa}function Y0(n,r,a,u,f,m){f=Q0(f),u.context===null?u.context=f:u.pendingContext=f,u=Hr(r),u.payload={element:a},m=m===void 0?null:m,m!==null&&(u.callback=m),a=Fr(n,u,r),a!==null&&(on(a,n,r),Sl(a,n,r))}function X0(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function Rm(n,r){X0(n,r),(n=n.alternate)&&X0(n,r)}function W0(n){if(n.tag===13){var r=Vr(n,67108864);r!==null&&on(r,n,67108864),Rm(n,67108864)}}var Xc=!0;function j2(n,r,a,u){var f=A.T;A.T=null;var m=ce.p;try{ce.p=2,Im(n,r,a,u)}finally{ce.p=m,A.T=f}}function U2(n,r,a,u){var f=A.T;A.T=null;var m=ce.p;try{ce.p=8,Im(n,r,a,u)}finally{ce.p=m,A.T=f}}function Im(n,r,a,u){if(Xc){var f=Cm(u);if(f===null)gm(n,r,u,Wc,a),J0(n,u);else if(q2(f,n,r,a,u))u.stopPropagation();else if(J0(n,u),r&4&&-1<z2.indexOf(n)){for(;f!==null;){var m=zi(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var E=Zn(m.pendingLanes);if(E!==0){var T=m;for(T.pendingLanes|=2,T.entangledLanes|=2;E;){var O=1<<31-nn(E);T.entanglements[1]|=O,E&=~O}Ti(m),(lt&6)===0&&(Mc=hn()+500,Pl(0))}}break;case 13:T=Vr(m,2),T!==null&&on(T,m,2),Lc(),Rm(m,2)}if(m=Cm(u),m===null&&gm(n,r,u,Wc,a),m===f)break;f=m}f!==null&&u.stopPropagation()}else gm(n,r,u,null,a)}}function Cm(n){return n=Da(n),Nm(n)}var Wc=null;function Nm(n){if(Wc=null,n=Jn(n),n!==null){var r=fe(n);if(r===null)n=null;else{var a=r.tag;if(a===13){if(n=xe(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return Wc=n,null}function Z0(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Vu()){case Tt:return 2;case Ot:return 8;case ji:case Lu:return 32;case Ho:return 268435456;default:return 32}default:return 32}}var Om=!1,Wr=null,Zr=null,Jr=null,Bl=new Map,Hl=new Map,es=[],z2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function J0(n,r){switch(n){case"focusin":case"focusout":Wr=null;break;case"dragenter":case"dragleave":Zr=null;break;case"mouseover":case"mouseout":Jr=null;break;case"pointerover":case"pointerout":Bl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hl.delete(r.pointerId)}}function Fl(n,r,a,u,f,m){return n===null||n.nativeEvent!==m?(n={blockedOn:r,domEventName:a,eventSystemFlags:u,nativeEvent:m,targetContainers:[f]},r!==null&&(r=zi(r),r!==null&&W0(r)),n):(n.eventSystemFlags|=u,r=n.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),n)}function q2(n,r,a,u,f){switch(r){case"focusin":return Wr=Fl(Wr,n,r,a,u,f),!0;case"dragenter":return Zr=Fl(Zr,n,r,a,u,f),!0;case"mouseover":return Jr=Fl(Jr,n,r,a,u,f),!0;case"pointerover":var m=f.pointerId;return Bl.set(m,Fl(Bl.get(m)||null,n,r,a,u,f)),!0;case"gotpointercapture":return m=f.pointerId,Hl.set(m,Fl(Hl.get(m)||null,n,r,a,u,f)),!0}return!1}function e_(n){var r=Jn(n.target);if(r!==null){var a=fe(r);if(a!==null){if(r=a.tag,r===13){if(r=xe(a),r!==null){n.blockedOn=r,Rr(n.priority,function(){if(a.tag===13){var u=Sn(),f=Vr(a,u);f!==null&&on(f,a,u),Rm(a,u)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Zc(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=Cm(n.nativeEvent);if(a===null){a=n.nativeEvent;var u=new a.constructor(a.type,a);kn=u,a.target.dispatchEvent(u),kn=null}else return r=zi(a),r!==null&&W0(r),n.blockedOn=a,!1;r.shift()}return!0}function t_(n,r,a){Zc(n)&&a.delete(r)}function B2(){Om=!1,Wr!==null&&Zc(Wr)&&(Wr=null),Zr!==null&&Zc(Zr)&&(Zr=null),Jr!==null&&Zc(Jr)&&(Jr=null),Bl.forEach(t_),Hl.forEach(t_)}function Jc(n,r){n.blockedOn===r&&(n.blockedOn=null,Om||(Om=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,B2)))}var eh=null;function n_(n){eh!==n&&(eh=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){eh===n&&(eh=null);for(var r=0;r<n.length;r+=3){var a=n[r],u=n[r+1],f=n[r+2];if(typeof u!="function"){if(Nm(u||a)===null)continue;break}var m=zi(a);m!==null&&(n.splice(r,3),r-=3,Ed(m,{pending:!0,data:f,method:a.method,action:u},u,f))}}))}function $l(n){function r(O){return Jc(O,n)}Wr!==null&&Jc(Wr,n),Zr!==null&&Jc(Zr,n),Jr!==null&&Jc(Jr,n),Bl.forEach(r),Hl.forEach(r);for(var a=0;a<es.length;a++){var u=es[a];u.blockedOn===n&&(u.blockedOn=null)}for(;0<es.length&&(a=es[0],a.blockedOn===null);)e_(a),a.blockedOn===null&&es.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var f=a[u],m=a[u+1],E=f[wt]||null;if(typeof m=="function")E||n_(a);else if(E){var T=null;if(m&&m.hasAttribute("formAction")){if(f=m,E=m[wt]||null)T=E.formAction;else if(Nm(f)!==null)continue}else T=E.action;typeof T=="function"?a[u+1]=T:(a.splice(u,3),u-=3),n_(a)}}}function Dm(n){this._internalRoot=n}th.prototype.render=Dm.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,u=Sn();Y0(a,u,n,r,null,null)},th.prototype.unmount=Dm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;n.tag===0&&oo(),Y0(n.current,2,null,n,null,null),Lc(),r[Ui]=null}};function th(n){this._internalRoot=n}th.prototype.unstable_scheduleHydration=function(n){if(n){var r=Bu();n={blockedOn:null,target:n,priority:r};for(var a=0;a<es.length&&r!==0&&r<es[a].priority;a++);es.splice(a,0,n),a===0&&e_(n)}};var i_=e.version;if(i_!=="19.0.0")throw Error(s(527,i_,"19.0.0"));ce.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=B(r),n=n!==null?ne(n):null,n=n===null?null:n.stateNode,n};var H2={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:A,findFiberByHostInstance:Jn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nh.isDisabled&&nh.supportsFiber)try{br=nh.inject(H2),Qt=nh}catch{}}return Kl.createRoot=function(n,r){if(!o(n))throw Error(s(299));var a=!1,u="",f=Ev,m=bv,E=Tv,T=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(T=r.unstable_transitionCallbacks)),r=K0(n,1,!1,null,null,a,u,f,m,E,T,null),n[Ui]=r.current,pm(n.nodeType===8?n.parentNode:n),new Dm(r)},Kl.hydrateRoot=function(n,r,a){if(!o(n))throw Error(s(299));var u=!1,f="",m=Ev,E=bv,T=Tv,O=null,z=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(O=a.unstable_transitionCallbacks),a.formState!==void 0&&(z=a.formState)),r=K0(n,1,!0,r,a??null,u,f,m,E,T,O,z),r.context=Q0(null),a=r.current,u=Sn(),f=Hr(u),f.callback=null,Fr(a,f,u),r.current.lanes=u,pt(r,u),Ti(r),n[Ui]=r.current,pm(n),new th(r)},Kl.version="19.0.0",Kl}var d_;function J2(){if(d_)return Pm.exports;d_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Pm.exports=Z2(),Pm.exports}var eA=J2(),Ql={},m_;function tA(){if(m_)return Ql;m_=1,Object.defineProperty(Ql,"__esModule",{value:!0}),Ql.parse=h,Ql.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function h(x,C){const P=new l,$=x.length;if($<2)return P;const j=(C==null?void 0:C.decode)||b;let Q=0;do{const Z=x.indexOf("=",Q);if(Z===-1)break;const J=x.indexOf(";",Q),le=J===-1?$:J;if(Z>le){Q=x.lastIndexOf(";",Z-1)+1;continue}const re=d(x,Q,Z),he=p(x,Z,re),M=x.slice(re,he);if(P[M]===void 0){let I=d(x,Z+1,le),A=p(x,le,I);const R=j(x.slice(I,A));P[M]=R}Q=le+1}while(Q<$);return P}function d(x,C,P){do{const $=x.charCodeAt(C);if($!==32&&$!==9)return C}while(++C<P);return P}function p(x,C,P){for(;C>P;){const $=x.charCodeAt(--C);if($!==32&&$!==9)return C+1}return P}function g(x,C,P){const $=(P==null?void 0:P.encode)||encodeURIComponent;if(!i.test(x))throw new TypeError(`argument name is invalid: ${x}`);const j=$(C);if(!e.test(j))throw new TypeError(`argument val is invalid: ${C}`);let Q=x+"="+j;if(!P)return Q;if(P.maxAge!==void 0){if(!Number.isInteger(P.maxAge))throw new TypeError(`option maxAge is invalid: ${P.maxAge}`);Q+="; Max-Age="+P.maxAge}if(P.domain){if(!t.test(P.domain))throw new TypeError(`option domain is invalid: ${P.domain}`);Q+="; Domain="+P.domain}if(P.path){if(!s.test(P.path))throw new TypeError(`option path is invalid: ${P.path}`);Q+="; Path="+P.path}if(P.expires){if(!w(P.expires)||!Number.isFinite(P.expires.valueOf()))throw new TypeError(`option expires is invalid: ${P.expires}`);Q+="; Expires="+P.expires.toUTCString()}if(P.httpOnly&&(Q+="; HttpOnly"),P.secure&&(Q+="; Secure"),P.partitioned&&(Q+="; Partitioned"),P.priority)switch(typeof P.priority=="string"?P.priority.toLowerCase():void 0){case"low":Q+="; Priority=Low";break;case"medium":Q+="; Priority=Medium";break;case"high":Q+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${P.priority}`)}if(P.sameSite)switch(typeof P.sameSite=="string"?P.sameSite.toLowerCase():P.sameSite){case!0:case"strict":Q+="; SameSite=Strict";break;case"lax":Q+="; SameSite=Lax";break;case"none":Q+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${P.sameSite}`)}return Q}function b(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function w(x){return o.call(x)==="[object Date]"}return Ql}tA();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var p_="popstate";function nA(i={}){function e(o,l){let{pathname:h="/",search:d="",hash:p=""}=ya(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),cp("",{pathname:h,search:d,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(o,l){let h=o.document.querySelector("base"),d="";if(h&&h.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");d=g===-1?p:p.slice(0,g)}return d+"#"+(typeof l=="string"?l:hu(l))}function s(o,l){ri(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return rA(e,t,s,i)}function ut(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function ri(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function iA(){return Math.random().toString(36).substring(2,10)}function g_(i,e){return{usr:i.state,key:i.key,idx:e}}function cp(i,e,t=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?ya(e):e,state:t,key:e&&e.key||s||iA()}}function hu({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function ya(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function rA(i,e,t,s={}){let{window:o=document.defaultView,v5Compat:l=!1}=s,h=o.history,d="POP",p=null,g=b();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function b(){return(h.state||{idx:null}).idx}function w(){d="POP";let j=b(),Q=j==null?null:j-g;g=j,p&&p({action:d,location:$.location,delta:Q})}function x(j,Q){d="PUSH";let Z=cp($.location,j,Q);t&&t(Z,j),g=b()+1;let J=g_(Z,g),le=$.createHref(Z);try{h.pushState(J,"",le)}catch(re){if(re instanceof DOMException&&re.name==="DataCloneError")throw re;o.location.assign(le)}l&&p&&p({action:d,location:$.location,delta:1})}function C(j,Q){d="REPLACE";let Z=cp($.location,j,Q);t&&t(Z,j),g=b();let J=g_(Z,g),le=$.createHref(Z);h.replaceState(J,"",le),l&&p&&p({action:d,location:$.location,delta:0})}function P(j){let Q=o.location.origin!=="null"?o.location.origin:o.location.href,Z=typeof j=="string"?j:hu(j);return Z=Z.replace(/ $/,"%20"),ut(Q,`No window.location.(origin|href) available to create URL for href: ${Z}`),new URL(Z,Q)}let $={get action(){return d},get location(){return i(o,h)},listen(j){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(p_,w),p=j,()=>{o.removeEventListener(p_,w),p=null}},createHref(j){return e(o,j)},createURL:P,encodeLocation(j){let Q=P(j);return{pathname:Q.pathname,search:Q.search,hash:Q.hash}},push:x,replace:C,go(j){return h.go(j)}};return $}function bb(i,e,t="/"){return sA(i,e,t,!1)}function sA(i,e,t,s){let o=typeof e=="string"?ya(e):e,l=ps(o.pathname||"/",t);if(l==null)return null;let h=Tb(i);aA(h);let d=null;for(let p=0;d==null&&p<h.length;++p){let g=yA(l);d=pA(h[p],g,s)}return d}function Tb(i,e=[],t=[],s=""){let o=(l,h,d)=>{let p={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:h,route:l};p.relativePath.startsWith("/")&&(ut(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=fr([s,p.relativePath]),b=t.concat(p);l.children&&l.children.length>0&&(ut(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),Tb(l.children,e,b,g)),!(l.path==null&&!l.index)&&e.push({path:g,score:dA(g,l.index),routesMeta:b})};return i.forEach((l,h)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))o(l,h);else for(let p of wb(l.path))o(l,h,p)}),e}function wb(i){let e=i.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let h=wb(s.join("/")),d=[];return d.push(...h.map(p=>p===""?l:[l,p].join("/"))),o&&d.push(...h),d.map(p=>i.startsWith("/")&&p===""?"/":p)}function aA(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:mA(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var oA=/^:[\w-]+$/,lA=3,uA=2,cA=1,hA=10,fA=-2,y_=i=>i==="*";function dA(i,e){let t=i.split("/"),s=t.length;return t.some(y_)&&(s+=fA),e&&(s+=uA),t.filter(o=>!y_(o)).reduce((o,l)=>o+(oA.test(l)?lA:l===""?cA:hA),s)}function mA(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function pA(i,e,t=!1){let{routesMeta:s}=i,o={},l="/",h=[];for(let d=0;d<s.length;++d){let p=s[d],g=d===s.length-1,b=l==="/"?e:e.slice(l.length)||"/",w=Rh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},b),x=p.route;if(!w&&g&&t&&!s[s.length-1].route.index&&(w=Rh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},b)),!w)return null;Object.assign(o,w.params),h.push({params:o,pathname:fr([l,w.pathname]),pathnameBase:bA(fr([l,w.pathnameBase])),route:x}),w.pathnameBase!=="/"&&(l=fr([l,w.pathnameBase]))}return h}function Rh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,s]=gA(i.path,i.caseSensitive,i.end),o=e.match(t);if(!o)return null;let l=o[0],h=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:s.reduce((g,{paramName:b,isOptional:w},x)=>{if(b==="*"){let P=d[x]||"";h=l.slice(0,l.length-P.length).replace(/(.)\/+$/,"$1")}const C=d[x];return w&&!C?g[b]=void 0:g[b]=(C||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:h,pattern:i}}function gA(i,e=!1,t=!0){ri(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,d,p)=>(s.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function yA(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ri(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function ps(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=i.charAt(t);return s&&s!=="/"?null:i.slice(t)||"/"}function vA(i,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof i=="string"?ya(i):i;return{pathname:t?t.startsWith("/")?t:_A(t,e):e,search:TA(s),hash:wA(o)}}function _A(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Um(i,e,t,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function EA(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Sb(i){let e=EA(i);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function Ab(i,e,t,s=!1){let o;typeof i=="string"?o=ya(i):(o={...i},ut(!o.pathname||!o.pathname.includes("?"),Um("?","pathname","search",o)),ut(!o.pathname||!o.pathname.includes("#"),Um("#","pathname","hash",o)),ut(!o.search||!o.search.includes("#"),Um("#","search","hash",o)));let l=i===""||o.pathname==="",h=l?"/":o.pathname,d;if(h==null)d=t;else{let w=e.length-1;if(!s&&h.startsWith("..")){let x=h.split("/");for(;x[0]==="..";)x.shift(),w-=1;o.pathname=x.join("/")}d=w>=0?e[w]:"/"}let p=vA(o,d),g=h&&h!=="/"&&h.endsWith("/"),b=(l||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||b)&&(p.pathname+="/"),p}var fr=i=>i.join("/").replace(/\/\/+/g,"/"),bA=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),TA=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,wA=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function SA(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var xb=["POST","PUT","PATCH","DELETE"];new Set(xb);var AA=["GET",...xb];new Set(AA);var Vo=N.createContext(null);Vo.displayName="DataRouter";var ef=N.createContext(null);ef.displayName="DataRouterState";var Rb=N.createContext({isTransitioning:!1});Rb.displayName="ViewTransition";var xA=N.createContext(new Map);xA.displayName="Fetchers";var RA=N.createContext(null);RA.displayName="Await";var ki=N.createContext(null);ki.displayName="Navigation";var bu=N.createContext(null);bu.displayName="Location";var yr=N.createContext({outlet:null,matches:[],isDataRoute:!1});yr.displayName="Route";var Hp=N.createContext(null);Hp.displayName="RouteError";function IA(i,{relative:e}={}){ut(Tu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=N.useContext(ki),{hash:o,pathname:l,search:h}=wu(i,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:fr([t,l])),s.createHref({pathname:d,search:h,hash:o})}function Tu(){return N.useContext(bu)!=null}function Mi(){return ut(Tu(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(bu).location}var Ib="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Cb(i){N.useContext(ki).static||N.useLayoutEffect(i)}function tf(){let{isDataRoute:i}=N.useContext(yr);return i?qA():CA()}function CA(){ut(Tu(),"useNavigate() may be used only in the context of a <Router> component.");let i=N.useContext(Vo),{basename:e,navigator:t}=N.useContext(ki),{matches:s}=N.useContext(yr),{pathname:o}=Mi(),l=JSON.stringify(Sb(s)),h=N.useRef(!1);return Cb(()=>{h.current=!0}),N.useCallback((p,g={})=>{if(ri(h.current,Ib),!h.current)return;if(typeof p=="number"){t.go(p);return}let b=Ab(p,JSON.parse(l),o,g.relative==="path");i==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:fr([e,b.pathname])),(g.replace?t.replace:t.push)(b,g.state,g)},[e,t,l,o,i])}N.createContext(null);function wu(i,{relative:e}={}){let{matches:t}=N.useContext(yr),{pathname:s}=Mi(),o=JSON.stringify(Sb(t));return N.useMemo(()=>Ab(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function NA(i,e){return Nb(i,e)}function Nb(i,e,t,s){var Z;ut(Tu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:l}=N.useContext(ki),{matches:h}=N.useContext(yr),d=h[h.length-1],p=d?d.params:{},g=d?d.pathname:"/",b=d?d.pathnameBase:"/",w=d&&d.route;{let J=w&&w.path||"";Ob(g,!w||J.endsWith("*")||J.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${J}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${J}"> to <Route path="${J==="/"?"*":`${J}/*`}">.`)}let x=Mi(),C;if(e){let J=typeof e=="string"?ya(e):e;ut(b==="/"||((Z=J.pathname)==null?void 0:Z.startsWith(b)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${J.pathname}" was given in the \`location\` prop.`),C=J}else C=x;let P=C.pathname||"/",$=P;if(b!=="/"){let J=b.replace(/^\//,"").split("/");$="/"+P.replace(/^\//,"").split("/").slice(J.length).join("/")}let j=!l&&t&&t.matches&&t.matches.length>0?t.matches:bb(i,{pathname:$});ri(w||j!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),ri(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Q=PA(j&&j.map(J=>Object.assign({},J,{params:Object.assign({},p,J.params),pathname:fr([b,o.encodeLocation?o.encodeLocation(J.pathname).pathname:J.pathname]),pathnameBase:J.pathnameBase==="/"?b:fr([b,o.encodeLocation?o.encodeLocation(J.pathnameBase).pathname:J.pathnameBase])})),h,t,s);return e&&Q?N.createElement(bu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},Q):Q}function OA(){let i=zA(),e=SA(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:l},"ErrorBoundary")," or"," ",N.createElement("code",{style:l},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),t?N.createElement("pre",{style:o},t):null,h)}var DA=N.createElement(OA,null),kA=class extends N.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?N.createElement(yr.Provider,{value:this.props.routeContext},N.createElement(Hp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function MA({routeContext:i,match:e,children:t}){let s=N.useContext(Vo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),N.createElement(yr.Provider,{value:i},t)}function PA(i,e=[],t=null,s=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let o=i,l=t==null?void 0:t.errors;if(l!=null){let p=o.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);ut(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let h=!1,d=-1;if(t)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=p),g.route.id){let{loaderData:b,errors:w}=t,x=g.route.loader&&!b.hasOwnProperty(g.route.id)&&(!w||w[g.route.id]===void 0);if(g.route.lazy||x){h=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((p,g,b)=>{let w,x=!1,C=null,P=null;t&&(w=l&&g.route.id?l[g.route.id]:void 0,C=g.route.errorElement||DA,h&&(d<0&&b===0?(Ob("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,P=null):d===b&&(x=!0,P=g.route.hydrateFallbackElement||null)));let $=e.concat(o.slice(0,b+1)),j=()=>{let Q;return w?Q=C:x?Q=P:g.route.Component?Q=N.createElement(g.route.Component,null):g.route.element?Q=g.route.element:Q=p,N.createElement(MA,{match:g,routeContext:{outlet:p,matches:$,isDataRoute:t!=null},children:Q})};return t&&(g.route.ErrorBoundary||g.route.errorElement||b===0)?N.createElement(kA,{location:t.location,revalidation:t.revalidation,component:C,error:w,children:j(),routeContext:{outlet:null,matches:$,isDataRoute:!0}}):j()},null)}function Fp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function VA(i){let e=N.useContext(Vo);return ut(e,Fp(i)),e}function LA(i){let e=N.useContext(ef);return ut(e,Fp(i)),e}function jA(i){let e=N.useContext(yr);return ut(e,Fp(i)),e}function $p(i){let e=jA(i),t=e.matches[e.matches.length-1];return ut(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function UA(){return $p("useRouteId")}function zA(){var s;let i=N.useContext(Hp),e=LA("useRouteError"),t=$p("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[t]}function qA(){let{router:i}=VA("useNavigate"),e=$p("useNavigate"),t=N.useRef(!1);return Cb(()=>{t.current=!0}),N.useCallback(async(o,l={})=>{ri(t.current,Ib),t.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...l}))},[i,e])}var v_={};function Ob(i,e,t){!e&&!v_[i]&&(v_[i]=!0,ri(!1,t))}N.memo(BA);function BA({routes:i,future:e,state:t}){return Nb(i,void 0,t,e)}function sa(i){ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function HA({basename:i="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:l=!1}){ut(!Tu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),d=N.useMemo(()=>({basename:h,navigator:o,static:l,future:{}}),[h,o,l]);typeof t=="string"&&(t=ya(t));let{pathname:p="/",search:g="",hash:b="",state:w=null,key:x="default"}=t,C=N.useMemo(()=>{let P=ps(p,h);return P==null?null:{location:{pathname:P,search:g,hash:b,state:w,key:x},navigationType:s}},[h,p,g,b,w,x,s]);return ri(C!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${b}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:N.createElement(ki.Provider,{value:d},N.createElement(bu.Provider,{children:e,value:C}))}function FA({children:i,location:e}){return NA(hp(i),e)}function hp(i,e=[]){let t=[];return N.Children.forEach(i,(s,o)=>{if(!N.isValidElement(s))return;let l=[...e,o];if(s.type===N.Fragment){t.push.apply(t,hp(s.props.children,l));return}ut(s.type===sa,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ut(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=hp(s.props.children,l)),t.push(h)}),t}var dh="get",mh="application/x-www-form-urlencoded";function nf(i){return i!=null&&typeof i.tagName=="string"}function $A(i){return nf(i)&&i.tagName.toLowerCase()==="button"}function GA(i){return nf(i)&&i.tagName.toLowerCase()==="form"}function KA(i){return nf(i)&&i.tagName.toLowerCase()==="input"}function QA(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function YA(i,e){return i.button===0&&(!e||e==="_self")&&!QA(i)}var ih=null;function XA(){if(ih===null)try{new FormData(document.createElement("form"),0),ih=!1}catch{ih=!0}return ih}var WA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function zm(i){return i!=null&&!WA.has(i)?(ri(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${mh}"`),null):i}function ZA(i,e){let t,s,o,l,h;if(GA(i)){let d=i.getAttribute("action");s=d?ps(d,e):null,t=i.getAttribute("method")||dh,o=zm(i.getAttribute("enctype"))||mh,l=new FormData(i)}else if($A(i)||KA(i)&&(i.type==="submit"||i.type==="image")){let d=i.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||d.getAttribute("action");if(s=p?ps(p,e):null,t=i.getAttribute("formmethod")||d.getAttribute("method")||dh,o=zm(i.getAttribute("formenctype"))||zm(d.getAttribute("enctype"))||mh,l=new FormData(d,i),!XA()){let{name:g,type:b,value:w}=i;if(b==="image"){let x=g?`${g}.`:"";l.append(`${x}x`,"0"),l.append(`${x}y`,"0")}else g&&l.append(g,w)}}else{if(nf(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=dh,s=null,o=mh,h=i}return l&&o==="text/plain"&&(h=l,l=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:l,body:h}}function Gp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function JA(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ex(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function tx(i,e,t){let s=await Promise.all(i.map(async o=>{let l=e.routes[o.route.id];if(l){let h=await JA(l,t);return h.links?h.links():[]}return[]}));return sx(s.flat(1).filter(ex).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function __(i,e,t,s,o,l){let h=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,d=(p,g)=>{var b;return t[g].pathname!==p.pathname||((b=t[g].route.path)==null?void 0:b.endsWith("*"))&&t[g].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,g)=>h(p,g)||d(p,g)):l==="data"?e.filter((p,g)=>{var w;let b=s.routes[p.route.id];if(!b||!b.hasLoader)return!1;if(h(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let x=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((w=t[0])==null?void 0:w.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function nx(i,e,{includeHydrateFallback:t}={}){return ix(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function ix(i){return[...new Set(i)]}function rx(i){let e={},t=Object.keys(i).sort();for(let s of t)e[s]=i[s];return e}function sx(i,e){let t=new Set;return new Set(e),i.reduce((s,o)=>{let l=JSON.stringify(rx(o));return t.has(l)||(t.add(l),s.push({key:l,link:o})),s},[])}function ax(i){let e=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function ox(){let i=N.useContext(Vo);return Gp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function lx(){let i=N.useContext(ef);return Gp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Kp=N.createContext(void 0);Kp.displayName="FrameworkContext";function Db(){let i=N.useContext(Kp);return Gp(i,"You must render this element inside a <HydratedRouter> element"),i}function ux(i,e){let t=N.useContext(Kp),[s,o]=N.useState(!1),[l,h]=N.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:b,onTouchStart:w}=e,x=N.useRef(null);N.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let $=Q=>{Q.forEach(Z=>{h(Z.isIntersecting)})},j=new IntersectionObserver($,{threshold:.5});return x.current&&j.observe(x.current),()=>{j.disconnect()}}},[i]),N.useEffect(()=>{if(s){let $=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout($)}}},[s]);let C=()=>{o(!0)},P=()=>{o(!1),h(!1)};return t?i!=="intent"?[l,x,{}]:[l,x,{onFocus:Yl(d,C),onBlur:Yl(p,P),onMouseEnter:Yl(g,C),onMouseLeave:Yl(b,P),onTouchStart:Yl(w,C)}]:[!1,x,{}]}function Yl(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function cx({page:i,...e}){let{router:t}=ox(),s=N.useMemo(()=>bb(t.routes,i,t.basename),[t.routes,i,t.basename]);return s?N.createElement(fx,{page:i,matches:s,...e}):null}function hx(i){let{manifest:e,routeModules:t}=Db(),[s,o]=N.useState([]);return N.useEffect(()=>{let l=!1;return tx(i,e,t).then(h=>{l||o(h)}),()=>{l=!0}},[i,e,t]),s}function fx({page:i,matches:e,...t}){let s=Mi(),{manifest:o,routeModules:l}=Db(),{loaderData:h,matches:d}=lx(),p=N.useMemo(()=>__(i,e,d,o,s,"data"),[i,e,d,o,s]),g=N.useMemo(()=>__(i,e,d,o,s,"assets"),[i,e,d,o,s]),b=N.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let C=new Set,P=!1;if(e.forEach(j=>{var Z;let Q=o.routes[j.route.id];!Q||!Q.hasLoader||(!p.some(J=>J.route.id===j.route.id)&&j.route.id in h&&((Z=l[j.route.id])!=null&&Z.shouldRevalidate)||Q.hasClientLoader?P=!0:C.add(j.route.id))}),C.size===0)return[];let $=ax(i);return P&&C.size>0&&$.searchParams.set("_routes",e.filter(j=>C.has(j.route.id)).map(j=>j.route.id).join(",")),[$.pathname+$.search]},[h,s,o,p,e,i,l]),w=N.useMemo(()=>nx(g,o),[g,o]),x=hx(g);return N.createElement(N.Fragment,null,b.map(C=>N.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...t})),w.map(C=>N.createElement("link",{key:C,rel:"modulepreload",href:C,...t})),x.map(({key:C,link:P})=>N.createElement("link",{key:C,...P})))}function dx(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var kb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{kb&&(window.__reactRouterVersion="7.2.0")}catch{}function mx({basename:i,children:e,window:t}){let s=N.useRef();s.current==null&&(s.current=nA({window:t,v5Compat:!0}));let o=s.current,[l,h]=N.useState({action:o.action,location:o.location}),d=N.useCallback(p=>{N.startTransition(()=>h(p))},[h]);return N.useLayoutEffect(()=>o.listen(d),[o,d]),N.createElement(HA,{basename:i,children:e,location:l.location,navigationType:l.action,navigator:o})}var Mb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gn=N.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:l,replace:h,state:d,target:p,to:g,preventScrollReset:b,viewTransition:w,...x},C){let{basename:P}=N.useContext(ki),$=typeof g=="string"&&Mb.test(g),j,Q=!1;if(typeof g=="string"&&$&&(j=g,kb))try{let A=new URL(window.location.href),R=g.startsWith("//")?new URL(A.protocol+g):new URL(g),V=ps(R.pathname,P);R.origin===A.origin&&V!=null?g=V+R.search+R.hash:Q=!0}catch{ri(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Z=IA(g,{relative:o}),[J,le,re]=ux(s,x),he=vx(g,{replace:h,state:d,target:p,preventScrollReset:b,relative:o,viewTransition:w});function M(A){e&&e(A),A.defaultPrevented||he(A)}let I=N.createElement("a",{...x,...re,href:j||Z,onClick:Q||l?e:M,ref:dx(C,le),target:p,"data-discover":!$&&t==="render"?"true":void 0});return J&&!$?N.createElement(N.Fragment,null,I,N.createElement(cx,{page:Z})):I});Gn.displayName="Link";var px=N.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:l,to:h,viewTransition:d,children:p,...g},b){let w=wu(h,{relative:g.relative}),x=Mi(),C=N.useContext(ef),{navigator:P,basename:$}=N.useContext(ki),j=C!=null&&wx(w)&&d===!0,Q=P.encodeLocation?P.encodeLocation(w).pathname:w.pathname,Z=x.pathname,J=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;t||(Z=Z.toLowerCase(),J=J?J.toLowerCase():null,Q=Q.toLowerCase()),J&&$&&(J=ps(J,$)||J);const le=Q!=="/"&&Q.endsWith("/")?Q.length-1:Q.length;let re=Z===Q||!o&&Z.startsWith(Q)&&Z.charAt(le)==="/",he=J!=null&&(J===Q||!o&&J.startsWith(Q)&&J.charAt(Q.length)==="/"),M={isActive:re,isPending:he,isTransitioning:j},I=re?e:void 0,A;typeof s=="function"?A=s(M):A=[s,re?"active":null,he?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let R=typeof l=="function"?l(M):l;return N.createElement(Gn,{...g,"aria-current":I,className:A,ref:b,style:R,to:h,viewTransition:d},typeof p=="function"?p(M):p)});px.displayName="NavLink";var gx=N.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:l,method:h=dh,action:d,onSubmit:p,relative:g,preventScrollReset:b,viewTransition:w,...x},C)=>{let P=bx(),$=Tx(d,{relative:g}),j=h.toLowerCase()==="get"?"get":"post",Q=typeof d=="string"&&Mb.test(d),Z=J=>{if(p&&p(J),J.defaultPrevented)return;J.preventDefault();let le=J.nativeEvent.submitter,re=(le==null?void 0:le.getAttribute("formmethod"))||h;P(le||J.currentTarget,{fetcherKey:e,method:re,navigate:t,replace:o,state:l,relative:g,preventScrollReset:b,viewTransition:w})};return N.createElement("form",{ref:C,method:j,action:$,onSubmit:s?p:Z,...x,"data-discover":!Q&&i==="render"?"true":void 0})});gx.displayName="Form";function yx(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Pb(i){let e=N.useContext(Vo);return ut(e,yx(i)),e}function vx(i,{target:e,replace:t,state:s,preventScrollReset:o,relative:l,viewTransition:h}={}){let d=tf(),p=Mi(),g=wu(i,{relative:l});return N.useCallback(b=>{if(YA(b,e)){b.preventDefault();let w=t!==void 0?t:hu(p)===hu(g);d(i,{replace:w,state:s,preventScrollReset:o,relative:l,viewTransition:h})}},[p,d,g,t,s,e,i,o,l,h])}var _x=0,Ex=()=>`__${String(++_x)}__`;function bx(){let{router:i}=Pb("useSubmit"),{basename:e}=N.useContext(ki),t=UA();return N.useCallback(async(s,o={})=>{let{action:l,method:h,encType:d,formData:p,body:g}=ZA(s,e);if(o.navigate===!1){let b=o.fetcherKey||Ex();await i.fetch(b,t,o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||d,flushSync:o.flushSync})}else await i.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,t])}function Tx(i,{relative:e}={}){let{basename:t}=N.useContext(ki),s=N.useContext(yr);ut(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),l={...wu(i||".",{relative:e})},h=Mi();if(i==null){l.search=h.search;let d=new URLSearchParams(l.search),p=d.getAll("index");if(p.some(b=>b==="")){d.delete("index"),p.filter(w=>w).forEach(w=>d.append("index",w));let b=d.toString();l.search=b?`?${b}`:""}}return(!i||i===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:fr([t,l.pathname])),hu(l)}function wx(i,e={}){let t=N.useContext(Rb);ut(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Pb("useViewTransitionState"),o=wu(i,{relative:e.relative});if(!t.isTransitioning)return!1;let l=ps(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=ps(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Rh(o.pathname,h)!=null||Rh(o.pathname,l)!=null}new TextEncoder;var E_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},Sx=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const o=i[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=i[t++];e[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=i[t++],h=i[t++],d=i[t++],p=((o&7)<<18|(l&63)<<12|(h&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const l=i[t++],h=i[t++];e[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|h&63)}}return e.join("")},Lb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const l=i[o],h=o+1<i.length,d=h?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,b=l>>2,w=(l&3)<<4|d>>4;let x=(d&15)<<2|g>>6,C=g&63;p||(C=64,h||(x=64)),s.push(t[b],t[w],t[x],t[C])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(Vb(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):Sx(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const l=t[i.charAt(o++)],d=o<i.length?t[i.charAt(o)]:0;++o;const g=o<i.length?t[i.charAt(o)]:64;++o;const w=o<i.length?t[i.charAt(o)]:64;if(++o,l==null||d==null||g==null||w==null)throw new Ax;const x=l<<2|d>>4;if(s.push(x),g!==64){const C=d<<4&240|g>>2;if(s.push(C),w!==64){const P=g<<6&192|w;s.push(P)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class Ax extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xx=function(i){const e=Vb(i);return Lb.encodeByteArray(e,!0)},Ih=function(i){return xx(i).replace(/\./g,"")},jb=function(i){try{return Lb.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix=()=>Rx().__FIREBASE_DEFAULTS__,Cx=()=>{if(typeof process>"u"||typeof E_>"u")return;const i=E_.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},Nx=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&jb(i[1]);return e&&JSON.parse(e)},rf=()=>{try{return Ix()||Cx()||Nx()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Ub=i=>{var e,t;return(t=(e=rf())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[i]},zb=i=>{const e=Ub(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},qb=()=>{var i;return(i=rf())===null||i===void 0?void 0:i.config},Bb=i=>{var e;return(e=rf())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,l=i.sub||i.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Ih(JSON.stringify(t)),Ih(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Dx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function kx(){var i;const e=(i=rf())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Mx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Fb(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function Px(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Vx(){const i=en();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function Lx(){return!kx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $b(){try{return typeof indexedDB=="object"}catch{return!1}}function Gb(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}function jx(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux="FirebaseError";class Wn extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=Ux,Object.setPrototypeOf(this,Wn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,va.prototype.create)}}class va{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],h=l?zx(l,s):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new Wn(o,d,s)}}function zx(i,e){return i.replace(qx,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const qx=/\{\$([^}]+)}/g;function Bx(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function xo(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const l=i[o],h=e[o];if(b_(l)&&b_(h)){if(!xo(l,h))return!1}else if(l!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function b_(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Zl(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,l]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function Jl(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function Hx(i,e){const t=new Fx(i,e);return t.subscribe.bind(t)}class Fx{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");$x(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=qm),o.error===void 0&&(o.error=qm),o.complete===void 0&&(o.complete=qm);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $x(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function qm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gx=1e3,Kx=2,Qx=4*60*60*1e3,Yx=.5;function T_(i,e=Gx,t=Kx){const s=e*Math.pow(t,i),o=Math.round(Yx*s*(Math.random()-.5)*2);return Math.min(Qx,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Je(i){return i&&i._delegate?i._delegate:i}class Xn{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new Ox;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Zx(e))try{this.getOrInitializeService({instanceIdentifier:aa})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(e=aa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=aa){return this.instances.has(e)}getOptions(e=aa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&h.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),l=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;l.add(e),this.onInitCallbacks.set(o,l);const h=this.instances.get(o);return h&&e(h,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Wx(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=aa){return this.component?this.component.multipleInstances?e:aa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Wx(i){return i===aa?void 0:i}function Zx(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Xx(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Pe||(Pe={}));const eR={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},tR=Pe.INFO,nR={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},iR=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=nR[e];if(o)console[o](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class sf{constructor(e){this.name=e,this._logLevel=tR,this._logHandler=iR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?eR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const rR=(i,e)=>e.some(t=>i instanceof t);let w_,S_;function sR(){return w_||(w_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aR(){return S_||(S_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Kb=new WeakMap,fp=new WeakMap,Qb=new WeakMap,Bm=new WeakMap,Qp=new WeakMap;function oR(i){const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("success",l),i.removeEventListener("error",h)},l=()=>{t(us(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",l),i.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&Kb.set(t,i)}).catch(()=>{}),Qp.set(e,i),e}function lR(i){if(fp.has(i))return;const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("complete",l),i.removeEventListener("error",h),i.removeEventListener("abort",h)},l=()=>{t(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",l),i.addEventListener("error",h),i.addEventListener("abort",h)});fp.set(i,e)}let dp={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return fp.get(i);if(e==="objectStoreNames")return i.objectStoreNames||Qb.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return us(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function uR(i){dp=i(dp)}function cR(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(Hm(this),e,...t);return Qb.set(s,e.sort?e.sort():[e]),us(s)}:aR().includes(i)?function(...e){return i.apply(Hm(this),e),us(Kb.get(this))}:function(...e){return us(i.apply(Hm(this),e))}}function hR(i){return typeof i=="function"?cR(i):(i instanceof IDBTransaction&&lR(i),rR(i,sR())?new Proxy(i,dp):i)}function us(i){if(i instanceof IDBRequest)return oR(i);if(Bm.has(i))return Bm.get(i);const e=hR(i);return e!==i&&(Bm.set(i,e),Qp.set(e,i)),e}const Hm=i=>Qp.get(i);function Yb(i,e,{blocked:t,upgrade:s,blocking:o,terminated:l}={}){const h=indexedDB.open(i,e),d=us(h);return s&&h.addEventListener("upgradeneeded",p=>{s(us(h.result),p.oldVersion,p.newVersion,us(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const fR=["get","getKey","getAll","getAllKeys","count"],dR=["put","add","delete","clear"],Fm=new Map;function A_(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Fm.get(e))return Fm.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=dR.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||fR.includes(t)))return;const l=async function(h,...d){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),o&&p.done]))[0]};return Fm.set(e,l),l}uR(i=>({...i,get:(e,t,s)=>A_(e,t)||i.get(e,t,s),has:(e,t)=>!!A_(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(pR(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function pR(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const mp="@firebase/app",x_="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dr=new sf("@firebase/app"),gR="@firebase/app-compat",yR="@firebase/analytics-compat",vR="@firebase/analytics",_R="@firebase/app-check-compat",ER="@firebase/app-check",bR="@firebase/auth",TR="@firebase/auth-compat",wR="@firebase/database",SR="@firebase/data-connect",AR="@firebase/database-compat",xR="@firebase/functions",RR="@firebase/functions-compat",IR="@firebase/installations",CR="@firebase/installations-compat",NR="@firebase/messaging",OR="@firebase/messaging-compat",DR="@firebase/performance",kR="@firebase/performance-compat",MR="@firebase/remote-config",PR="@firebase/remote-config-compat",VR="@firebase/storage",LR="@firebase/storage-compat",jR="@firebase/firestore",UR="@firebase/vertexai",zR="@firebase/firestore-compat",qR="firebase",BR="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pp="[DEFAULT]",HR={[mp]:"fire-core",[gR]:"fire-core-compat",[vR]:"fire-analytics",[yR]:"fire-analytics-compat",[ER]:"fire-app-check",[_R]:"fire-app-check-compat",[bR]:"fire-auth",[TR]:"fire-auth-compat",[wR]:"fire-rtdb",[SR]:"fire-data-connect",[AR]:"fire-rtdb-compat",[xR]:"fire-fn",[RR]:"fire-fn-compat",[IR]:"fire-iid",[CR]:"fire-iid-compat",[NR]:"fire-fcm",[OR]:"fire-fcm-compat",[DR]:"fire-perf",[kR]:"fire-perf-compat",[MR]:"fire-rc",[PR]:"fire-rc-compat",[VR]:"fire-gcs",[LR]:"fire-gcs-compat",[jR]:"fire-fst",[zR]:"fire-fst-compat",[UR]:"fire-vertex","fire-js":"fire-js",[qR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ch=new Map,FR=new Map,gp=new Map;function R_(i,e){try{i.container.addComponent(e)}catch(t){dr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function si(i){const e=i.name;if(gp.has(e))return dr.debug(`There were multiple attempts to register component ${e}.`),!1;gp.set(e,i);for(const t of Ch.values())R_(t,i);for(const t of FR.values())R_(t,i);return!0}function ws(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function pn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},cs=new va("app","Firebase",$R);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Xn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw cs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a=BR;function Xb(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:pp,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw cs.create("bad-app-name",{appName:String(o)});if(t||(t=qb()),!t)throw cs.create("no-options");const l=Ch.get(o);if(l){if(xo(t,l.options)&&xo(s,l.config))return l;throw cs.create("duplicate-app",{appName:o})}const h=new Jx(o);for(const p of gp.values())h.addComponent(p);const d=new GR(t,s,h);return Ch.set(o,d),d}function af(i=pp){const e=Ch.get(i);if(!e&&i===pp&&qb())return Xb();if(!e)throw cs.create("no-app",{appName:i});return e}function yn(i,e,t){var s;let o=(s=HR[i])!==null&&s!==void 0?s:i;t&&(o+=`-${t}`);const l=o.match(/\s|\//),h=e.match(/\s|\//);if(l||h){const d=[`Unable to register library "${o}" with version "${e}":`];l&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),dr.warn(d.join(" "));return}si(new Xn(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR="firebase-heartbeat-database",QR=1,fu="firebase-heartbeat-store";let $m=null;function Wb(){return $m||($m=Yb(KR,QR,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(fu)}catch(t){console.warn(t)}}}}).catch(i=>{throw cs.create("idb-open",{originalErrorMessage:i.message})})),$m}async function YR(i){try{const t=(await Wb()).transaction(fu),s=await t.objectStore(fu).get(Zb(i));return await t.done,s}catch(e){if(e instanceof Wn)dr.warn(e.message);else{const t=cs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});dr.warn(t.message)}}}async function I_(i,e){try{const s=(await Wb()).transaction(fu,"readwrite");await s.objectStore(fu).put(e,Zb(i)),await s.done}catch(t){if(t instanceof Wn)dr.warn(t.message);else{const s=cs.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});dr.warn(s.message)}}}function Zb(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR=1024,WR=30;class ZR{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new eI(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=C_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(h=>h.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>WR){const h=tI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){dr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=C_(),{heartbeatsToSend:s,unsentEntries:o}=JR(this._heartbeatsCache.heartbeats),l=Ih(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return dr.warn(t),""}}}function C_(){return new Date().toISOString().substring(0,10)}function JR(i,e=XR){const t=[];let s=i.slice();for(const o of i){const l=t.find(h=>h.agent===o.agent);if(l){if(l.dates.push(o.date),N_(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),N_(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class eI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $b()?Gb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await YR(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return I_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return I_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function N_(i){return Ih(JSON.stringify({version:2,heartbeats:i})).length}function tI(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let s=1;s<i.length;s++)i[s].date<t&&(t=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nI(i){si(new Xn("platform-logger",e=>new mR(e),"PRIVATE")),si(new Xn("heartbeat",e=>new ZR(e),"PRIVATE")),yn(mp,x_,i),yn(mp,x_,"esm2017"),yn("fire-js","")}nI("");var iI="firebase",rI="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yn(iI,rI,"app");const Jb="@firebase/installations",Yp="0.6.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1=1e4,t1=`w:${Yp}`,n1="FIS_v2",sI="https://firebaseinstallations.googleapis.com/v1",aI=60*60*1e3,oI="installations",lI="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ca=new va(oI,lI,uI);function i1(i){return i instanceof Wn&&i.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1({projectId:i}){return`${sI}/projects/${i}/installations`}function s1(i){return{token:i.token,requestStatus:2,expiresIn:hI(i.expiresIn),creationTime:Date.now()}}async function a1(i,e){const s=(await e.json()).error;return ca.create("request-failed",{requestName:i,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function o1({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function cI(i,{refreshToken:e}){const t=o1(i);return t.append("Authorization",fI(e)),t}async function l1(i){const e=await i();return e.status>=500&&e.status<600?i():e}function hI(i){return Number(i.replace("s","000"))}function fI(i){return`${n1} ${i}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dI({appConfig:i,heartbeatServiceProvider:e},{fid:t}){const s=r1(i),o=o1(i),l=e.getImmediate({optional:!0});if(l){const g=await l.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const h={fid:t,authVersion:n1,appId:i.appId,sdkVersion:t1},d={method:"POST",headers:o,body:JSON.stringify(h)},p=await l1(()=>fetch(s,d));if(p.ok){const g=await p.json();return{fid:g.fid||t,registrationStatus:2,refreshToken:g.refreshToken,authToken:s1(g.authToken)}}else throw await a1("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(i){return new Promise(e=>{setTimeout(e,i)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mI(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI=/^[cdef][\w-]{21}$/,yp="";function gI(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const t=yI(i);return pI.test(t)?t:yp}catch{return yp}}function yI(i){return mI(i).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function of(i){return`${i.appName}!${i.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1=new Map;function h1(i,e){const t=of(i);f1(t,e),vI(t,e)}function f1(i,e){const t=c1.get(i);if(t)for(const s of t)s(e)}function vI(i,e){const t=_I();t&&t.postMessage({key:i,fid:e}),EI()}let oa=null;function _I(){return!oa&&"BroadcastChannel"in self&&(oa=new BroadcastChannel("[Firebase] FID Change"),oa.onmessage=i=>{f1(i.data.key,i.data.fid)}),oa}function EI(){c1.size===0&&oa&&(oa.close(),oa=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI="firebase-installations-database",TI=1,ha="firebase-installations-store";let Gm=null;function Xp(){return Gm||(Gm=Yb(bI,TI,{upgrade:(i,e)=>{switch(e){case 0:i.createObjectStore(ha)}}})),Gm}async function Nh(i,e){const t=of(i),o=(await Xp()).transaction(ha,"readwrite"),l=o.objectStore(ha),h=await l.get(t);return await l.put(e,t),await o.done,(!h||h.fid!==e.fid)&&h1(i,e.fid),e}async function d1(i){const e=of(i),s=(await Xp()).transaction(ha,"readwrite");await s.objectStore(ha).delete(e),await s.done}async function lf(i,e){const t=of(i),o=(await Xp()).transaction(ha,"readwrite"),l=o.objectStore(ha),h=await l.get(t),d=e(h);return d===void 0?await l.delete(t):await l.put(d,t),await o.done,d&&(!h||h.fid!==d.fid)&&h1(i,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wp(i){let e;const t=await lf(i.appConfig,s=>{const o=wI(s),l=SI(i,o);return e=l.registrationPromise,l.installationEntry});return t.fid===yp?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function wI(i){const e=i||{fid:gI(),registrationStatus:0};return m1(e)}function SI(i,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(ca.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=AI(i,t);return{installationEntry:t,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:xI(i)}:{installationEntry:e}}async function AI(i,e){try{const t=await dI(i,e);return Nh(i.appConfig,t)}catch(t){throw i1(t)&&t.customData.serverCode===409?await d1(i.appConfig):await Nh(i.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function xI(i){let e=await O_(i.appConfig);for(;e.registrationStatus===1;)await u1(100),e=await O_(i.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:s}=await Wp(i);return s||t}return e}function O_(i){return lf(i,e=>{if(!e)throw ca.create("installation-not-found");return m1(e)})}function m1(i){return RI(i)?{fid:i.fid,registrationStatus:0}:i}function RI(i){return i.registrationStatus===1&&i.registrationTime+e1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function II({appConfig:i,heartbeatServiceProvider:e},t){const s=CI(i,t),o=cI(i,t),l=e.getImmediate({optional:!0});if(l){const g=await l.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const h={installation:{sdkVersion:t1,appId:i.appId}},d={method:"POST",headers:o,body:JSON.stringify(h)},p=await l1(()=>fetch(s,d));if(p.ok){const g=await p.json();return s1(g)}else throw await a1("Generate Auth Token",p)}function CI(i,{fid:e}){return`${r1(i)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zp(i,e=!1){let t;const s=await lf(i.appConfig,l=>{if(!p1(l))throw ca.create("not-registered");const h=l.authToken;if(!e&&DI(h))return l;if(h.requestStatus===1)return t=NI(i,e),l;{if(!navigator.onLine)throw ca.create("app-offline");const d=MI(l);return t=OI(i,d),d}});return t?await t:s.authToken}async function NI(i,e){let t=await D_(i.appConfig);for(;t.authToken.requestStatus===1;)await u1(100),t=await D_(i.appConfig);const s=t.authToken;return s.requestStatus===0?Zp(i,e):s}function D_(i){return lf(i,e=>{if(!p1(e))throw ca.create("not-registered");const t=e.authToken;return PI(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function OI(i,e){try{const t=await II(i,e),s=Object.assign(Object.assign({},e),{authToken:t});return await Nh(i.appConfig,s),t}catch(t){if(i1(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await d1(i.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Nh(i.appConfig,s)}throw t}}function p1(i){return i!==void 0&&i.registrationStatus===2}function DI(i){return i.requestStatus===2&&!kI(i)}function kI(i){const e=Date.now();return e<i.creationTime||i.creationTime+i.expiresIn<e+aI}function MI(i){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},i),{authToken:e})}function PI(i){return i.requestStatus===1&&i.requestTime+e1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VI(i){const e=i,{installationEntry:t,registrationPromise:s}=await Wp(e);return s?s.catch(console.error):Zp(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LI(i,e=!1){const t=i;return await jI(t),(await Zp(t,e)).token}async function jI(i){const{registrationPromise:e}=await Wp(i);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UI(i){if(!i||!i.options)throw Km("App Configuration");if(!i.name)throw Km("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!i.options[t])throw Km(t);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function Km(i){return ca.create("missing-app-config-values",{valueName:i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1="installations",zI="installations-internal",qI=i=>{const e=i.getProvider("app").getImmediate(),t=UI(e),s=ws(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},BI=i=>{const e=i.getProvider("app").getImmediate(),t=ws(e,g1).getImmediate();return{getId:()=>VI(t),getToken:o=>LI(t,o)}};function HI(){si(new Xn(g1,qI,"PUBLIC")),si(new Xn(zI,BI,"PRIVATE"))}HI();yn(Jb,Yp);yn(Jb,Yp,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oh="analytics",FI="firebase_id",$I="origin",GI=60*1e3,KI="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Jp="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln=new sf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},In=new va("analytics","Analytics",QI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YI(i){if(!i.startsWith(Jp)){const e=In.create("invalid-gtag-resource",{gtagURL:i});return ln.warn(e.message),""}return i}function y1(i){return Promise.all(i.map(e=>e.catch(t=>t)))}function XI(i,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(i,e)),t}function WI(i,e){const t=XI("firebase-js-sdk-policy",{createScriptURL:YI}),s=document.createElement("script"),o=`${Jp}?l=${i}&id=${e}`;s.src=t?t==null?void 0:t.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function ZI(i){let e=[];return Array.isArray(window[i])?e=window[i]:window[i]=e,e}async function JI(i,e,t,s,o,l){const h=s[o];try{if(h)await e[h];else{const p=(await y1(t)).find(g=>g.measurementId===o);p&&await e[p.appId]}}catch(d){ln.error(d)}i("config",o,l)}async function eC(i,e,t,s,o){try{let l=[];if(o&&o.send_to){let h=o.send_to;Array.isArray(h)||(h=[h]);const d=await y1(t);for(const p of h){const g=d.find(w=>w.measurementId===p),b=g&&e[g.appId];if(b)l.push(b);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),i("event",s,o||{})}catch(l){ln.error(l)}}function tC(i,e,t,s){async function o(l,...h){try{if(l==="event"){const[d,p]=h;await eC(i,e,t,d,p)}else if(l==="config"){const[d,p]=h;await JI(i,e,t,s,d,p)}else if(l==="consent"){const[d,p]=h;i("consent",d,p)}else if(l==="get"){const[d,p,g]=h;i("get",d,p,g)}else if(l==="set"){const[d]=h;i("set",d)}else i(l,...h)}catch(d){ln.error(d)}}return o}function nC(i,e,t,s,o){let l=function(...h){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(l=window[o]),window[o]=tC(l,i,e,t),{gtagCore:l,wrappedGtag:window[o]}}function iC(i){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Jp)&&t.src.includes(i))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC=30,sC=1e3;class aC{constructor(e={},t=sC){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const v1=new aC;function oC(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function lC(i){var e;const{appId:t,apiKey:s}=i,o={method:"GET",headers:oC(s)},l=KI.replace("{app-id}",t),h=await fetch(l,o);if(h.status!==200&&h.status!==304){let d="";try{const p=await h.json();!((e=p.error)===null||e===void 0)&&e.message&&(d=p.error.message)}catch{}throw In.create("config-fetch-failed",{httpStatus:h.status,responseMessage:d})}return h.json()}async function uC(i,e=v1,t){const{appId:s,apiKey:o,measurementId:l}=i.options;if(!s)throw In.create("no-app-id");if(!o){if(l)return{measurementId:l,appId:s};throw In.create("no-api-key")}const h=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new fC;return setTimeout(async()=>{d.abort()},GI),_1({appId:s,apiKey:o,measurementId:l},h,d,e)}async function _1(i,{throttleEndTimeMillis:e,backoffCount:t},s,o=v1){var l;const{appId:h,measurementId:d}=i;try{await cC(s,e)}catch(p){if(d)return ln.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:h,measurementId:d};throw p}try{const p=await lC(i);return o.deleteThrottleMetadata(h),p}catch(p){const g=p;if(!hC(g)){if(o.deleteThrottleMetadata(h),d)return ln.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:h,measurementId:d};throw p}const b=Number((l=g==null?void 0:g.customData)===null||l===void 0?void 0:l.httpStatus)===503?T_(t,o.intervalMillis,rC):T_(t,o.intervalMillis),w={throttleEndTimeMillis:Date.now()+b,backoffCount:t+1};return o.setThrottleMetadata(h,w),ln.debug(`Calling attemptFetch again in ${b} millis`),_1(i,w,s,o)}}function cC(i,e){return new Promise((t,s)=>{const o=Math.max(e-Date.now(),0),l=setTimeout(t,o);i.addEventListener(()=>{clearTimeout(l),s(In.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function hC(i){if(!(i instanceof Wn)||!i.customData)return!1;const e=Number(i.customData.httpStatus);return e===429||e===500||e===503||e===504}class fC{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function dC(i,e,t,s,o){if(o&&o.global){i("event",t,s);return}else{const l=await e,h=Object.assign(Object.assign({},s),{send_to:l});i("event",t,h)}}async function mC(i,e,t,s){{const o=await e;i("config",o,{update:!0,user_properties:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pC(){if($b())try{await Gb()}catch(i){return ln.warn(In.create("indexeddb-unavailable",{errorInfo:i==null?void 0:i.toString()}).message),!1}else return ln.warn(In.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function gC(i,e,t,s,o,l,h){var d;const p=uC(i);p.then(C=>{t[C.measurementId]=C.appId,i.options.measurementId&&C.measurementId!==i.options.measurementId&&ln.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${C.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(C=>ln.error(C)),e.push(p);const g=pC().then(C=>{if(C)return s.getId()}),[b,w]=await Promise.all([p,g]);iC(l)||WI(l,b.measurementId),o("js",new Date);const x=(d=h==null?void 0:h.config)!==null&&d!==void 0?d:{};return x[$I]="firebase",x.update=!0,w!=null&&(x[FI]=w),o("config",b.measurementId,x),b.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e){this.app=e}_delete(){return delete bo[this.app.options.appId],Promise.resolve()}}let bo={},k_=[];const M_={};let Qm="dataLayer",vC="gtag",P_,eg,V_=!1;function _C(){const i=[];if(Fb()&&i.push("This is a browser extension environment."),jx()||i.push("Cookies are not available."),i.length>0){const e=i.map((s,o)=>`(${o+1}) ${s}`).join(" "),t=In.create("invalid-analytics-context",{errorInfo:e});ln.warn(t.message)}}function EC(i,e,t){_C();const s=i.options.appId;if(!s)throw In.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)ln.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw In.create("no-api-key");if(bo[s]!=null)throw In.create("already-exists",{id:s});if(!V_){ZI(Qm);const{wrappedGtag:l,gtagCore:h}=nC(bo,k_,M_,Qm,vC);eg=l,P_=h,V_=!0}return bo[s]=gC(i,k_,M_,e,P_,Qm,t),new yC(i)}function bC(i=af()){i=Je(i);const e=ws(i,Oh);return e.isInitialized()?e.getImmediate():TC(i)}function TC(i,e={}){const t=ws(i,Oh);if(t.isInitialized()){const o=t.getImmediate();if(xo(e,t.getOptions()))return o;throw In.create("already-initialized")}return t.initialize({options:e})}function wC(i,e,t){i=Je(i),mC(eg,bo[i.app.options.appId],e).catch(s=>ln.error(s))}function E1(i,e,t,s){i=Je(i),dC(eg,bo[i.app.options.appId],e,t,s).catch(o=>ln.error(o))}const L_="@firebase/analytics",j_="0.10.11";function SC(){si(new Xn(Oh,(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return EC(s,o,t)},"PUBLIC")),si(new Xn("analytics-internal",i,"PRIVATE")),yn(L_,j_),yn(L_,j_,"esm2017");function i(e){try{const t=e.getProvider(Oh).getImmediate();return{logEvent:(s,o,l)=>E1(t,s,o,l)}}catch(t){throw In.create("interop-component-reg-failed",{reason:t})}}}SC();var U_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hs,b1;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,I){function A(){}A.prototype=I.prototype,M.D=I.prototype,M.prototype=new A,M.prototype.constructor=M,M.C=function(R,V,U){for(var k=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)k[Ke-2]=arguments[Ke];return I.prototype[V].apply(R,k)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,I,A){A||(A=0);var R=Array(16);if(typeof I=="string")for(var V=0;16>V;++V)R[V]=I.charCodeAt(A++)|I.charCodeAt(A++)<<8|I.charCodeAt(A++)<<16|I.charCodeAt(A++)<<24;else for(V=0;16>V;++V)R[V]=I[A++]|I[A++]<<8|I[A++]<<16|I[A++]<<24;I=M.g[0],A=M.g[1],V=M.g[2];var U=M.g[3],k=I+(U^A&(V^U))+R[0]+3614090360&4294967295;I=A+(k<<7&4294967295|k>>>25),k=U+(V^I&(A^V))+R[1]+3905402710&4294967295,U=I+(k<<12&4294967295|k>>>20),k=V+(A^U&(I^A))+R[2]+606105819&4294967295,V=U+(k<<17&4294967295|k>>>15),k=A+(I^V&(U^I))+R[3]+3250441966&4294967295,A=V+(k<<22&4294967295|k>>>10),k=I+(U^A&(V^U))+R[4]+4118548399&4294967295,I=A+(k<<7&4294967295|k>>>25),k=U+(V^I&(A^V))+R[5]+1200080426&4294967295,U=I+(k<<12&4294967295|k>>>20),k=V+(A^U&(I^A))+R[6]+2821735955&4294967295,V=U+(k<<17&4294967295|k>>>15),k=A+(I^V&(U^I))+R[7]+4249261313&4294967295,A=V+(k<<22&4294967295|k>>>10),k=I+(U^A&(V^U))+R[8]+1770035416&4294967295,I=A+(k<<7&4294967295|k>>>25),k=U+(V^I&(A^V))+R[9]+2336552879&4294967295,U=I+(k<<12&4294967295|k>>>20),k=V+(A^U&(I^A))+R[10]+4294925233&4294967295,V=U+(k<<17&4294967295|k>>>15),k=A+(I^V&(U^I))+R[11]+2304563134&4294967295,A=V+(k<<22&4294967295|k>>>10),k=I+(U^A&(V^U))+R[12]+1804603682&4294967295,I=A+(k<<7&4294967295|k>>>25),k=U+(V^I&(A^V))+R[13]+4254626195&4294967295,U=I+(k<<12&4294967295|k>>>20),k=V+(A^U&(I^A))+R[14]+2792965006&4294967295,V=U+(k<<17&4294967295|k>>>15),k=A+(I^V&(U^I))+R[15]+1236535329&4294967295,A=V+(k<<22&4294967295|k>>>10),k=I+(V^U&(A^V))+R[1]+4129170786&4294967295,I=A+(k<<5&4294967295|k>>>27),k=U+(A^V&(I^A))+R[6]+3225465664&4294967295,U=I+(k<<9&4294967295|k>>>23),k=V+(I^A&(U^I))+R[11]+643717713&4294967295,V=U+(k<<14&4294967295|k>>>18),k=A+(U^I&(V^U))+R[0]+3921069994&4294967295,A=V+(k<<20&4294967295|k>>>12),k=I+(V^U&(A^V))+R[5]+3593408605&4294967295,I=A+(k<<5&4294967295|k>>>27),k=U+(A^V&(I^A))+R[10]+38016083&4294967295,U=I+(k<<9&4294967295|k>>>23),k=V+(I^A&(U^I))+R[15]+3634488961&4294967295,V=U+(k<<14&4294967295|k>>>18),k=A+(U^I&(V^U))+R[4]+3889429448&4294967295,A=V+(k<<20&4294967295|k>>>12),k=I+(V^U&(A^V))+R[9]+568446438&4294967295,I=A+(k<<5&4294967295|k>>>27),k=U+(A^V&(I^A))+R[14]+3275163606&4294967295,U=I+(k<<9&4294967295|k>>>23),k=V+(I^A&(U^I))+R[3]+4107603335&4294967295,V=U+(k<<14&4294967295|k>>>18),k=A+(U^I&(V^U))+R[8]+1163531501&4294967295,A=V+(k<<20&4294967295|k>>>12),k=I+(V^U&(A^V))+R[13]+2850285829&4294967295,I=A+(k<<5&4294967295|k>>>27),k=U+(A^V&(I^A))+R[2]+4243563512&4294967295,U=I+(k<<9&4294967295|k>>>23),k=V+(I^A&(U^I))+R[7]+1735328473&4294967295,V=U+(k<<14&4294967295|k>>>18),k=A+(U^I&(V^U))+R[12]+2368359562&4294967295,A=V+(k<<20&4294967295|k>>>12),k=I+(A^V^U)+R[5]+4294588738&4294967295,I=A+(k<<4&4294967295|k>>>28),k=U+(I^A^V)+R[8]+2272392833&4294967295,U=I+(k<<11&4294967295|k>>>21),k=V+(U^I^A)+R[11]+1839030562&4294967295,V=U+(k<<16&4294967295|k>>>16),k=A+(V^U^I)+R[14]+4259657740&4294967295,A=V+(k<<23&4294967295|k>>>9),k=I+(A^V^U)+R[1]+2763975236&4294967295,I=A+(k<<4&4294967295|k>>>28),k=U+(I^A^V)+R[4]+1272893353&4294967295,U=I+(k<<11&4294967295|k>>>21),k=V+(U^I^A)+R[7]+4139469664&4294967295,V=U+(k<<16&4294967295|k>>>16),k=A+(V^U^I)+R[10]+3200236656&4294967295,A=V+(k<<23&4294967295|k>>>9),k=I+(A^V^U)+R[13]+681279174&4294967295,I=A+(k<<4&4294967295|k>>>28),k=U+(I^A^V)+R[0]+3936430074&4294967295,U=I+(k<<11&4294967295|k>>>21),k=V+(U^I^A)+R[3]+3572445317&4294967295,V=U+(k<<16&4294967295|k>>>16),k=A+(V^U^I)+R[6]+76029189&4294967295,A=V+(k<<23&4294967295|k>>>9),k=I+(A^V^U)+R[9]+3654602809&4294967295,I=A+(k<<4&4294967295|k>>>28),k=U+(I^A^V)+R[12]+3873151461&4294967295,U=I+(k<<11&4294967295|k>>>21),k=V+(U^I^A)+R[15]+530742520&4294967295,V=U+(k<<16&4294967295|k>>>16),k=A+(V^U^I)+R[2]+3299628645&4294967295,A=V+(k<<23&4294967295|k>>>9),k=I+(V^(A|~U))+R[0]+4096336452&4294967295,I=A+(k<<6&4294967295|k>>>26),k=U+(A^(I|~V))+R[7]+1126891415&4294967295,U=I+(k<<10&4294967295|k>>>22),k=V+(I^(U|~A))+R[14]+2878612391&4294967295,V=U+(k<<15&4294967295|k>>>17),k=A+(U^(V|~I))+R[5]+4237533241&4294967295,A=V+(k<<21&4294967295|k>>>11),k=I+(V^(A|~U))+R[12]+1700485571&4294967295,I=A+(k<<6&4294967295|k>>>26),k=U+(A^(I|~V))+R[3]+2399980690&4294967295,U=I+(k<<10&4294967295|k>>>22),k=V+(I^(U|~A))+R[10]+4293915773&4294967295,V=U+(k<<15&4294967295|k>>>17),k=A+(U^(V|~I))+R[1]+2240044497&4294967295,A=V+(k<<21&4294967295|k>>>11),k=I+(V^(A|~U))+R[8]+1873313359&4294967295,I=A+(k<<6&4294967295|k>>>26),k=U+(A^(I|~V))+R[15]+4264355552&4294967295,U=I+(k<<10&4294967295|k>>>22),k=V+(I^(U|~A))+R[6]+2734768916&4294967295,V=U+(k<<15&4294967295|k>>>17),k=A+(U^(V|~I))+R[13]+1309151649&4294967295,A=V+(k<<21&4294967295|k>>>11),k=I+(V^(A|~U))+R[4]+4149444226&4294967295,I=A+(k<<6&4294967295|k>>>26),k=U+(A^(I|~V))+R[11]+3174756917&4294967295,U=I+(k<<10&4294967295|k>>>22),k=V+(I^(U|~A))+R[2]+718787259&4294967295,V=U+(k<<15&4294967295|k>>>17),k=A+(U^(V|~I))+R[9]+3951481745&4294967295,M.g[0]=M.g[0]+I&4294967295,M.g[1]=M.g[1]+(V+(k<<21&4294967295|k>>>11))&4294967295,M.g[2]=M.g[2]+V&4294967295,M.g[3]=M.g[3]+U&4294967295}s.prototype.u=function(M,I){I===void 0&&(I=M.length);for(var A=I-this.blockSize,R=this.B,V=this.h,U=0;U<I;){if(V==0)for(;U<=A;)o(this,M,U),U+=this.blockSize;if(typeof M=="string"){for(;U<I;)if(R[V++]=M.charCodeAt(U++),V==this.blockSize){o(this,R),V=0;break}}else for(;U<I;)if(R[V++]=M[U++],V==this.blockSize){o(this,R),V=0;break}}this.h=V,this.o+=I},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var I=1;I<M.length-8;++I)M[I]=0;var A=8*this.o;for(I=M.length-8;I<M.length;++I)M[I]=A&255,A/=256;for(this.u(M),M=Array(16),I=A=0;4>I;++I)for(var R=0;32>R;R+=8)M[A++]=this.g[I]>>>R&255;return M};function l(M,I){var A=d;return Object.prototype.hasOwnProperty.call(A,M)?A[M]:A[M]=I(M)}function h(M,I){this.h=I;for(var A=[],R=!0,V=M.length-1;0<=V;V--){var U=M[V]|0;R&&U==I||(A[V]=U,R=!1)}this.g=A}var d={};function p(M){return-128<=M&&128>M?l(M,function(I){return new h([I|0],0>I?-1:0)}):new h([M|0],0>M?-1:0)}function g(M){if(isNaN(M)||!isFinite(M))return w;if(0>M)return j(g(-M));for(var I=[],A=1,R=0;M>=A;R++)I[R]=M/A|0,A*=4294967296;return new h(I,0)}function b(M,I){if(M.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(M.charAt(0)=="-")return j(b(M.substring(1),I));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=g(Math.pow(I,8)),R=w,V=0;V<M.length;V+=8){var U=Math.min(8,M.length-V),k=parseInt(M.substring(V,V+U),I);8>U?(U=g(Math.pow(I,U)),R=R.j(U).add(g(k))):(R=R.j(A),R=R.add(g(k)))}return R}var w=p(0),x=p(1),C=p(16777216);i=h.prototype,i.m=function(){if($(this))return-j(this).m();for(var M=0,I=1,A=0;A<this.g.length;A++){var R=this.i(A);M+=(0<=R?R:4294967296+R)*I,I*=4294967296}return M},i.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(P(this))return"0";if($(this))return"-"+j(this).toString(M);for(var I=g(Math.pow(M,6)),A=this,R="";;){var V=le(A,I).g;A=Q(A,V.j(I));var U=((0<A.g.length?A.g[0]:A.h)>>>0).toString(M);if(A=V,P(A))return U+R;for(;6>U.length;)U="0"+U;R=U+R}},i.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function P(M){if(M.h!=0)return!1;for(var I=0;I<M.g.length;I++)if(M.g[I]!=0)return!1;return!0}function $(M){return M.h==-1}i.l=function(M){return M=Q(this,M),$(M)?-1:P(M)?0:1};function j(M){for(var I=M.g.length,A=[],R=0;R<I;R++)A[R]=~M.g[R];return new h(A,~M.h).add(x)}i.abs=function(){return $(this)?j(this):this},i.add=function(M){for(var I=Math.max(this.g.length,M.g.length),A=[],R=0,V=0;V<=I;V++){var U=R+(this.i(V)&65535)+(M.i(V)&65535),k=(U>>>16)+(this.i(V)>>>16)+(M.i(V)>>>16);R=k>>>16,U&=65535,k&=65535,A[V]=k<<16|U}return new h(A,A[A.length-1]&-2147483648?-1:0)};function Q(M,I){return M.add(j(I))}i.j=function(M){if(P(this)||P(M))return w;if($(this))return $(M)?j(this).j(j(M)):j(j(this).j(M));if($(M))return j(this.j(j(M)));if(0>this.l(C)&&0>M.l(C))return g(this.m()*M.m());for(var I=this.g.length+M.g.length,A=[],R=0;R<2*I;R++)A[R]=0;for(R=0;R<this.g.length;R++)for(var V=0;V<M.g.length;V++){var U=this.i(R)>>>16,k=this.i(R)&65535,Ke=M.i(V)>>>16,se=M.i(V)&65535;A[2*R+2*V]+=k*se,Z(A,2*R+2*V),A[2*R+2*V+1]+=U*se,Z(A,2*R+2*V+1),A[2*R+2*V+1]+=k*Ke,Z(A,2*R+2*V+1),A[2*R+2*V+2]+=U*Ke,Z(A,2*R+2*V+2)}for(R=0;R<I;R++)A[R]=A[2*R+1]<<16|A[2*R];for(R=I;R<2*I;R++)A[R]=0;return new h(A,0)};function Z(M,I){for(;(M[I]&65535)!=M[I];)M[I+1]+=M[I]>>>16,M[I]&=65535,I++}function J(M,I){this.g=M,this.h=I}function le(M,I){if(P(I))throw Error("division by zero");if(P(M))return new J(w,w);if($(M))return I=le(j(M),I),new J(j(I.g),j(I.h));if($(I))return I=le(M,j(I)),new J(j(I.g),I.h);if(30<M.g.length){if($(M)||$(I))throw Error("slowDivide_ only works with positive integers.");for(var A=x,R=I;0>=R.l(M);)A=re(A),R=re(R);var V=he(A,1),U=he(R,1);for(R=he(R,2),A=he(A,2);!P(R);){var k=U.add(R);0>=k.l(M)&&(V=V.add(A),U=k),R=he(R,1),A=he(A,1)}return I=Q(M,V.j(I)),new J(V,I)}for(V=w;0<=M.l(I);){for(A=Math.max(1,Math.floor(M.m()/I.m())),R=Math.ceil(Math.log(A)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),U=g(A),k=U.j(I);$(k)||0<k.l(M);)A-=R,U=g(A),k=U.j(I);P(U)&&(U=x),V=V.add(U),M=Q(M,k)}return new J(V,M)}i.A=function(M){return le(this,M).h},i.and=function(M){for(var I=Math.max(this.g.length,M.g.length),A=[],R=0;R<I;R++)A[R]=this.i(R)&M.i(R);return new h(A,this.h&M.h)},i.or=function(M){for(var I=Math.max(this.g.length,M.g.length),A=[],R=0;R<I;R++)A[R]=this.i(R)|M.i(R);return new h(A,this.h|M.h)},i.xor=function(M){for(var I=Math.max(this.g.length,M.g.length),A=[],R=0;R<I;R++)A[R]=this.i(R)^M.i(R);return new h(A,this.h^M.h)};function re(M){for(var I=M.g.length+1,A=[],R=0;R<I;R++)A[R]=M.i(R)<<1|M.i(R-1)>>>31;return new h(A,M.h)}function he(M,I){var A=I>>5;I%=32;for(var R=M.g.length-A,V=[],U=0;U<R;U++)V[U]=0<I?M.i(U+A)>>>I|M.i(U+A+1)<<32-I:M.i(U+A);return new h(V,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,b1=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=b,hs=h}).apply(typeof U_<"u"?U_:typeof self<"u"?self:typeof window<"u"?window:{});var rh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var T1,eu,w1,ph,vp,S1,A1,x1;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof rh=="object"&&rh];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=t(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var H=c[S];if(!(H in _))break e;_=_[H]}c=c[c.length-1],S=_[c],y=y(S),y!=S&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function l(c,y){c instanceof String&&(c+="");var _=0,S=!1,H={next:function(){if(!S&&_<c.length){var K=_++;return{value:y(K,c[K]),done:!1}}return S=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}o("Array.prototype.values",function(c){return c||function(){return l(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function b(c,y,_){return c.call.apply(c.bind,arguments)}function w(c,y,_){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,S),c.apply(y,H)}}return function(){return c.apply(y,arguments)}}function x(c,y,_){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?b:w,x.apply(null,arguments)}function C(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function P(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(S,H,K){for(var ue=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)ue[ze-2]=arguments[ze];return y.prototype[H].apply(S,ue)}}function $(c){const y=c.length;if(0<y){const _=Array(y);for(let S=0;S<y;S++)_[S]=c[S];return _}return[]}function j(c,y){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(p(S)){const H=c.length||0,K=S.length||0;c.length=H+K;for(let ue=0;ue<K;ue++)c[H+ue]=S[ue]}else c.push(S)}}class Q{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function Z(c){return/^[\s\xa0]*$/.test(c)}function J(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function le(c){return le[" "](c),c}le[" "]=function(){};var re=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function he(c,y,_){for(const S in c)y.call(_,c[S],S,c)}function M(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function I(c){const y={};for(const _ in c)y[_]=c[_];return y}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(c,y){let _,S;for(let H=1;H<arguments.length;H++){S=arguments[H];for(_ in S)c[_]=S[_];for(let K=0;K<A.length;K++)_=A[K],Object.prototype.hasOwnProperty.call(S,_)&&(c[_]=S[_])}}function V(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function U(c){d.setTimeout(()=>{throw c},0)}function k(){var c=xe;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Ke{constructor(){this.h=this.g=null}add(y,_){const S=se.get();S.set(y,_),this.h?this.h.next=S:this.g=S,this.h=S}}var se=new Q(()=>new X,c=>c.reset());class X{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let de,fe=!1,xe=new Ke,D=()=>{const c=d.Promise.resolve(void 0);de=()=>{c.then(B)}};var B=()=>{for(var c;c=k();){try{c.h.call(c.g)}catch(_){U(_)}var y=se;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}fe=!1};function ne(){this.s=this.s,this.C=this.C}ne.prototype.s=!1,ne.prototype.ma=function(){this.s||(this.s=!0,this.N())},ne.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ae(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ae.prototype.h=function(){this.defaultPrevented=!0};var ce=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};d.addEventListener("test",_,y),d.removeEventListener("test",_,y)}catch{}return c}();function be(c,y){if(ae.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(re){e:{try{le(y.nodeName);var H=!0;break e}catch{}H=!1}H||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Se[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&be.aa.h.call(this)}}P(be,ae);var Se={2:"touch",3:"pen",4:"mouse"};be.prototype.h=function(){be.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var rt="closure_listenable_"+(1e6*Math.random()|0),De=0;function Xe(c,y,_,S,H){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!S,this.ha=H,this.key=++De,this.da=this.fa=!1}function Le(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function tn(c){this.src=c,this.g={},this.h=0}tn.prototype.add=function(c,y,_,S,H){var K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);var ue=Cn(c,y,S,H);return-1<ue?(y=c[ue],_||(y.fa=!1)):(y=new Xe(y,this.src,K,!!S,H),y.fa=_,c.push(y)),y};function Vi(c,y){var _=y.type;if(_ in c.g){var S=c.g[_],H=Array.prototype.indexOf.call(S,y,void 0),K;(K=0<=H)&&Array.prototype.splice.call(S,H,1),K&&(Le(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Cn(c,y,_,S){for(var H=0;H<c.length;++H){var K=c[H];if(!K.da&&K.listener==y&&K.capture==!!_&&K.ha==S)return H}return-1}var _r="closure_lm_"+(1e6*Math.random()|0),Er={};function Li(c,y,_,S,H){if(Array.isArray(y)){for(var K=0;K<y.length;K++)Li(c,y[K],_,S,H);return null}return _=Vu(_),c&&c[rt]?c.K(y,_,g(S)?!!S.capture:!1,H):qo(c,y,_,!1,S,H)}function qo(c,y,_,S,H,K){if(!y)throw Error("Invalid event type");var ue=g(H)?!!H.capture:!!H,ze=Bo(c);if(ze||(c[_r]=ze=new tn(c)),_=ze.add(y,_,S,ue,K),_.proxy)return _;if(S=wa(),_.proxy=S,S.src=c,S.listener=_,c.addEventListener)ce||(H=ue),H===void 0&&(H=!1),c.addEventListener(y.toString(),S,H);else if(c.attachEvent)c.attachEvent(Aa(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function wa(){function c(_){return y.call(c.src,c.listener,_)}const y=Pf;return c}function Sa(c,y,_,S,H){if(Array.isArray(y))for(var K=0;K<y.length;K++)Sa(c,y[K],_,S,H);else S=g(S)?!!S.capture:!!S,_=Vu(_),c&&c[rt]?(c=c.i,y=String(y).toString(),y in c.g&&(K=c.g[y],_=Cn(K,_,S,H),-1<_&&(Le(K[_]),Array.prototype.splice.call(K,_,1),K.length==0&&(delete c.g[y],c.h--)))):c&&(c=Bo(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Cn(y,_,S,H)),(_=-1<c?y[c]:null)&&Rs(_))}function Rs(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[rt])Vi(y.i,c);else{var _=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(_,S,c.capture):y.detachEvent?y.detachEvent(Aa(_),S):y.addListener&&y.removeListener&&y.removeListener(S),(_=Bo(y))?(Vi(_,c),_.h==0&&(_.src=null,y[_r]=null)):Le(c)}}}function Aa(c){return c in Er?Er[c]:Er[c]="on"+c}function Pf(c,y){if(c.da)c=!0;else{y=new be(y,this);var _=c.listener,S=c.ha||c.src;c.fa&&Rs(c),c=_.call(S,y)}return c}function Bo(c){return c=c[_r],c instanceof tn?c:null}var hn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vu(c){return typeof c=="function"?c:(c[hn]||(c[hn]=function(y){return c.handleEvent(y)}),c[hn])}function Tt(){ne.call(this),this.i=new tn(this),this.M=this,this.F=null}P(Tt,ne),Tt.prototype[rt]=!0,Tt.prototype.removeEventListener=function(c,y,_,S){Sa(this,c,y,_,S)};function Ot(c,y){var _,S=c.F;if(S)for(_=[];S;S=S.F)_.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new ae(y,c);else if(y instanceof ae)y.target=y.target||c;else{var H=y;y=new ae(S,c),R(y,H)}if(H=!0,_)for(var K=_.length-1;0<=K;K--){var ue=y.g=_[K];H=ji(ue,S,!0,y)&&H}if(ue=y.g=c,H=ji(ue,S,!0,y)&&H,H=ji(ue,S,!1,y)&&H,_)for(K=0;K<_.length;K++)ue=y.g=_[K],H=ji(ue,S,!1,y)&&H}Tt.prototype.N=function(){if(Tt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],S=0;S<_.length;S++)Le(_[S]);delete c.g[y],c.h--}}this.F=null},Tt.prototype.K=function(c,y,_,S){return this.i.add(String(c),y,!1,_,S)},Tt.prototype.L=function(c,y,_,S){return this.i.add(String(c),y,!0,_,S)};function ji(c,y,_,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var H=!0,K=0;K<y.length;++K){var ue=y[K];if(ue&&!ue.da&&ue.capture==_){var ze=ue.listener,St=ue.ha||ue.src;ue.fa&&Vi(c.i,ue),H=ze.call(St,S)!==!1&&H}}return H&&!S.defaultPrevented}function Lu(c,y,_){if(typeof c=="function")_&&(c=x(c,_));else if(c&&typeof c.handleEvent=="function")c=x(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(c,y||0)}function Ho(c){c.g=Lu(()=>{c.g=null,c.i&&(c.i=!1,Ho(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Vf extends ne{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Ho(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Is(c){ne.call(this),this.h=c,this.g={}}P(Is,ne);var br=[];function Qt(c){he(c.g,function(y,_){this.g.hasOwnProperty(_)&&Rs(y)},c),c.g={}}Is.prototype.N=function(){Is.aa.N.call(this),Qt(this)},Is.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fo=d.JSON.stringify,oi=d.JSON.parse,nn=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function $o(){}$o.prototype.h=null;function ju(c){return c.h||(c.h=c.i())}function Uu(){}var li={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Tr(){ae.call(this,"d")}P(Tr,ae);function Zn(){ae.call(this,"c")}P(Zn,ae);var Nn={},wr=null;function xa(){return wr=wr||new Tt}Nn.La="serverreachability";function Go(c){ae.call(this,Nn.La,c)}P(Go,ae);function Sr(c){const y=xa();Ot(y,new Go(y))}Nn.STAT_EVENT="statevent";function Ra(c,y){ae.call(this,Nn.STAT_EVENT,c),this.stat=y}P(Ra,ae);function pt(c){const y=xa();Ot(y,new Ra(y,c))}Nn.Ma="timingevent";function zu(c,y){ae.call(this,Nn.Ma,c),this.size=y}P(zu,ae);function Ar(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},y)}function xr(){this.g=!0}xr.prototype.xa=function(){this.g=!1};function qu(c,y,_,S,H,K){c.info(function(){if(c.g)if(K)for(var ue="",ze=K.split("&"),St=0;St<ze.length;St++){var qe=ze[St].split("=");if(1<qe.length){var Mt=qe[0];qe=qe[1];var At=Mt.split("_");ue=2<=At.length&&At[1]=="type"?ue+(Mt+"="+qe+"&"):ue+(Mt+"=redacted&")}}else ue=null;else ue=K;return"XMLHTTP REQ ("+S+") [attempt "+H+"]: "+y+`
`+_+`
`+ue})}function Bu(c,y,_,S,H,K,ue){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+H+"]: "+y+`
`+_+`
`+K+" "+ue})}function Rr(c,y,_,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Dt(c,_)+(S?" "+S:"")})}function ui(c,y){c.info(function(){return"TIMEOUT: "+y})}xr.prototype.info=function(){};function Dt(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var S=_[c];if(!(2>S.length)){var H=S[1];if(Array.isArray(H)&&!(1>H.length)){var K=H[0];if(K!="noop"&&K!="stop"&&K!="close")for(var ue=1;ue<H.length;ue++)H[ue]=""}}}}return Fo(_)}catch{return y}}var wt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ui={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Cs;function Ia(){}P(Ia,$o),Ia.prototype.g=function(){return new XMLHttpRequest},Ia.prototype.i=function(){return{}},Cs=new Ia;function ci(c,y,_,S){this.j=c,this.i=y,this.l=_,this.R=S||1,this.U=new Is(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ko}function Ko(){this.i=null,this.g="",this.h=!1}var Ir={},Ns={};function Jn(c,y,_){c.L=1,c.v=ks(ht(y)),c.m=_,c.P=!0,zi(c,null)}function zi(c,y){c.F=Date.now(),at(c),c.A=ht(c.v);var _=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),Hi(_.i,"t",S),c.C=0,_=c.j.J,c.h=new Ko,c.g=nc(c.j,_?y:null,!c.m),0<c.O&&(c.M=new Vf(x(c.Y,c,c.g),c.O)),y=c.U,_=c.g,S=c.ca;var H="readystatechange";Array.isArray(H)||(H&&(br[0]=H.toString()),H=br);for(var K=0;K<H.length;K++){var ue=Li(_,H[K],S||y.handleEvent,!1,y.h||y);if(!ue)break;y.g[ue.key]=ue}y=c.H?I(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Sr(),qu(c.i,c.u,c.A,c.l,c.R,c.m)}ci.prototype.ca=function(c){c=c.target;const y=this.M;y&&Pn(c)==3?y.j():this.Y(c)},ci.prototype.Y=function(c){try{if(c==this.g)e:{const At=Pn(this.g);var y=this.g.Ba();const Ki=this.g.Z();if(!(3>At)&&(At!=3||this.g&&(this.h.h||this.g.oa()||Qu(this.g)))){this.J||At!=4||y==7||(y==8||0>=Ki?Sr(3):Sr(2)),Ca(this);var _=this.g.Z();this.X=_;t:if(Cr(this)){var S=Qu(this.g);c="";var H=S.length,K=Pn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){fn(this),vn(this);var ue="";break t}this.h.i=new d.TextDecoder}for(y=0;y<H;y++)this.h.h=!0,c+=this.h.i.decode(S[y],{stream:!(K&&y==H-1)});S.length=0,this.h.g+=c,this.C=0,ue=this.h.g}else ue=this.g.oa();if(this.o=_==200,Bu(this.i,this.u,this.A,this.l,this.R,At,_),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,St=this.g;if((ze=St.g?St.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Z(ze)){var qe=ze;break t}}qe=null}if(_=qe)Rr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_n(this,_);else{this.o=!1,this.s=3,pt(12),fn(this),vn(this);break e}}if(this.P){_=!0;let Ut;for(;!this.J&&this.C<ue.length;)if(Ut=Nr(this,ue),Ut==Ns){At==4&&(this.s=4,pt(14),_=!1),Rr(this.i,this.l,null,"[Incomplete Response]");break}else if(Ut==Ir){this.s=4,pt(15),Rr(this.i,this.l,ue,"[Invalid Chunk]"),_=!1;break}else Rr(this.i,this.l,Ut,null),_n(this,Ut);if(Cr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||ue.length!=0||this.h.h||(this.s=1,pt(16),_=!1),this.o=this.o&&_,!_)Rr(this.i,this.l,ue,"[Invalid Chunked Response]"),fn(this),vn(this);else if(0<ue.length&&!this.W){this.W=!0;var Mt=this.j;Mt.g==this&&Mt.ba&&!Mt.M&&(Mt.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),zs(Mt),Mt.M=!0,pt(11))}}else Rr(this.i,this.l,ue,null),_n(this,ue);At==4&&fn(this),this.o&&!this.J&&(At==4?Ju(this.j,this):(this.o=!1,at(this)))}else Bf(this.g),_==400&&0<ue.indexOf("Unknown SID")?(this.s=3,pt(12)):(this.s=0,pt(13)),fn(this),vn(this)}}}catch{}finally{}};function Cr(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Nr(c,y){var _=c.C,S=y.indexOf(`
`,_);return S==-1?Ns:(_=Number(y.substring(_,S)),isNaN(_)?Ir:(S+=1,S+_>y.length?Ns:(y=y.slice(S,S+_),c.C=S+_,y)))}ci.prototype.cancel=function(){this.J=!0,fn(this)};function at(c){c.S=Date.now()+c.I,Qo(c,c.I)}function Qo(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ar(x(c.ba,c),y)}function Ca(c){c.B&&(d.clearTimeout(c.B),c.B=null)}ci.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(ui(this.i,this.A),this.L!=2&&(Sr(),pt(17)),fn(this),this.s=2,vn(this)):Qo(this,this.S-c)};function vn(c){c.j.G==0||c.J||Ju(c.j,c)}function fn(c){Ca(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Qt(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function _n(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||Or(_.h,c))){if(!c.K&&Or(_.h,c)&&_.G==3){try{var S=_.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var H=S;if(H[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Ua(_),La(_);else break e;sl(_),pt(18)}}else _.za=H[1],0<_.za-_.T&&37500>H[2]&&_.F&&_.v==0&&!_.C&&(_.C=Ar(x(_.Za,_),6e3));if(1>=Hu(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Gi(_,11)}else if((c.K||_.g==c)&&Ua(_),!Z(y))for(H=_.Da.g.parse(y),y=0;y<H.length;y++){let qe=H[y];if(_.T=qe[0],qe=qe[1],_.G==2)if(qe[0]=="c"){_.K=qe[1],_.ia=qe[2];const Mt=qe[3];Mt!=null&&(_.la=Mt,_.j.info("VER="+_.la));const At=qe[4];At!=null&&(_.Aa=At,_.j.info("SVER="+_.Aa));const Ki=qe[5];Ki!=null&&typeof Ki=="number"&&0<Ki&&(S=1.5*Ki,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const Ut=c.g;if(Ut){const yi=Ut.g?Ut.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yi){var K=S.h;K.g||yi.indexOf("spdy")==-1&&yi.indexOf("quic")==-1&&yi.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Dr(K,K.h),K.h=null))}if(S.D){const ol=Ut.g?Ut.g.getResponseHeader("X-HTTP-Session-Id"):null;ol&&(S.ya=ol,Fe(S.I,S.D,ol))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var ue=c;if(S.qa=tc(S,S.J?S.ia:null,S.W),ue.K){On(S.h,ue);var ze=ue,St=S.L;St&&(ze.I=St),ze.B&&(Ca(ze),at(ze)),S.g=ue}else Wu(S);0<_.i.length&&ja(_)}else qe[0]!="stop"&&qe[0]!="close"||Gi(_,7);else _.G==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?Gi(_,7):il(_):qe[0]!="noop"&&_.l&&_.l.ta(qe),_.v=0)}}Sr(4)}catch{}}var Lf=class{constructor(c,y){this.g=c,this.map=y}};function Yo(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Hu(c){return c.h?1:c.g?c.g.size:0}function Or(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Dr(c,y){c.g?c.g.add(y):c.h=y}function On(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Yo.prototype.cancel=function(){if(this.i=rn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function rn(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return $(c.i)}function Fu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,S=0;S<_;S++)y.push(c[S]);return y}y=[],_=0;for(S in c)y[_++]=c[S];return y}function jf(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const S in c)y[_++]=S;return y}}}function Os(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=jf(c),S=Fu(c),H=S.length,K=0;K<H;K++)y.call(void 0,S[K],_&&_[K],c)}var Wo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Na(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var S=c[_].indexOf("="),H=null;if(0<=S){var K=c[_].substring(0,S);H=c[_].substring(S+1)}else K=c[_];y(K,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function qi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof qi){this.h=c.h,kr(this,c.j),this.o=c.o,this.g=c.g,Ds(this,c.s),this.l=c.l;var y=c.i,_=new hi;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Oa(this,_),this.m=c.m}else c&&(y=String(c).match(Wo))?(this.h=!1,kr(this,y[1]||"",!0),this.o=Mr(y[2]||""),this.g=Mr(y[3]||"",!0),Ds(this,y[4]),this.l=Mr(y[5]||"",!0),Oa(this,y[6]||"",!0),this.m=Mr(y[7]||"")):(this.h=!1,this.i=new hi(null,this.h))}qi.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Dn(y,Zo,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Dn(y,Zo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Dn(_,_.charAt(0)=="/"?Jo:$u,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Dn(_,qf)),c.join("")};function ht(c){return new qi(c)}function kr(c,y,_){c.j=_?Mr(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Ds(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Oa(c,y,_){y instanceof hi?(c.i=y,el(c.i,c.h)):(_||(y=Dn(y,zf)),c.i=new hi(y,c.h))}function Fe(c,y,_){c.i.set(y,_)}function ks(c){return Fe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Mr(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Dn(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Uf),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Uf(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Zo=/[#\/\?@]/g,$u=/[#\?:]/g,Jo=/[#\?]/g,zf=/[#\?@]/g,qf=/#/g;function hi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function kn(c){c.g||(c.g=new Map,c.h=0,c.i&&Na(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}i=hi.prototype,i.add=function(c,y){kn(this),this.i=null,c=Fi(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Da(c,y){kn(c),y=Fi(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Bi(c,y){return kn(c),y=Fi(c,y),c.g.has(y)}i.forEach=function(c,y){kn(this),this.g.forEach(function(_,S){_.forEach(function(H){c.call(y,H,S,this)},this)},this)},i.na=function(){kn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let S=0;S<y.length;S++){const H=c[S];for(let K=0;K<H.length;K++)_.push(y[S])}return _},i.V=function(c){kn(this);let y=[];if(typeof c=="string")Bi(this,c)&&(y=y.concat(this.g.get(Fi(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},i.set=function(c,y){return kn(this),this.i=null,c=Fi(this,c),Bi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Hi(c,y,_){Da(c,y),0<_.length&&(c.i=null,c.g.set(Fi(c,y),$(_)),c.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var S=y[_];const K=encodeURIComponent(String(S)),ue=this.V(S);for(S=0;S<ue.length;S++){var H=K;ue[S]!==""&&(H+="="+encodeURIComponent(String(ue[S]))),c.push(H)}}return this.i=c.join("&")};function Fi(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function el(c,y){y&&!c.j&&(kn(c),c.i=null,c.g.forEach(function(_,S){var H=S.toLowerCase();S!=H&&(Da(this,S),Hi(this,H,_))},c)),c.j=y}function Gu(c,y){const _=new xr;if(d.Image){const S=new Image;S.onload=C(Mn,_,"TestLoadImage: loaded",!0,y,S),S.onerror=C(Mn,_,"TestLoadImage: error",!1,y,S),S.onabort=C(Mn,_,"TestLoadImage: abort",!1,y,S),S.ontimeout=C(Mn,_,"TestLoadImage: timeout",!1,y,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function Ms(c,y){const _=new xr,S=new AbortController,H=setTimeout(()=>{S.abort(),Mn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(K=>{clearTimeout(H),K.ok?Mn(_,"TestPingServer: ok",!0,y):Mn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(H),Mn(_,"TestPingServer: error",!1,y)})}function Mn(c,y,_,S,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),S(_)}catch{}}function Ps(){this.g=new nn}function fi(c,y,_){const S=_||"";try{Os(c,function(H,K){let ue=H;g(H)&&(ue=Fo(H)),y.push(S+K+"="+encodeURIComponent(ue))})}catch(H){throw y.push(S+"type="+encodeURIComponent("_badmap")),H}}function Pr(c){this.l=c.Ub||null,this.j=c.eb||!1}P(Pr,$o),Pr.prototype.g=function(){return new $i(this.l,this.j)},Pr.prototype.i=function(c){return function(){return c}}({});function $i(c,y){Tt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P($i,Tt),i=$i.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,mi(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,di(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,mi(this)),this.g&&(this.readyState=3,mi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;tl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function tl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?di(this):mi(this),this.readyState==3&&tl(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,di(this))},i.Qa=function(c){this.g&&(this.response=c,di(this))},i.ga=function(){this.g&&di(this)};function di(c){c.readyState=4,c.l=null,c.j=null,c.v=null,mi(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function mi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty($i.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function nl(c){let y="";return he(c,function(_,S){y+=S,y+=":",y+=_,y+=`\r
`}),y}function kt(c,y,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=nl(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Fe(c,y,_))}function Qe(c){Tt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(Qe,Tt);var ka=/^https?$/i,Vs=["POST","PUT"];i=Qe.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Cs.g(),this.v=this.o?ju(this.o):ju(Cs),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(K){Ku(this,K);return}if(c=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var H in S)_.set(H,S[H]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const K of S.keys())_.set(K,S.get(K));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(K=>K.toLowerCase()=="content-type"),H=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Vs,y,void 0))||S||H||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ue]of _)this.g.setRequestHeader(K,ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ls(this),this.u=!0,this.g.send(c),this.u=!1}catch(K){Ku(this,K)}};function Ku(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Ma(c),pi(c)}function Ma(c){c.A||(c.A=!0,Ot(c,"complete"),Ot(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ot(this,"complete"),Ot(this,"abort"),pi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pi(this,!0)),Qe.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Pa(this):this.bb())},i.bb=function(){Pa(this)};function Pa(c){if(c.h&&typeof h<"u"&&(!c.v[1]||Pn(c)!=4||c.Z()!=2)){if(c.u&&Pn(c)==4)Lu(c.Ea,0,c);else if(Ot(c,"readystatechange"),Pn(c)==4){c.h=!1;try{const ue=c.Z();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var S;if(S=ue===0){var H=String(c.D).match(Wo)[1]||null;!H&&d.self&&d.self.location&&(H=d.self.location.protocol.slice(0,-1)),S=!ka.test(H?H.toLowerCase():"")}_=S}if(_)Ot(c,"complete"),Ot(c,"success");else{c.m=6;try{var K=2<Pn(c)?c.g.statusText:""}catch{K=""}c.l=K+" ["+c.Z()+"]",Ma(c)}}finally{pi(c)}}}}function pi(c,y){if(c.g){Ls(c);const _=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Ot(c,"ready");try{_.onreadystatechange=S}catch{}}}function Ls(c){c.I&&(d.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Pn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Pn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),oi(y)}};function Qu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Bf(c){const y={};c=(c.g&&2<=Pn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(Z(c[S]))continue;var _=V(c[S]);const H=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const K=y[H]||[];y[H]=K,K.push(_)}M(y,function(S){return S.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function js(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function Va(c){this.Aa=0,this.i=[],this.j=new xr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=js("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=js("baseRetryDelayMs",5e3,c),this.cb=js("retryDelaySeedMs",1e4,c),this.Wa=js("forwardChannelMaxRetries",2,c),this.wa=js("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Yo(c&&c.concurrentRequestLimit),this.Da=new Ps,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Va.prototype,i.la=8,i.G=1,i.connect=function(c,y,_,S){pt(0),this.W=c,this.H=y||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=tc(this,null,this.W),ja(this)};function il(c){if(Yu(c),c.G==3){var y=c.U++,_=ht(c.I);if(Fe(_,"SID",c.K),Fe(_,"RID",y),Fe(_,"TYPE","terminate"),Us(c,_),y=new ci(c,c.j,y),y.L=2,y.v=ks(ht(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=y.v,_=!0),_||(y.g=nc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),at(y)}ec(c)}function La(c){c.g&&(zs(c),c.g.cancel(),c.g=null)}function Yu(c){La(c),c.u&&(d.clearTimeout(c.u),c.u=null),Ua(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function ja(c){if(!Xo(c.h)&&!c.s){c.s=!0;var y=c.Ga;de||D(),fe||(de(),fe=!0),xe.add(y,c),c.B=0}}function Hf(c,y){return Hu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ar(x(c.Ga,c,y),al(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const H=new ci(this,this.j,c);let K=this.o;if(this.S&&(K?(K=I(K),R(K,this.S)):K=this.S),this.m!==null||this.O||(H.H=K,K=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Xu(this,H,y),_=ht(this.I),Fe(_,"RID",c),Fe(_,"CVER",22),this.D&&Fe(_,"X-HTTP-Session-Id",this.D),Us(this,_),K&&(this.O?y="headers="+encodeURIComponent(String(nl(K)))+"&"+y:this.m&&kt(_,this.m,K)),Dr(this.h,H),this.Ua&&Fe(_,"TYPE","init"),this.P?(Fe(_,"$req",y),Fe(_,"SID","null"),H.T=!0,Jn(H,_,null)):Jn(H,_,y),this.G=2}}else this.G==3&&(c?rl(this,c):this.i.length==0||Xo(this.h)||rl(this))};function rl(c,y){var _;y?_=y.l:_=c.U++;const S=ht(c.I);Fe(S,"SID",c.K),Fe(S,"RID",_),Fe(S,"AID",c.T),Us(c,S),c.m&&c.o&&kt(S,c.m,c.o),_=new ci(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Xu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Dr(c.h,_),Jn(_,S,y)}function Us(c,y){c.H&&he(c.H,function(_,S){Fe(y,S,_)}),c.l&&Os({},function(_,S){Fe(y,S,_)})}function Xu(c,y,_){_=Math.min(c.i.length,_);var S=c.l?x(c.l.Na,c.l,c):null;e:{var H=c.i;let K=-1;for(;;){const ue=["count="+_];K==-1?0<_?(K=H[0].g,ue.push("ofs="+K)):K=0:ue.push("ofs="+K);let ze=!0;for(let St=0;St<_;St++){let qe=H[St].g;const Mt=H[St].map;if(qe-=K,0>qe)K=Math.max(0,H[St].g-100),ze=!1;else try{fi(Mt,ue,"req"+qe+"_")}catch{S&&S(Mt)}}if(ze){S=ue.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,S}function Wu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;de||D(),fe||(de(),fe=!0),xe.add(y,c),c.v=0}}function sl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ar(x(c.Fa,c),al(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,Zu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ar(x(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pt(10),La(this),Zu(this))};function zs(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function Zu(c){c.g=new ci(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=ht(c.qa);Fe(y,"RID","rpc"),Fe(y,"SID",c.K),Fe(y,"AID",c.T),Fe(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Fe(y,"TO",c.ja),Fe(y,"TYPE","xmlhttp"),Us(c,y),c.m&&c.o&&kt(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=ks(ht(y)),_.m=null,_.P=!0,zi(_,c)}i.Za=function(){this.C!=null&&(this.C=null,La(this),sl(this),pt(19))};function Ua(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Ju(c,y){var _=null;if(c.g==y){Ua(c),zs(c),c.g=null;var S=2}else if(Or(c.h,y))_=y.D,On(c.h,y),S=1;else return;if(c.G!=0){if(y.o)if(S==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var H=c.B;S=xa(),Ot(S,new zu(S,_)),ja(c)}else Wu(c);else if(H=y.s,H==3||H==0&&0<y.X||!(S==1&&Hf(c,y)||S==2&&sl(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),H){case 1:Gi(c,5);break;case 4:Gi(c,10);break;case 3:Gi(c,6);break;default:Gi(c,2)}}}function al(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Gi(c,y){if(c.j.info("Error code "+y),y==2){var _=x(c.fb,c),S=c.Xa;const H=!S;S=new qi(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||kr(S,"https"),ks(S),H?Gu(S.toString(),_):Ms(S.toString(),_)}else pt(2);c.G=0,c.l&&c.l.sa(y),ec(c),Yu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function ec(c){if(c.G=0,c.ka=[],c.l){const y=rn(c.h);(y.length!=0||c.i.length!=0)&&(j(c.ka,y),j(c.ka,c.i),c.h.i.length=0,$(c.i),c.i.length=0),c.l.ra()}}function tc(c,y,_){var S=_ instanceof qi?ht(_):new qi(_);if(S.g!="")y&&(S.g=y+"."+S.g),Ds(S,S.s);else{var H=d.location;S=H.protocol,y=y?y+"."+H.hostname:H.hostname,H=+H.port;var K=new qi(null);S&&kr(K,S),y&&(K.g=y),H&&Ds(K,H),_&&(K.l=_),S=K}return _=c.D,y=c.ya,_&&y&&Fe(S,_,y),Fe(S,"VER",c.la),Us(c,S),S}function nc(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Qe(new Pr({eb:_})):new Qe(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function ic(){}i=ic.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function za(){}za.prototype.g=function(c,y){return new sn(c,y)};function sn(c,y){Tt.call(this),this.g=new Va(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!Z(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!Z(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new gi(this)}P(sn,Tt),sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){il(this.g)},sn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Fo(c),c=_);y.i.push(new Lf(y.Ya++,c)),y.G==3&&ja(y)},sn.prototype.N=function(){this.g.l=null,delete this.j,il(this.g),delete this.g,sn.aa.N.call(this)};function rc(c){Tr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}P(rc,Tr);function sc(){Zn.call(this),this.status=1}P(sc,Zn);function gi(c){this.g=c}P(gi,ic),gi.prototype.ua=function(){Ot(this.g,"a")},gi.prototype.ta=function(c){Ot(this.g,new rc(c))},gi.prototype.sa=function(c){Ot(this.g,new sc)},gi.prototype.ra=function(){Ot(this.g,"b")},za.prototype.createWebChannel=za.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,x1=function(){return new za},A1=function(){return xa()},S1=Nn,vp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},wt.NO_ERROR=0,wt.TIMEOUT=8,wt.HTTP_ERROR=6,ph=wt,Ui.COMPLETE="complete",w1=Ui,Uu.EventType=li,li.OPEN="a",li.CLOSE="b",li.ERROR="c",li.MESSAGE="d",Tt.prototype.listen=Tt.prototype.K,eu=Uu,Qe.prototype.listenOnce=Qe.prototype.L,Qe.prototype.getLastError=Qe.prototype.Ka,Qe.prototype.getLastErrorCode=Qe.prototype.Ba,Qe.prototype.getStatus=Qe.prototype.Z,Qe.prototype.getResponseJson=Qe.prototype.Oa,Qe.prototype.getResponseText=Qe.prototype.oa,Qe.prototype.send=Qe.prototype.ea,Qe.prototype.setWithCredentials=Qe.prototype.Ha,T1=Qe}).apply(typeof rh<"u"?rh:typeof self<"u"?self:typeof window<"u"?window:{});const z_="@firebase/firestore",q_="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lo="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa=new sf("@firebase/firestore");function po(){return fa.logLevel}function me(i,...e){if(fa.logLevel<=Pe.DEBUG){const t=e.map(tg);fa.debug(`Firestore (${Lo}): ${i}`,...t)}}function mr(i,...e){if(fa.logLevel<=Pe.ERROR){const t=e.map(tg);fa.error(`Firestore (${Lo}): ${i}`,...t)}}function Ro(i,...e){if(fa.logLevel<=Pe.WARN){const t=e.map(tg);fa.warn(`Firestore (${Lo}): ${i}`,...t)}}function tg(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(i="Unexpected state"){const e=`FIRESTORE (${Lo}) INTERNAL ASSERTION FAILED: `+i;throw mr(e),new Error(e)}function Ye(i,e){i||Ae()}function Ce(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends Wn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class AC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Zt.UNAUTHENTICATED))}shutdown(){}}class xC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class RC{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ye(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let l=new fs;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new fs,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},d=p=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new fs)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ye(typeof s.accessToken=="string"),new R1(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string"),new Zt(e)}}class IC{constructor(e,t,s){this.l=e,this.h=t,this.P=s,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class CC{constructor(e,t,s){this.l=e,this.h=t,this.P=s}getToken(){return Promise.resolve(new IC(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class B_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class NC{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,pn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Ye(this.o===void 0);const s=l=>{l.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.R;return this.R=l.token,me("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>s(l))};const o=l=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new B_(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ye(typeof t.token=="string"),this.R=t.token,new B_(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OC(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=OC(40);for(let l=0;l<o.length;++l)s.length<20&&o[l]<t&&(s+=e.charAt(o[l]%62))}return s}}function Ue(i,e){return i<e?-1:i>e?1:0}function Io(i,e,t){return i.length===e.length&&i.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_=-62135596800,F_=1e6;class Ct{static now(){return Ct.fromMillis(Date.now())}static fromDate(e){return Ct.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*F_);return new Ct(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new _e(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new _e(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<H_)throw new _e(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/F_}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-H_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new Ct(0,0))}static max(){return new Re(new Ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_="__name__";class wi{constructor(e,t,s){t===void 0?t=0:t>e.length&&Ae(),s===void 0?s=e.length-t:s>e.length-t&&Ae(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return wi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof wi?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const l=wi.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return Math.sign(e.length-t.length)}static compareSegments(e,t){const s=wi.isNumericId(e),o=wi.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?wi.extractNumericId(e).compare(wi.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return hs.fromString(e.substring(4,e.length-2))}}class st extends wi{construct(e,t,s){return new st(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new _e(oe.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new st(t)}static emptyPath(){return new st([])}}const DC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ft extends wi{construct(e,t,s){return new Ft(e,t,s)}static isValidIdentifier(e){return DC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===$_}static keyField(){return new Ft([$_])}static fromServerFormat(e){const t=[];let s="",o=0;const l=()=>{if(s.length===0)throw new _e(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new _e(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new _e(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else d==="`"?(h=!h,o++):d!=="."||h?(s+=d,o++):(l(),o++)}if(l(),h)throw new _e(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ft(t)}static emptyPath(){return new Ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.path=e}static fromPath(e){return new Te(st.fromString(e))}static fromName(e){return new Te(st.fromString(e).popFirst(5))}static empty(){return new Te(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return st.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new st(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const du=-1;function kC(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Re.fromTimestamp(s===1e9?new Ct(t+1,0):new Ct(t,s));return new gs(o,Te.empty(),e)}function MC(i){return new gs(i.readTime,i.key,du)}class gs{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new gs(Re.min(),Te.empty(),du)}static max(){return new gs(Re.max(),Te.empty(),du)}}function PC(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=Te.comparator(i.documentKey,e.documentKey),t!==0?t:Ue(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class LC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jo(i){if(i.code!==oe.FAILED_PRECONDITION||i.message!==VC)throw i;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new te((s,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof te?t:te.resolve(t)}catch(t){return te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):te.reject(t)}static resolve(e){return new te((t,s)=>{t(e)})}static reject(e){return new te((t,s)=>{s(e)})}static waitFor(e){return new te((t,s)=>{let o=0,l=0,h=!1;e.forEach(d=>{++o,d.next(()=>{++l,h&&l===o&&t()},p=>s(p))}),h=!0,l===o&&t()})}static or(e){let t=te.resolve(!1);for(const s of e)t=t.next(o=>o?te.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,l)=>{s.push(t.call(this,o,l))}),this.waitFor(s)}static mapArray(e,t){return new te((s,o)=>{const l=e.length,h=new Array(l);let d=0;for(let p=0;p<l;p++){const g=p;t(e[g]).next(b=>{h[g]=b,++d,d===l&&s(h)},b=>o(b))}})}static doWhile(e,t){return new te((s,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):s()};l()})}}function jC(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Uo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.oe(s),this._e=s=>t.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}uf.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ng=-1;function cf(i){return i==null}function Dh(i){return i===0&&1/i==-1/0}function UC(i){return typeof i=="number"&&Number.isInteger(i)&&!Dh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1="";function zC(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=G_(e)),e=qC(i.get(t),e);return G_(e)}function qC(i,e){let t=e;const s=i.length;for(let o=0;o<s;o++){const l=i.charAt(o);switch(l){case"\0":t+="";break;case C1:t+="";break;default:t+=l}}return t}function G_(i){return i+C1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K_(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function Ss(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function N1(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,t){this.comparator=e,this.root=t||Ht.EMPTY}insert(e,t){return new ct(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ht.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ht.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sh(this.root,e,this.comparator,!1)}getReverseIterator(){return new sh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sh(this.root,e,this.comparator,!0)}}class sh{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ht{constructor(e,t,s,o,l){this.key=e,this.value=t,this.color=s??Ht.RED,this.left=o??Ht.EMPTY,this.right=l??Ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,l){return new Ht(e??this.key,t??this.value,s??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const l=s(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,s),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Ht.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ae();const e=this.left.check();if(e!==this.right.check())throw Ae();return e+(this.isRed()?0:1)}}Ht.EMPTY=null,Ht.RED=!0,Ht.BLACK=!1;Ht.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae()}get value(){throw Ae()}get color(){throw Ae()}get left(){throw Ae()}get right(){throw Ae()}copy(e,t,s,o,l){return this}insert(e,t,s){return new Ht(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Q_(this.data.getIterator())}getIteratorFrom(e){return new Q_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Nt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Nt(this.comparator);return t.data=e,t}}class Q_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.fields=e,e.sort(Ft.comparator)}static empty(){return new xn([])}unionWith(e){let t=new Nt(Ft.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new xn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Io(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new O1("Invalid base64 string: "+l):l}}(e);return new $t(t)}static fromUint8Array(e){const t=function(o){let l="";for(let h=0;h<o.length;++h)l+=String.fromCharCode(o[h]);return l}(e);return new $t(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const BC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ys(i){if(Ye(!!i),typeof i=="string"){let e=0;const t=BC.exec(i);if(Ye(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:yt(i.seconds),nanos:yt(i.nanos)}}function yt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function vs(i){return typeof i=="string"?$t.fromBase64String(i):$t.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1="server_timestamp",k1="__type__",M1="__previous_value__",P1="__local_write_time__";function ig(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[k1])===null||t===void 0?void 0:t.stringValue)===D1}function hf(i){const e=i.mapValue.fields[M1];return ig(e)?hf(e):e}function mu(i){const e=ys(i.mapValue.fields[P1].timestampValue);return new Ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(e,t,s,o,l,h,d,p,g){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g}}const kh="(default)";class pu{constructor(e,t){this.projectId=e,this.database=t||kh}static empty(){return new pu("","")}get isDefaultDatabase(){return this.database===kh}isEqual(e){return e instanceof pu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1="__type__",FC="__max__",ah={mapValue:{}},L1="__vector__",Mh="value";function _s(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?ig(i)?4:GC(i)?9007199254740991:$C(i)?10:11:Ae()}function Oi(i,e){if(i===e)return!0;const t=_s(i);if(t!==_s(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return mu(i).isEqual(mu(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const h=ys(o.timestampValue),d=ys(l.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,l){return vs(o.bytesValue).isEqual(vs(l.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,l){return yt(o.geoPointValue.latitude)===yt(l.geoPointValue.latitude)&&yt(o.geoPointValue.longitude)===yt(l.geoPointValue.longitude)}(i,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return yt(o.integerValue)===yt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const h=yt(o.doubleValue),d=yt(l.doubleValue);return h===d?Dh(h)===Dh(d):isNaN(h)&&isNaN(d)}return!1}(i,e);case 9:return Io(i.arrayValue.values||[],e.arrayValue.values||[],Oi);case 10:case 11:return function(o,l){const h=o.mapValue.fields||{},d=l.mapValue.fields||{};if(K_(h)!==K_(d))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(d[p]===void 0||!Oi(h[p],d[p])))return!1;return!0}(i,e);default:return Ae()}}function gu(i,e){return(i.values||[]).find(t=>Oi(t,e))!==void 0}function Co(i,e){if(i===e)return 0;const t=_s(i),s=_s(e);if(t!==s)return Ue(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ue(i.booleanValue,e.booleanValue);case 2:return function(l,h){const d=yt(l.integerValue||l.doubleValue),p=yt(h.integerValue||h.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(i,e);case 3:return Y_(i.timestampValue,e.timestampValue);case 4:return Y_(mu(i),mu(e));case 5:return Ue(i.stringValue,e.stringValue);case 6:return function(l,h){const d=vs(l),p=vs(h);return d.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(l,h){const d=l.split("/"),p=h.split("/");for(let g=0;g<d.length&&g<p.length;g++){const b=Ue(d[g],p[g]);if(b!==0)return b}return Ue(d.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(l,h){const d=Ue(yt(l.latitude),yt(h.latitude));return d!==0?d:Ue(yt(l.longitude),yt(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return X_(i.arrayValue,e.arrayValue);case 10:return function(l,h){var d,p,g,b;const w=l.fields||{},x=h.fields||{},C=(d=w[Mh])===null||d===void 0?void 0:d.arrayValue,P=(p=x[Mh])===null||p===void 0?void 0:p.arrayValue,$=Ue(((g=C==null?void 0:C.values)===null||g===void 0?void 0:g.length)||0,((b=P==null?void 0:P.values)===null||b===void 0?void 0:b.length)||0);return $!==0?$:X_(C,P)}(i.mapValue,e.mapValue);case 11:return function(l,h){if(l===ah.mapValue&&h===ah.mapValue)return 0;if(l===ah.mapValue)return 1;if(h===ah.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),g=h.fields||{},b=Object.keys(g);p.sort(),b.sort();for(let w=0;w<p.length&&w<b.length;++w){const x=Ue(p[w],b[w]);if(x!==0)return x;const C=Co(d[p[w]],g[b[w]]);if(C!==0)return C}return Ue(p.length,b.length)}(i.mapValue,e.mapValue);default:throw Ae()}}function Y_(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ue(i,e);const t=ys(i),s=ys(e),o=Ue(t.seconds,s.seconds);return o!==0?o:Ue(t.nanos,s.nanos)}function X_(i,e){const t=i.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const l=Co(t[o],s[o]);if(l)return l}return Ue(t.length,s.length)}function No(i){return _p(i)}function _p(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(t){const s=ys(t);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(t){return vs(t).toBase64()}(i.bytesValue):"referenceValue"in i?function(t){return Te.fromName(t).toString()}(i.referenceValue):"geoPointValue"in i?function(t){return`geo(${t.latitude},${t.longitude})`}(i.geoPointValue):"arrayValue"in i?function(t){let s="[",o=!0;for(const l of t.values||[])o?o=!1:s+=",",s+=_p(l);return s+"]"}(i.arrayValue):"mapValue"in i?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const h of s)l?l=!1:o+=",",o+=`${h}:${_p(t.fields[h])}`;return o+"}"}(i.mapValue):Ae()}function gh(i){switch(_s(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=hf(i);return e?16+gh(e):16;case 5:return 2*i.stringValue.length;case 6:return vs(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,l)=>o+gh(l),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return Ss(s.fields,(l,h)=>{o+=l.length+gh(h)}),o}(i.mapValue);default:throw Ae()}}function Ep(i){return!!i&&"integerValue"in i}function rg(i){return!!i&&"arrayValue"in i}function W_(i){return!!i&&"nullValue"in i}function Z_(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function yh(i){return!!i&&"mapValue"in i}function $C(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[V1])===null||t===void 0?void 0:t.stringValue)===L1}function su(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Ss(i.mapValue.fields,(t,s)=>e.mapValue.fields[t]=su(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=su(i.arrayValue.values[t]);return e}return Object.assign({},i)}function GC(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===FC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.value=e}static empty(){return new gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!yh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=su(t)}setAll(e){let t=Ft.emptyPath(),s={},o=[];e.forEach((h,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=d.popLast()}h?s[d.lastSegment()]=su(h):o.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,s,o)}delete(e){const t=this.field(e.popLast());yh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Oi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];yh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){Ss(t,(o,l)=>e[o]=l);for(const o of s)delete e[o]}clone(){return new gn(su(this.value))}}function j1(i){const e=[];return Ss(i.fields,(t,s)=>{const o=new Ft([t]);if(yh(s)){const l=j1(s.mapValue).fields;if(l.length===0)e.push(o);else for(const h of l)e.push(o.child(h))}else e.push(o)}),new xn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e,t,s,o,l,h,d){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=l,this.data=h,this.documentState=d}static newInvalidDocument(e){return new Jt(e,0,Re.min(),Re.min(),Re.min(),gn.empty(),0)}static newFoundDocument(e,t,s,o){return new Jt(e,1,t,Re.min(),s,o,0)}static newNoDocument(e,t){return new Jt(e,2,t,Re.min(),Re.min(),gn.empty(),0)}static newUnknownDocument(e,t){return new Jt(e,3,t,Re.min(),Re.min(),gn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,t){this.position=e,this.inclusive=t}}function J_(i,e,t){let s=0;for(let o=0;o<i.position.length;o++){const l=e[o],h=i.position[o];if(l.field.isKeyField()?s=Te.comparator(Te.fromName(h.referenceValue),t.key):s=Co(h,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function eE(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Oi(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,t="asc"){this.field=e,this.dir=t}}function KC(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{}class It extends U1{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new YC(e,t,s):t==="array-contains"?new ZC(e,s):t==="in"?new JC(e,s):t==="not-in"?new eN(e,s):t==="array-contains-any"?new tN(e,s):new It(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new XC(e,s):new WC(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Co(t,this.value)):t!==null&&_s(this.value)===_s(t)&&this.matchesComparison(Co(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Di extends U1{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Di(e,t)}matches(e){return z1(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function z1(i){return i.op==="and"}function q1(i){return QC(i)&&z1(i)}function QC(i){for(const e of i.filters)if(e instanceof Di)return!1;return!0}function bp(i){if(i instanceof It)return i.field.canonicalString()+i.op.toString()+No(i.value);if(q1(i))return i.filters.map(e=>bp(e)).join(",");{const e=i.filters.map(t=>bp(t)).join(",");return`${i.op}(${e})`}}function B1(i,e){return i instanceof It?function(s,o){return o instanceof It&&s.op===o.op&&s.field.isEqual(o.field)&&Oi(s.value,o.value)}(i,e):i instanceof Di?function(s,o){return o instanceof Di&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((l,h,d)=>l&&B1(h,o.filters[d]),!0):!1}(i,e):void Ae()}function H1(i){return i instanceof It?function(t){return`${t.field.canonicalString()} ${t.op} ${No(t.value)}`}(i):i instanceof Di?function(t){return t.op.toString()+" {"+t.getFilters().map(H1).join(" ,")+"}"}(i):"Filter"}class YC extends It{constructor(e,t,s){super(e,t,s),this.key=Te.fromName(s.referenceValue)}matches(e){const t=Te.comparator(e.key,this.key);return this.matchesComparison(t)}}class XC extends It{constructor(e,t){super(e,"in",t),this.keys=F1("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class WC extends It{constructor(e,t){super(e,"not-in",t),this.keys=F1("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function F1(i,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>Te.fromName(s.referenceValue))}class ZC extends It{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return rg(t)&&gu(t.arrayValue,this.value)}}class JC extends It{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&gu(this.value.arrayValue,t)}}class eN extends It{constructor(e,t){super(e,"not-in",t)}matches(e){if(gu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!gu(this.value.arrayValue,t)}}class tN extends It{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!rg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>gu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e,t=null,s=[],o=[],l=null,h=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=l,this.startAt=h,this.endAt=d,this.le=null}}function tE(i,e=null,t=[],s=[],o=null,l=null,h=null){return new nN(i,e,t,s,o,l,h)}function sg(i){const e=Ce(i);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>bp(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(l){return l.field.canonicalString()+l.dir}(s)).join(","),cf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>No(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>No(s)).join(",")),e.le=t}return e.le}function ag(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!KC(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!B1(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!eE(i.startAt,e.startAt)&&eE(i.endAt,e.endAt)}function Tp(i){return Te.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e,t=null,s=[],o=[],l=null,h="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=l,this.limitType=h,this.startAt=d,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function iN(i,e,t,s,o,l,h,d){return new ff(i,e,t,s,o,l,h,d)}function df(i){return new ff(i)}function nE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function rN(i){return i.collectionGroup!==null}function au(i){const e=Ce(i);if(e.he===null){e.he=[];const t=new Set;for(const l of e.explicitOrderBy)e.he.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new Nt(Ft.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.he.push(new Vh(l,s))}),t.has(Ft.keyField().canonicalString())||e.he.push(new Vh(Ft.keyField(),s))}return e.he}function Si(i){const e=Ce(i);return e.Pe||(e.Pe=sN(e,au(i))),e.Pe}function sN(i,e){if(i.limitType==="F")return tE(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new Vh(o.field,l)});const t=i.endAt?new Ph(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Ph(i.startAt.position,i.startAt.inclusive):null;return tE(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function wp(i,e,t){return new ff(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function mf(i,e){return ag(Si(i),Si(e))&&i.limitType===e.limitType}function $1(i){return`${sg(Si(i))}|lt:${i.limitType}`}function go(i){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>H1(o)).join(", ")}]`),cf(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>No(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>No(o)).join(",")),`Target(${s})`}(Si(i))}; limitType=${i.limitType})`}function pf(i,e){return e.isFoundDocument()&&function(s,o){const l=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):Te.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)}(i,e)&&function(s,o){for(const l of au(s))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const l of s.filters)if(!l.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(h,d,p){const g=J_(h,d,p);return h.inclusive?g<=0:g<0}(s.startAt,au(s),o)||s.endAt&&!function(h,d,p){const g=J_(h,d,p);return h.inclusive?g>=0:g>0}(s.endAt,au(s),o))}(i,e)}function aN(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function G1(i){return(e,t)=>{let s=!1;for(const o of au(i)){const l=oN(o,e,t);if(l!==0)return l;s=s||o.field.isKeyField()}return 0}}function oN(i,e,t){const s=i.field.isKeyField()?Te.comparator(e.key,t.key):function(l,h,d){const p=h.data.field(l),g=d.data.field(l);return p!==null&&g!==null?Co(p,g):Ae()}(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Ae()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,l]of s)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ss(this.inner,(t,s)=>{for(const[o,l]of s)e(o,l)})}isEmpty(){return N1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN=new ct(Te.comparator);function pr(){return lN}const K1=new ct(Te.comparator);function tu(...i){let e=K1;for(const t of i)e=e.insert(t.key,t);return e}function Q1(i){let e=K1;return i.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function la(){return ou()}function Y1(){return ou()}function ou(){return new Ea(i=>i.toString(),(i,e)=>i.isEqual(e))}const uN=new ct(Te.comparator),cN=new Nt(Te.comparator);function Ve(...i){let e=cN;for(const t of i)e=e.add(t);return e}const hN=new Nt(Ue);function fN(){return hN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function og(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dh(e)?"-0":e}}function X1(i){return{integerValue:""+i}}function dN(i,e){return UC(e)?X1(e):og(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(){this._=void 0}}function mN(i,e,t){return i instanceof yu?function(o,l){const h={fields:{[k1]:{stringValue:D1},[P1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&ig(l)&&(l=hf(l)),l&&(h.fields[M1]=l),{mapValue:h}}(t,e):i instanceof Oo?Z1(i,e):i instanceof vu?J1(i,e):function(o,l){const h=W1(o,l),d=iE(h)+iE(o.Ie);return Ep(h)&&Ep(o.Ie)?X1(d):og(o.serializer,d)}(i,e)}function pN(i,e,t){return i instanceof Oo?Z1(i,e):i instanceof vu?J1(i,e):t}function W1(i,e){return i instanceof Lh?function(s){return Ep(s)||function(l){return!!l&&"doubleValue"in l}(s)}(e)?e:{integerValue:0}:null}class yu extends gf{}class Oo extends gf{constructor(e){super(),this.elements=e}}function Z1(i,e){const t=eT(e);for(const s of i.elements)t.some(o=>Oi(o,s))||t.push(s);return{arrayValue:{values:t}}}class vu extends gf{constructor(e){super(),this.elements=e}}function J1(i,e){let t=eT(e);for(const s of i.elements)t=t.filter(o=>!Oi(o,s));return{arrayValue:{values:t}}}class Lh extends gf{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function iE(i){return yt(i.integerValue||i.doubleValue)}function eT(i){return rg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(e,t){this.field=e,this.transform=t}}function gN(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof Oo&&o instanceof Oo||s instanceof vu&&o instanceof vu?Io(s.elements,o.elements,Oi):s instanceof Lh&&o instanceof Lh?Oi(s.Ie,o.Ie):s instanceof yu&&o instanceof yu}(i.transform,e.transform)}class yN{constructor(e,t){this.version=e,this.transformResults=t}}class Qn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Qn}static exists(e){return new Qn(void 0,e)}static updateTime(e){return new Qn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class yf{}function nT(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new lg(i.key,Qn.none()):new Au(i.key,i.data,Qn.none());{const t=i.data,s=gn.empty();let o=new Nt(Ft.comparator);for(let l of e.fields)if(!o.has(l)){let h=t.field(l);h===null&&l.length>1&&(l=l.popLast(),h=t.field(l)),h===null?s.delete(l):s.set(l,h),o=o.add(l)}return new As(i.key,s,new xn(o.toArray()),Qn.none())}}function vN(i,e,t){i instanceof Au?function(o,l,h){const d=o.value.clone(),p=sE(o.fieldTransforms,l,h.transformResults);d.setAll(p),l.convertToFoundDocument(h.version,d).setHasCommittedMutations()}(i,e,t):i instanceof As?function(o,l,h){if(!vh(o.precondition,l))return void l.convertToUnknownDocument(h.version);const d=sE(o.fieldTransforms,l,h.transformResults),p=l.data;p.setAll(iT(o)),p.setAll(d),l.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(i,e,t):function(o,l,h){l.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function lu(i,e,t,s){return i instanceof Au?function(l,h,d,p){if(!vh(l.precondition,h))return d;const g=l.value.clone(),b=aE(l.fieldTransforms,p,h);return g.setAll(b),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(i,e,t,s):i instanceof As?function(l,h,d,p){if(!vh(l.precondition,h))return d;const g=aE(l.fieldTransforms,p,h),b=h.data;return b.setAll(iT(l)),b.setAll(g),h.convertToFoundDocument(h.version,b).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(w=>w.field))}(i,e,t,s):function(l,h,d){return vh(l.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d}(i,e,t)}function _N(i,e){let t=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),l=W1(s.transform,o||null);l!=null&&(t===null&&(t=gn.empty()),t.set(s.field,l))}return t||null}function rE(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Io(s,o,(l,h)=>gN(l,h))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Au extends yf{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class As extends yf{constructor(e,t,s,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function iT(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}}),e}function sE(i,e,t){const s=new Map;Ye(i.length===t.length);for(let o=0;o<t.length;o++){const l=i[o],h=l.transform,d=e.data.field(l.field);s.set(l.field,pN(h,d,t[o]))}return s}function aE(i,e,t){const s=new Map;for(const o of i){const l=o.transform,h=t.data.field(o.field);s.set(o.field,mN(l,h,e))}return s}class lg extends yf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class EN extends yf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&vN(l,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=lu(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=lu(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Y1();return this.mutations.forEach(o=>{const l=e.get(o.key),h=l.overlayedDocument;let d=this.applyToLocalView(h,l.mutatedFields);d=t.has(o.key)?null:d;const p=nT(h,d);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Re.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ve())}isEqual(e){return this.batchId===e.batchId&&Io(this.mutations,e.mutations,(t,s)=>rE(t,s))&&Io(this.baseMutations,e.baseMutations,(t,s)=>rE(t,s))}}class ug{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Ye(e.mutations.length===s.length);let o=function(){return uN}();const l=e.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,s[h].version);return new ug(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bt,He;function SN(i){switch(i){case oe.OK:return Ae();case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return Ae()}}function rT(i){if(i===void 0)return mr("GRPC error has no .code"),oe.UNKNOWN;switch(i){case bt.OK:return oe.OK;case bt.CANCELLED:return oe.CANCELLED;case bt.UNKNOWN:return oe.UNKNOWN;case bt.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case bt.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case bt.INTERNAL:return oe.INTERNAL;case bt.UNAVAILABLE:return oe.UNAVAILABLE;case bt.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case bt.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case bt.NOT_FOUND:return oe.NOT_FOUND;case bt.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case bt.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case bt.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case bt.ABORTED:return oe.ABORTED;case bt.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case bt.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case bt.DATA_LOSS:return oe.DATA_LOSS;default:return Ae()}}(He=bt||(bt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN=new hs([4294967295,4294967295],0);function oE(i){const e=AN().encode(i),t=new b1;return t.update(e),new Uint8Array(t.digest())}function lE(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new hs([t,s],0),new hs([o,l],0)]}class cg{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new nu(`Invalid padding: ${t}`);if(s<0)throw new nu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new nu(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new nu(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=hs.fromNumber(this.Ee)}Ae(e,t,s){let o=e.add(t.multiply(hs.fromNumber(s)));return o.compare(xN)===1&&(o=new hs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=oE(e),[s,o]=lE(t);for(let l=0;l<this.hashCount;l++){const h=this.Ae(s,o,l);if(!this.Re(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),h=new cg(l,o,t);return s.forEach(d=>h.insert(d)),h}insert(e){if(this.Ee===0)return;const t=oE(e),[s,o]=lE(t);for(let l=0;l<this.hashCount;l++){const h=this.Ae(s,o,l);this.Ve(h)}}Ve(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class nu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e,t,s,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,xu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new vf(Re.min(),o,new ct(Ue),pr(),Ve())}}class xu{constructor(e,t,s,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new xu(s,t,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,t,s,o){this.me=e,this.removedTargetIds=t,this.key=s,this.fe=o}}class sT{constructor(e,t){this.targetId=e,this.ge=t}}class aT{constructor(e,t,s=$t.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class uE{constructor(){this.pe=0,this.ye=cE(),this.we=$t.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Ve(),t=Ve(),s=Ve();return this.ye.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Ae()}}),new xu(this.we,this.Se,e,t,s)}Me(){this.be=!1,this.ye=cE()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ye(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class RN{constructor(e){this.ke=e,this.qe=new Map,this.Qe=pr(),this.$e=oh(),this.Ke=oh(),this.Ue=new ct(Ue)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const s=this.He(t);switch(e.state){case 0:this.Je(t)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(t);break;case 3:this.Je(t)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),s.Ce(e.resumeToken));break;default:Ae()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((s,o)=>{this.Je(o)&&t(o)})}Ze(e){const t=e.targetId,s=e.ge.count,o=this.Xe(t);if(o){const l=o.target;if(Tp(l))if(s===0){const h=new Te(l.path);this.ze(t,h,Jt.newNoDocument(h,Re.min()))}else Ye(s===1);else{const h=this.et(t);if(h!==s){const d=this.tt(e),p=d?this.nt(d,e,h):1;if(p!==0){this.Ye(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,g)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=t;let h,d;try{h=vs(s).toUint8Array()}catch(p){if(p instanceof O1)return Ro("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new cg(h,o,l)}catch(p){return Ro(p instanceof nu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.Ee===0?null:d}nt(e,t,s){return t.ge.count===s-this.st(e,t.targetId)?0:2}st(e,t){const s=this.ke.getRemoteKeysForTarget(t);let o=0;return s.forEach(l=>{const h=this.ke.it(),d=`projects/${h.projectId}/databases/${h.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.ze(t,l,null),o++)}),o}ot(e){const t=new Map;this.qe.forEach((l,h)=>{const d=this.Xe(h);if(d){if(l.current&&Tp(d.target)){const p=new Te(d.target.path);this._t(p).has(h)||this.ut(h,p)||this.ze(h,p,Jt.newNoDocument(p,e))}l.ve&&(t.set(h,l.Fe()),l.Me())}});let s=Ve();this.Ke.forEach((l,h)=>{let d=!0;h.forEachWhile(p=>{const g=this.Xe(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(s=s.add(l))}),this.Qe.forEach((l,h)=>h.setReadTime(e));const o=new vf(e,t,this.Ue,this.Qe,s);return this.Qe=pr(),this.$e=oh(),this.Ke=oh(),this.Ue=new ct(Ue),o}Ge(e,t){if(!this.Je(e))return;const s=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,s),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,t)?o.xe(t,1):o.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),s&&(this.Qe=this.Qe.insert(t,s))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new uE,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new Nt(Ue),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Nt(Ue),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||me("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new uE),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function oh(){return new ct(Te.comparator)}function cE(){return new ct(Te.comparator)}const IN={asc:"ASCENDING",desc:"DESCENDING"},CN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},NN={and:"AND",or:"OR"};class ON{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Sp(i,e){return i.useProto3Json||cf(e)?e:{value:e}}function jh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function oT(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function DN(i,e){return jh(i,e.toTimestamp())}function Ai(i){return Ye(!!i),Re.fromTimestamp(function(t){const s=ys(t);return new Ct(s.seconds,s.nanos)}(i))}function hg(i,e){return Ap(i,e).canonicalString()}function Ap(i,e){const t=function(o){return new st(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?t:t.child(e)}function lT(i){const e=st.fromString(i);return Ye(dT(e)),e}function xp(i,e){return hg(i.databaseId,e.path)}function Ym(i,e){const t=lT(e);if(t.get(1)!==i.databaseId.projectId)throw new _e(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new _e(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new Te(cT(t))}function uT(i,e){return hg(i.databaseId,e)}function kN(i){const e=lT(i);return e.length===4?st.emptyPath():cT(e)}function Rp(i){return new st(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function cT(i){return Ye(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function hE(i,e,t){return{name:xp(i,e),fields:t.value.mapValue.fields}}function MN(i,e){let t;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ae()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(g,b){return g.useProto3Json?(Ye(b===void 0||typeof b=="string"),$t.fromBase64String(b||"")):(Ye(b===void 0||b instanceof Buffer||b instanceof Uint8Array),$t.fromUint8Array(b||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,d=h&&function(g){const b=g.code===void 0?oe.UNKNOWN:rT(g.code);return new _e(b,g.message||"")}(h);t=new aT(s,o,l,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Ym(i,s.document.name),l=Ai(s.document.updateTime),h=s.document.createTime?Ai(s.document.createTime):Re.min(),d=new gn({mapValue:{fields:s.document.fields}}),p=Jt.newFoundDocument(o,l,h,d),g=s.targetIds||[],b=s.removedTargetIds||[];t=new _h(g,b,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Ym(i,s.document),l=s.readTime?Ai(s.readTime):Re.min(),h=Jt.newNoDocument(o,l),d=s.removedTargetIds||[];t=new _h([],d,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Ym(i,s.document),l=s.removedTargetIds||[];t=new _h([],l,o,null)}else{if(!("filter"in e))return Ae();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:l}=s,h=new wN(o,l),d=s.targetId;t=new sT(d,h)}}return t}function PN(i,e){let t;if(e instanceof Au)t={update:hE(i,e.key,e.value)};else if(e instanceof lg)t={delete:xp(i,e.key)};else if(e instanceof As)t={update:hE(i,e.key,e.data),updateMask:FN(e.fieldMask)};else{if(!(e instanceof EN))return Ae();t={verify:xp(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(l,h){const d=h.transform;if(d instanceof yu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Oo)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof vu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Lh)return{fieldPath:h.field.canonicalString(),increment:d.Ie};throw Ae()}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:DN(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ae()}(i,e.precondition)),t}function VN(i,e){return i&&i.length>0?(Ye(e!==void 0),i.map(t=>function(o,l){let h=o.updateTime?Ai(o.updateTime):Ai(l);return h.isEqual(Re.min())&&(h=Ai(l)),new yN(h,o.transformResults||[])}(t,e))):[]}function LN(i,e){return{documents:[uT(i,e.path)]}}function jN(i,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=uT(i,o);const l=function(g){if(g.length!==0)return fT(Di.create(g,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const h=function(g){if(g.length!==0)return g.map(b=>function(x){return{field:yo(x.field),direction:qN(x.dir)}}(b))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const d=Sp(i,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ht:t,parent:o}}function UN(i){let e=kN(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Ye(s===1);const b=t.from[0];b.allDescendants?o=b.collectionId:e=e.child(b.collectionId)}let l=[];t.where&&(l=function(w){const x=hT(w);return x instanceof Di&&q1(x)?x.getFilters():[x]}(t.where));let h=[];t.orderBy&&(h=function(w){return w.map(x=>function(P){return new Vh(vo(P.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(x))}(t.orderBy));let d=null;t.limit&&(d=function(w){let x;return x=typeof w=="object"?w.value:w,cf(x)?null:x}(t.limit));let p=null;t.startAt&&(p=function(w){const x=!!w.before,C=w.values||[];return new Ph(C,x)}(t.startAt));let g=null;return t.endAt&&(g=function(w){const x=!w.before,C=w.values||[];return new Ph(C,x)}(t.endAt)),iN(e,o,h,l,d,"F",p,g)}function zN(i,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function hT(i){return i.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=vo(t.unaryFilter.field);return It.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=vo(t.unaryFilter.field);return It.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=vo(t.unaryFilter.field);return It.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=vo(t.unaryFilter.field);return It.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Ae()}}(i):i.fieldFilter!==void 0?function(t){return It.create(vo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ae()}}(t.fieldFilter.op),t.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(t){return Di.create(t.compositeFilter.filters.map(s=>hT(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ae()}}(t.compositeFilter.op))}(i):Ae()}function qN(i){return IN[i]}function BN(i){return CN[i]}function HN(i){return NN[i]}function yo(i){return{fieldPath:i.canonicalString()}}function vo(i){return Ft.fromServerFormat(i.fieldPath)}function fT(i){return i instanceof It?function(t){if(t.op==="=="){if(Z_(t.value))return{unaryFilter:{field:yo(t.field),op:"IS_NAN"}};if(W_(t.value))return{unaryFilter:{field:yo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Z_(t.value))return{unaryFilter:{field:yo(t.field),op:"IS_NOT_NAN"}};if(W_(t.value))return{unaryFilter:{field:yo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yo(t.field),op:BN(t.op),value:t.value}}}(i):i instanceof Di?function(t){const s=t.getFilters().map(o=>fT(o));return s.length===1?s[0]:{compositeFilter:{op:HN(t.op),filters:s}}}(i):Ae()}function FN(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function dT(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e,t,s,o,l=Re.min(),h=Re.min(),d=$t.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new ls(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e){this.Tt=e}}function GN(i){const e=UN({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?wp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(){this.Tn=new QN}addToCollectionParentIndex(e,t){return this.Tn.add(t),te.resolve()}getCollectionParents(e,t){return te.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return te.resolve()}deleteFieldIndex(e,t){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,t){return te.resolve()}getDocumentsMatchingTarget(e,t){return te.resolve(null)}getIndexType(e,t){return te.resolve(0)}getFieldIndexes(e,t){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,t){return te.resolve(gs.min())}getMinOffsetFromCollectionGroup(e,t){return te.resolve(gs.min())}updateCollectionGroup(e,t,s){return te.resolve()}updateIndexEntries(e,t){return te.resolve()}}class QN{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Nt(st.comparator),l=!o.has(s);return this.index[t]=o.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Nt(st.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},mT=41943040;class mn{static withCacheSize(e){return new mn(e,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(mT,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Do(0)}static Un(){return new Do(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE="LruGarbageCollector",YN=1048576;function mE([i,e],[t,s]){const o=Ue(i,t);return o===0?Ue(e,s):o}class XN{constructor(e){this.Hn=e,this.buffer=new Nt(mE),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();mE(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class WN{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){me(dE,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Uo(t)?me(dE,"Ignoring IndexedDB error during garbage collection: ",t):await jo(t)}await this.er(3e5)})}}class ZN{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return te.resolve(uf.ae);const s=new XN(t);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.tr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(fE)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),fE):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let s,o,l,h,d,p,g;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,h=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(s=w,d=Date.now(),this.removeTargets(e,s,t))).next(w=>(l=w,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(w=>(g=Date.now(),po()<=Pe.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-b}ms
	Determined least recently used ${o} in `+(d-h)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${w} documents in `+(g-p)+`ms
Total Duration: ${g-b}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:w})))}}function JN(i,e){return new ZN(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(){this.changes=new Ea(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?te.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&lu(s.mutation,o,xn.empty(),Ct.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Ve()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Ve()){const o=la();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(l=>{let h=tu();return l.forEach((d,p)=>{h=h.insert(d,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=la();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Ve()))}populateOverlays(e,t,s){const o=[];return s.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((h,d)=>{t.set(h,d)})})}computeViews(e,t,s,o){let l=pr();const h=ou(),d=function(){return ou()}();return t.forEach((p,g)=>{const b=s.get(g.key);o.has(g.key)&&(b===void 0||b.mutation instanceof As)?l=l.insert(g.key,g):b!==void 0?(h.set(g.key,b.mutation.getFieldMask()),lu(b.mutation,g,b.mutation.getFieldMask(),Ct.now())):h.set(g.key,xn.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((g,b)=>h.set(g,b)),t.forEach((g,b)=>{var w;return d.set(g,new t4(b,(w=h.get(g))!==null&&w!==void 0?w:null))}),d))}recalculateAndSaveOverlays(e,t){const s=ou();let o=new ct((h,d)=>h-d),l=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const d of h)d.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let b=s.get(p)||xn.empty();b=d.applyToLocalView(g,b),s.set(p,b);const w=(o.get(d.batchId)||Ve()).add(p);o=o.insert(d.batchId,w)})}).next(()=>{const h=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,b=p.value,w=Y1();b.forEach(x=>{if(!l.has(x)){const C=nT(t.get(x),s.get(x));C!==null&&w.set(x,C),l=l.add(x)}}),h.push(this.documentOverlayCache.saveOverlays(e,g,w))}return te.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(h){return Te.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):rN(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(l=>{const h=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-l.size):te.resolve(la());let d=du,p=l;return h.next(g=>te.forEach(g,(b,w)=>(d<w.largestBatchId&&(d=w.largestBatchId),l.get(b)?te.resolve():this.remoteDocumentCache.getEntry(e,b).next(x=>{p=p.insert(b,x)}))).next(()=>this.populateOverlays(e,g,l)).next(()=>this.computeViews(e,p,g,Ve())).next(b=>({batchId:d,changes:Q1(b)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Te(t)).next(s=>{let o=tu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const l=t.collectionGroup;let h=tu();return this.indexManager.getCollectionParents(e,l).next(d=>te.forEach(d,p=>{const g=function(w,x){return new ff(x,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(b=>{b.forEach((w,x)=>{h=h.insert(w,x)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(l=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,o))).next(h=>{l.forEach((p,g)=>{const b=g.getKey();h.get(b)===null&&(h=h.insert(b,Jt.newInvalidDocument(b)))});let d=tu();return h.forEach((p,g)=>{const b=l.get(p);b!==void 0&&lu(b.mutation,g,xn.empty(),Ct.now()),pf(t,g)&&(d=d.insert(p,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return te.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Ai(o.createTime)}}(t)),te.resolve()}getNamedQuery(e,t){return te.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(o){return{name:o.name,query:GN(o.bundledQuery),readTime:Ai(o.readTime)}}(t)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(){this.overlays=new ct(Te.comparator),this.Rr=new Map}getOverlay(e,t){return te.resolve(this.overlays.get(t))}getOverlays(e,t){const s=la();return te.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&s.set(o,l)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,l)=>{this.Et(e,t,l)}),te.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(s)),te.resolve()}getOverlaysForCollection(e,t,s){const o=la(),l=t.length+1,h=new Te(t.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>s&&o.set(p.getKey(),p)}return te.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let l=new ct((g,b)=>g-b);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let b=l.get(g.largestBatchId);b===null&&(b=la(),l=l.insert(g.largestBatchId,b)),b.set(g.getKey(),g)}}const d=la(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,b)=>d.set(g,b)),!(d.size()>=o)););return te.resolve(d)}Et(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new TN(t,s));let l=this.Rr.get(t);l===void 0&&(l=Ve(),this.Rr.set(t,l)),this.Rr.set(t,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(){this.sessionToken=$t.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(){this.Vr=new Nt(jt.mr),this.gr=new Nt(jt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const s=new jt(e,t);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.wr(new jt(e,t))}Sr(e,t){e.forEach(s=>this.removeReference(s,t))}br(e){const t=new Te(new st([])),s=new jt(t,e),o=new jt(t,e+1),l=[];return this.gr.forEachInRange([s,o],h=>{this.wr(h),l.push(h.key)}),l}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Te(new st([])),s=new jt(t,e),o=new jt(t,e+1);let l=Ve();return this.gr.forEachInRange([s,o],h=>{l=l.add(h.key)}),l}containsKey(e){const t=new jt(e,0),s=this.Vr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class jt{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Te.comparator(e.key,t.key)||Ue(e.Cr,t.Cr)}static pr(e,t){return Ue(e.Cr,t.Cr)||Te.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Nt(jt.mr)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new bN(l,t,s,o);this.mutationQueue.push(h);for(const d of o)this.Mr=this.Mr.add(new jt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return te.resolve(h)}lookupMutationBatch(e,t){return te.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Nr(s),l=o<0?0:o;return te.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?ng:this.Fr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new jt(t,0),o=new jt(t,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([s,o],h=>{const d=this.Or(h.Cr);l.push(d)}),te.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Nt(Ue);return t.forEach(o=>{const l=new jt(o,0),h=new jt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,h],d=>{s=s.add(d.Cr)})}),te.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let l=s;Te.isDocumentKey(l)||(l=l.child(""));const h=new jt(new Te(l),0);let d=new Nt(Ue);return this.Mr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(d=d.add(p.Cr)),!0)},h),te.resolve(this.Br(d))}Br(e){const t=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Ye(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return te.forEach(t.mutations,o=>{const l=new jt(o.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,t){const s=new jt(t,0),o=this.Mr.firstAfterOrEqual(s);return te.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(e){this.kr=e,this.docs=function(){return new ct(Te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),l=o?o.size:0,h=this.kr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return te.resolve(s?s.document.mutableCopy():Jt.newInvalidDocument(t))}getEntries(e,t){let s=pr();return t.forEach(o=>{const l=this.docs.get(o);s=s.insert(o,l?l.document.mutableCopy():Jt.newInvalidDocument(o))}),te.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let l=pr();const h=t.path,d=new Te(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:b}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||PC(MC(b),s)<=0||(o.has(b.key)||pf(t,b))&&(l=l.insert(b.key,b.mutableCopy()))}return te.resolve(l)}getAllFromCollectionGroup(e,t,s,o){Ae()}qr(e,t){return te.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new l4(this)}getSize(e){return te.resolve(this.size)}}class l4 extends e4{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),te.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(e){this.persistence=e,this.Qr=new Ea(t=>sg(t),ag),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.$r=0,this.Kr=new fg,this.targetCount=0,this.Ur=Do.Kn()}forEachTarget(e,t){return this.Qr.forEach((s,o)=>t(o)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.$r&&(this.$r=t),te.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new Do(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,te.resolve()}updateTargetData(e,t){return this.zn(t),te.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.br(t.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,t,s){let o=0;const l=[];return this.Qr.forEach((h,d)=>{d.sequenceNumber<=t&&s.get(d.targetId)===null&&(this.Qr.delete(h),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),te.waitFor(l).next(()=>o)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,t){const s=this.Qr.get(t)||null;return te.resolve(s)}addMatchingKeys(e,t,s){return this.Kr.yr(t,s),te.resolve()}removeMatchingKeys(e,t,s){this.Kr.Sr(t,s);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(h=>{l.push(o.markPotentiallyOrphaned(e,h))}),te.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Kr.br(t),te.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Kr.vr(t);return te.resolve(s)}containsKey(e,t){return te.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new uf(0),this.zr=!1,this.zr=!0,this.jr=new s4,this.referenceDelegate=e(this),this.Hr=new u4(this),this.indexManager=new KN,this.remoteDocumentCache=function(o){return new o4(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new $N(t),this.Yr=new i4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new r4,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Wr[e.toKey()];return s||(s=new a4(t,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,s){me("MemoryPersistence","Starting transaction:",e);const o=new c4(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(l=>this.referenceDelegate.Xr(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}ei(e,t){return te.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,t)))}}class c4 extends LC{constructor(e){super(),this.currentSequenceNumber=e}}class dg{constructor(e){this.persistence=e,this.ti=new fg,this.ni=null}static ri(e){return new dg(e)}get ii(){if(this.ni)return this.ni;throw Ae()}addReference(e,t,s){return this.ti.addReference(s,t),this.ii.delete(s.toString()),te.resolve()}removeReference(e,t,s){return this.ti.removeReference(s,t),this.ii.add(s.toString()),te.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),te.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.ii.add(l.toString()))}).next(()=>s.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.ii,s=>{const o=Te.fromPath(s);return this.si(e,o).next(l=>{l||t.removeEntry(o,Re.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(s=>{s?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return te.or([()=>te.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Uh{constructor(e,t){this.persistence=e,this.oi=new Ea(s=>zC(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=JN(this,t)}static ri(e,t){return new Uh(e,t)}Zr(){}Xr(e){return te.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}sr(e){let t=0;return this.rr(e,s=>{t++}).next(()=>t)}rr(e,t){return te.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(l=>l?te.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.qr(e,h=>this.ar(e,h,t).next(d=>{d||(s++,l.removeEntry(h,Re.min()))})).next(()=>l.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),te.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),te.resolve()}removeReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),te.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=gh(e.data.value)),t}ar(e,t,s){return te.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.oi.get(t);return te.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Hi=s,this.Ji=o}static Yi(e,t){let s=Ve(),o=Ve();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new mg(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return Lx()?8:jC(en())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,s,o){const l={result:null};return this.rs(e,t).next(h=>{l.result=h}).next(()=>{if(!l.result)return this.ss(e,t,o,s).next(h=>{l.result=h})}).next(()=>{if(l.result)return;const h=new h4;return this._s(e,t,h).next(d=>{if(l.result=d,this.Xi)return this.us(e,t,h,d.size)})}).next(()=>l.result)}us(e,t,s,o){return s.documentReadCount<this.es?(po()<=Pe.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",go(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),te.resolve()):(po()<=Pe.DEBUG&&me("QueryEngine","Query:",go(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(po()<=Pe.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",go(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Si(t))):te.resolve())}rs(e,t){if(nE(t))return te.resolve(null);let s=Si(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=wp(t,null,"F"),s=Si(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(l=>{const h=Ve(...l);return this.ns.getDocuments(e,h).next(d=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.cs(t,d);return this.ls(t,g,h,p.readTime)?this.rs(e,wp(t,null,"F")):this.hs(e,g,t,p)}))})))}ss(e,t,s,o){return nE(t)||o.isEqual(Re.min())?te.resolve(null):this.ns.getDocuments(e,s).next(l=>{const h=this.cs(t,l);return this.ls(t,h,s,o)?te.resolve(null):(po()<=Pe.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),go(t)),this.hs(e,h,t,kC(o,du)).next(d=>d))})}cs(e,t){let s=new Nt(G1(e));return t.forEach((o,l)=>{pf(e,l)&&(s=s.add(l))}),s}ls(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}_s(e,t,s){return po()<=Pe.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",go(t)),this.ns.getDocumentsMatchingQuery(e,t,gs.min(),s)}hs(e,t,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(l=>(t.forEach(h=>{l=l.insert(h.key,h)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pg="LocalStore",d4=3e8;class m4{constructor(e,t,s,o){this.persistence=e,this.Ps=t,this.serializer=o,this.Ts=new ct(Ue),this.Is=new Ea(l=>sg(l),ag),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new n4(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function p4(i,e,t,s){return new m4(i,e,t,s)}async function gT(i,e){const t=Ce(i);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(l=>(o=l,t.As(e),t.mutationQueue.getAllMutationBatches(s))).next(l=>{const h=[],d=[];let p=Ve();for(const g of o){h.push(g.batchId);for(const b of g.mutations)p=p.add(b.key)}for(const g of l){d.push(g.batchId);for(const b of g.mutations)p=p.add(b.key)}return t.localDocuments.getDocuments(s,p).next(g=>({Rs:g,removedBatchIds:h,addedBatchIds:d}))})})}function g4(i,e){const t=Ce(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),l=t.ds.newChangeBuffer({trackRemovals:!0});return function(d,p,g,b){const w=g.batch,x=w.keys();let C=te.resolve();return x.forEach(P=>{C=C.next(()=>b.getEntry(p,P)).next($=>{const j=g.docVersions.get(P);Ye(j!==null),$.version.compareTo(j)<0&&(w.applyToRemoteDocument($,g),$.isValidDocument()&&($.setReadTime(g.commitVersion),b.addEntry($)))})}),C.next(()=>d.mutationQueue.removeMutationBatch(p,w))}(t,s,e,l).next(()=>l.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(d){let p=Ve();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function yT(i){const e=Ce(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function y4(i,e){const t=Ce(i),s=e.snapshotVersion;let o=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=t.ds.newChangeBuffer({trackRemovals:!0});o=t.Ts;const d=[];e.targetChanges.forEach((b,w)=>{const x=o.get(w);if(!x)return;d.push(t.Hr.removeMatchingKeys(l,b.removedDocuments,w).next(()=>t.Hr.addMatchingKeys(l,b.addedDocuments,w)));let C=x.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(w)!==null?C=C.withResumeToken($t.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):b.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(b.resumeToken,s)),o=o.insert(w,C),function($,j,Q){return $.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=d4?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0}(x,C,b)&&d.push(t.Hr.updateTargetData(l,C))});let p=pr(),g=Ve();if(e.documentUpdates.forEach(b=>{e.resolvedLimboDocuments.has(b)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,b))}),d.push(v4(l,h,e.documentUpdates).next(b=>{p=b.Vs,g=b.fs})),!s.isEqual(Re.min())){const b=t.Hr.getLastRemoteSnapshotVersion(l).next(w=>t.Hr.setTargetsMetadata(l,l.currentSequenceNumber,s));d.push(b)}return te.waitFor(d).next(()=>h.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,g)).next(()=>p)}).then(l=>(t.Ts=o,l))}function v4(i,e,t){let s=Ve(),o=Ve();return t.forEach(l=>s=s.add(l)),e.getEntries(i,s).next(l=>{let h=pr();return t.forEach((d,p)=>{const g=l.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(Re.min())?(e.removeEntry(d,p.readTime),h=h.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(d,p)):me(pg,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)}),{Vs:h,fs:o}})}function _4(i,e){const t=Ce(i);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=ng),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function E4(i,e){const t=Ce(i);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Hr.getTargetData(s,e).next(l=>l?(o=l,te.resolve(o)):t.Hr.allocateTargetId(s).next(h=>(o=new ls(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(s.targetId,s),t.Is.set(e,s.targetId)),s})}async function Ip(i,e,t){const s=Ce(i),o=s.Ts.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Uo(h))throw h;me(pg,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function pE(i,e,t){const s=Ce(i);let o=Re.min(),l=Ve();return s.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,b){const w=Ce(p),x=w.Is.get(b);return x!==void 0?te.resolve(w.Ts.get(x)):w.Hr.getTargetData(g,b)}(s,h,Si(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(h,d.targetId).next(p=>{l=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(h,e,t?o:Re.min(),t?l:Ve())).next(d=>(b4(s,aN(e),d),{documents:d,gs:l})))}function b4(i,e,t){let s=i.Es.get(e)||Re.min();t.forEach((o,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),i.Es.set(e,s)}class gE{constructor(){this.activeTargetIds=fN()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class T4{constructor(){this.ho=new gE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,s){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new gE,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="ConnectivityMonitor";class vE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){me(yE,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){me(yE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lh=null;function Cp(){return lh===null?lh=function(){return 268435456+Math.round(2147483648*Math.random())}():lh++,"0x"+lh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm="RestConnection",S4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class A4{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===kh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,t,s,o,l){const h=Cp(),d=this.bo(e,t.toUriEncodedString());me(Xm,`Sending RPC '${e}' ${h}:`,d,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,l),this.vo(e,d,p,s).then(g=>(me(Xm,`Received RPC '${e}' ${h}: `,g),g),g=>{throw Ro(Xm,`RPC '${e}' ${h} failed with error: `,g,"url: ",d,"request:",s),g})}Co(e,t,s,o,l,h){return this.So(e,t,s,o,l)}Do(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Lo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,l)=>e[l]=o),s&&s.headers.forEach((o,l)=>e[l]=o)}bo(e,t){const s=S4[e];return`${this.po}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wt="WebChannelConnection";class R4 extends A4{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,s,o){const l=Cp();return new Promise((h,d)=>{const p=new T1;p.setWithCredentials(!0),p.listenOnce(w1.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case ph.NO_ERROR:const b=p.getResponseJson();me(Wt,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(b)),h(b);break;case ph.TIMEOUT:me(Wt,`RPC '${e}' ${l} timed out`),d(new _e(oe.DEADLINE_EXCEEDED,"Request time out"));break;case ph.HTTP_ERROR:const w=p.getStatus();if(me(Wt,`RPC '${e}' ${l} failed with status:`,w,"response text:",p.getResponseText()),w>0){let x=p.getResponseJson();Array.isArray(x)&&(x=x[0]);const C=x==null?void 0:x.error;if(C&&C.status&&C.message){const P=function(j){const Q=j.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(Q)>=0?Q:oe.UNKNOWN}(C.status);d(new _e(P,C.message))}else d(new _e(oe.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new _e(oe.UNAVAILABLE,"Connection failed."));break;default:Ae()}}finally{me(Wt,`RPC '${e}' ${l} completed.`)}});const g=JSON.stringify(o);me(Wt,`RPC '${e}' ${l} sending request:`,o),p.send(t,"POST",g,s,15)})}Wo(e,t,s){const o=Cp(),l=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=x1(),d=A1(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const b=l.join("");me(Wt,`Creating RPC '${e}' stream ${o}: ${b}`,p);const w=h.createWebChannel(b,p);let x=!1,C=!1;const P=new x4({Fo:j=>{C?me(Wt,`Not sending because RPC '${e}' stream ${o} is closed:`,j):(x||(me(Wt,`Opening RPC '${e}' stream ${o} transport.`),w.open(),x=!0),me(Wt,`RPC '${e}' stream ${o} sending:`,j),w.send(j))},Mo:()=>w.close()}),$=(j,Q,Z)=>{j.listen(Q,J=>{try{Z(J)}catch(le){setTimeout(()=>{throw le},0)}})};return $(w,eu.EventType.OPEN,()=>{C||(me(Wt,`RPC '${e}' stream ${o} transport opened.`),P.Qo())}),$(w,eu.EventType.CLOSE,()=>{C||(C=!0,me(Wt,`RPC '${e}' stream ${o} transport closed`),P.Ko())}),$(w,eu.EventType.ERROR,j=>{C||(C=!0,Ro(Wt,`RPC '${e}' stream ${o} transport errored:`,j),P.Ko(new _e(oe.UNAVAILABLE,"The operation could not be completed")))}),$(w,eu.EventType.MESSAGE,j=>{var Q;if(!C){const Z=j.data[0];Ye(!!Z);const J=Z,le=(J==null?void 0:J.error)||((Q=J[0])===null||Q===void 0?void 0:Q.error);if(le){me(Wt,`RPC '${e}' stream ${o} received error:`,le);const re=le.status;let he=function(A){const R=bt[A];if(R!==void 0)return rT(R)}(re),M=le.message;he===void 0&&(he=oe.INTERNAL,M="Unknown error status: "+re+" with message "+le.message),C=!0,P.Ko(new _e(he,M)),w.close()}else me(Wt,`RPC '${e}' stream ${o} received:`,Z),P.Uo(Z)}}),$(d,S1.STAT_EVENT,j=>{j.stat===vp.PROXY?me(Wt,`RPC '${e}' stream ${o} detected buffering proxy`):j.stat===vp.NOPROXY&&me(Wt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{P.$o()},0),P}}function Wm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _f(i){return new ON(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e,t,s=1e3,o=1.5,l=6e4){this.Ti=e,this.timerId=t,this.Go=s,this.zo=o,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,t-s);o>0&&me("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E="PersistentStream";class _T{constructor(e,t,s,o,l,h,d,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new vT(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===oe.RESOURCE_EXHAUSTED?(mr(t.toString()),mr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===t&&this.V_(s,o)},s=>{e(()=>{const o=new _e(oe.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,t){const s=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return me(_E,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(me(_E,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class I4 extends _T{constructor(e,t,s,o,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=l}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=MN(this.serializer,e),s=function(l){if(!("targetChange"in l))return Re.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?Re.min():h.readTime?Ai(h.readTime):Re.min()}(e);return this.listener.p_(t,s)}y_(e){const t={};t.database=Rp(this.serializer),t.addTarget=function(l,h){let d;const p=h.target;if(d=Tp(p)?{documents:LN(l,p)}:{query:jN(l,p).ht},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=oT(l,h.resumeToken);const g=Sp(l,h.expectedCount);g!==null&&(d.expectedCount=g)}else if(h.snapshotVersion.compareTo(Re.min())>0){d.readTime=jh(l,h.snapshotVersion.toTimestamp());const g=Sp(l,h.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,e);const s=zN(this.serializer,e);s&&(t.labels=s),this.I_(t)}w_(e){const t={};t.database=Rp(this.serializer),t.removeTarget=e,this.I_(t)}}class C4 extends _T{constructor(e,t,s,o,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=l}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Ye(!!e.streamToken),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ye(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=VN(e.writeResults,e.commitTime),s=Ai(e.commitTime);return this.listener.v_(s,t)}C_(){const e={};e.database=Rp(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>PN(this.serializer,s))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{}class O4 extends N4{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new _e(oe.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.connection.So(e,Ap(t,s),o,l,h)).catch(l=>{throw l.name==="FirebaseError"?(l.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new _e(oe.UNKNOWN,l.toString())})}Co(e,t,s,o,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Co(e,Ap(t,s),o,h,d,l)).catch(h=>{throw h.name==="FirebaseError"?(h.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new _e(oe.UNKNOWN,h.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class D4{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(mr(t),this.N_=!1):me("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da="RemoteStore";class k4{constructor(e,t,s,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(h=>{s.enqueueAndForget(async()=>{ba(this)&&(me(da,"Restarting streams for network reachability change."),await async function(p){const g=Ce(p);g.W_.add(4),await Ru(g),g.j_.set("Unknown"),g.W_.delete(4),await Ef(g)}(this))})}),this.j_=new D4(s,o)}}async function Ef(i){if(ba(i))for(const e of i.G_)await e(!0)}async function Ru(i){for(const e of i.G_)await e(!1)}function ET(i,e){const t=Ce(i);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),_g(t)?vg(t):zo(t).c_()&&yg(t,e))}function gg(i,e){const t=Ce(i),s=zo(t);t.U_.delete(e),s.c_()&&bT(t,e),t.U_.size===0&&(s.c_()?s.P_():ba(t)&&t.j_.set("Unknown"))}function yg(i,e){if(i.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}zo(i).y_(e)}function bT(i,e){i.H_.Ne(e),zo(i).w_(e)}function vg(i){i.H_=new RN({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>i.U_.get(e)||null,it:()=>i.datastore.serializer.databaseId}),zo(i).start(),i.j_.B_()}function _g(i){return ba(i)&&!zo(i).u_()&&i.U_.size>0}function ba(i){return Ce(i).W_.size===0}function TT(i){i.H_=void 0}async function M4(i){i.j_.set("Online")}async function P4(i){i.U_.forEach((e,t)=>{yg(i,e)})}async function V4(i,e){TT(i),_g(i)?(i.j_.q_(e),vg(i)):i.j_.set("Unknown")}async function L4(i,e,t){if(i.j_.set("Online"),e instanceof aT&&e.state===2&&e.cause)try{await async function(o,l){const h=l.cause;for(const d of l.targetIds)o.U_.has(d)&&(await o.remoteSyncer.rejectListen(d,h),o.U_.delete(d),o.H_.removeTarget(d))}(i,e)}catch(s){me(da,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await zh(i,s)}else if(e instanceof _h?i.H_.We(e):e instanceof sT?i.H_.Ze(e):i.H_.je(e),!t.isEqual(Re.min()))try{const s=await yT(i.localStore);t.compareTo(s)>=0&&await function(l,h){const d=l.H_.ot(h);return d.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const b=l.U_.get(g);b&&l.U_.set(g,b.withResumeToken(p.resumeToken,h))}}),d.targetMismatches.forEach((p,g)=>{const b=l.U_.get(p);if(!b)return;l.U_.set(p,b.withResumeToken($t.EMPTY_BYTE_STRING,b.snapshotVersion)),bT(l,p);const w=new ls(b.target,p,g,b.sequenceNumber);yg(l,w)}),l.remoteSyncer.applyRemoteEvent(d)}(i,t)}catch(s){me(da,"Failed to raise snapshot:",s),await zh(i,s)}}async function zh(i,e,t){if(!Uo(e))throw e;i.W_.add(1),await Ru(i),i.j_.set("Offline"),t||(t=()=>yT(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{me(da,"Retrying IndexedDB access"),await t(),i.W_.delete(1),await Ef(i)})}function wT(i,e){return e().catch(t=>zh(i,t,e))}async function bf(i){const e=Ce(i),t=Es(e);let s=e.K_.length>0?e.K_[e.K_.length-1].batchId:ng;for(;j4(e);)try{const o=await _4(e.localStore,s);if(o===null){e.K_.length===0&&t.P_();break}s=o.batchId,U4(e,o)}catch(o){await zh(e,o)}ST(e)&&AT(e)}function j4(i){return ba(i)&&i.K_.length<10}function U4(i,e){i.K_.push(e);const t=Es(i);t.c_()&&t.S_&&t.b_(e.mutations)}function ST(i){return ba(i)&&!Es(i).u_()&&i.K_.length>0}function AT(i){Es(i).start()}async function z4(i){Es(i).C_()}async function q4(i){const e=Es(i);for(const t of i.K_)e.b_(t.mutations)}async function B4(i,e,t){const s=i.K_.shift(),o=ug.from(s,e,t);await wT(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await bf(i)}async function H4(i,e){e&&Es(i).S_&&await async function(s,o){if(function(h){return SN(h)&&h!==oe.ABORTED}(o.code)){const l=s.K_.shift();Es(s).h_(),await wT(s,()=>s.remoteSyncer.rejectFailedWrite(l.batchId,o)),await bf(s)}}(i,e),ST(i)&&AT(i)}async function EE(i,e){const t=Ce(i);t.asyncQueue.verifyOperationInProgress(),me(da,"RemoteStore received new credentials");const s=ba(t);t.W_.add(3),await Ru(t),s&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await Ef(t)}async function F4(i,e){const t=Ce(i);e?(t.W_.delete(2),await Ef(t)):e||(t.W_.add(2),await Ru(t),t.j_.set("Unknown"))}function zo(i){return i.J_||(i.J_=function(t,s,o){const l=Ce(t);return l.M_(),new I4(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(i.datastore,i.asyncQueue,{xo:M4.bind(null,i),No:P4.bind(null,i),Lo:V4.bind(null,i),p_:L4.bind(null,i)}),i.G_.push(async e=>{e?(i.J_.h_(),_g(i)?vg(i):i.j_.set("Unknown")):(await i.J_.stop(),TT(i))})),i.J_}function Es(i){return i.Y_||(i.Y_=function(t,s,o){const l=Ce(t);return l.M_(),new C4(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(i.datastore,i.asyncQueue,{xo:()=>Promise.resolve(),No:z4.bind(null,i),Lo:H4.bind(null,i),D_:q4.bind(null,i),v_:B4.bind(null,i)}),i.G_.push(async e=>{e?(i.Y_.h_(),await bf(i)):(await i.Y_.stop(),i.K_.length>0&&(me(da,`Stopping write stream with ${i.K_.length} pending writes`),i.K_=[]))})),i.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e,t,s,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=l,this.deferred=new fs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,l){const h=Date.now()+s,d=new Eg(e,t,h,o,l);return d.start(s),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bg(i,e){if(mr("AsyncQueue",`${e}: ${i}`),Uo(i))return new _e(oe.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{static emptySet(e){return new To(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||Te.comparator(t.key,s.key):(t,s)=>Te.comparator(t.key,s.key),this.keyedMap=tu(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof To)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new To;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(){this.Z_=new ct(Te.comparator)}track(e){const t=e.doc.key,s=this.Z_.get(t);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(t):e.type===1&&s.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Ae():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,s)=>{e.push(s)}),e}}class ko{constructor(e,t,s,o,l,h,d,p,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,l){const h=[];return t.forEach(d=>{h.push({type:0,doc:d})}),new ko(e,t,To.emptySet(t),h,s,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class G4{constructor(){this.queries=TE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,s){const o=Ce(t),l=o.queries;o.queries=TE(),l.forEach((h,d)=>{for(const p of d.ta)p.onError(s)})})(this,new _e(oe.ABORTED,"Firestore shutting down"))}}function TE(){return new Ea(i=>$1(i),mf)}async function xT(i,e){const t=Ce(i);let s=3;const o=e.query;let l=t.queries.get(o);l?!l.na()&&e.ra()&&(s=2):(l=new $4,s=e.ra()?0:1);try{switch(s){case 0:l.ea=await t.onListen(o,!0);break;case 1:l.ea=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const d=bg(h,`Initialization of query '${go(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,l),l.ta.push(e),e.sa(t.onlineState),l.ea&&e.oa(l.ea)&&Tg(t)}async function RT(i,e){const t=Ce(i),s=e.query;let o=3;const l=t.queries.get(s);if(l){const h=l.ta.indexOf(e);h>=0&&(l.ta.splice(h,1),l.ta.length===0?o=e.ra()?0:1:!l.na()&&e.ra()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function K4(i,e){const t=Ce(i);let s=!1;for(const o of e){const l=o.query,h=t.queries.get(l);if(h){for(const d of h.ta)d.oa(o)&&(s=!0);h.ea=o}}s&&Tg(t)}function Q4(i,e,t){const s=Ce(i),o=s.queries.get(e);if(o)for(const l of o.ta)l.onError(t);s.queries.delete(e)}function Tg(i){i.ia.forEach(e=>{e.next()})}var Np,wE;(wE=Np||(Np={}))._a="default",wE.Cache="cache";class IT{constructor(e,t,s){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new ko(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const s=t!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=ko.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Np.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(e){this.key=e}}class NT{constructor(e){this.key=e}}class Y4{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ve(),this.mutatedKeys=Ve(),this.ya=G1(e),this.wa=new To(this.ya)}get Sa(){return this.fa}ba(e,t){const s=t?t.Da:new bE,o=t?t.wa:this.wa;let l=t?t.mutatedKeys:this.mutatedKeys,h=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((b,w)=>{const x=o.get(b),C=pf(this.query,w)?w:null,P=!!x&&this.mutatedKeys.has(x.key),$=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let j=!1;x&&C?x.data.isEqual(C.data)?P!==$&&(s.track({type:3,doc:C}),j=!0):this.va(x,C)||(s.track({type:2,doc:C}),j=!0,(p&&this.ya(C,p)>0||g&&this.ya(C,g)<0)&&(d=!0)):!x&&C?(s.track({type:0,doc:C}),j=!0):x&&!C&&(s.track({type:1,doc:x}),j=!0,(p||g)&&(d=!0)),j&&(C?(h=h.add(C),l=$?l.add(b):l.delete(b)):(h=h.delete(b),l=l.delete(b)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const b=this.query.limitType==="F"?h.last():h.first();h=h.delete(b.key),l=l.delete(b.key),s.track({type:1,doc:b})}return{wa:h,Da:s,ls:d,mutatedKeys:l}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const l=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const h=e.Da.X_();h.sort((b,w)=>function(C,P){const $=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae()}};return $(C)-$(P)}(b.type,w.type)||this.ya(b.doc,w.doc)),this.Ca(s),o=o!=null&&o;const d=t&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,g=p!==this.ga;return this.ga=p,h.length!==0||g?{snapshot:new ko(this.query,e.wa,l,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:d}:{Ma:d}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new bE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ve(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const t=[];return e.forEach(s=>{this.pa.has(s)||t.push(new NT(s))}),this.pa.forEach(s=>{e.has(s)||t.push(new CT(s))}),t}Oa(e){this.fa=e.gs,this.pa=Ve();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return ko.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const wg="SyncEngine";class X4{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class W4{constructor(e){this.key=e,this.Ba=!1}}class Z4{constructor(e,t,s,o,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.La={},this.ka=new Ea(d=>$1(d),mf),this.qa=new Map,this.Qa=new Set,this.$a=new ct(Te.comparator),this.Ka=new Map,this.Ua=new fg,this.Wa={},this.Ga=new Map,this.za=Do.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function J4(i,e,t=!0){const s=VT(i);let o;const l=s.ka.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Na()):o=await OT(s,e,t,!0),o}async function eO(i,e){const t=VT(i);await OT(t,e,!0,!1)}async function OT(i,e,t,s){const o=await E4(i.localStore,Si(e)),l=o.targetId,h=i.sharedClientState.addLocalQueryTarget(l,t);let d;return s&&(d=await tO(i,e,l,h==="current",o.resumeToken)),i.isPrimaryClient&&t&&ET(i.remoteStore,o),d}async function tO(i,e,t,s,o){i.Ha=(w,x,C)=>async function($,j,Q,Z){let J=j.view.ba(Q);J.ls&&(J=await pE($.localStore,j.query,!1).then(({documents:M})=>j.view.ba(M,J)));const le=Z&&Z.targetChanges.get(j.targetId),re=Z&&Z.targetMismatches.get(j.targetId)!=null,he=j.view.applyChanges(J,$.isPrimaryClient,le,re);return AE($,j.targetId,he.Ma),he.snapshot}(i,w,x,C);const l=await pE(i.localStore,e,!0),h=new Y4(e,l.gs),d=h.ba(l.documents),p=xu.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",o),g=h.applyChanges(d,i.isPrimaryClient,p);AE(i,t,g.Ma);const b=new X4(e,t,h);return i.ka.set(e,b),i.qa.has(t)?i.qa.get(t).push(e):i.qa.set(t,[e]),g.snapshot}async function nO(i,e,t){const s=Ce(i),o=s.ka.get(e),l=s.qa.get(o.targetId);if(l.length>1)return s.qa.set(o.targetId,l.filter(h=>!mf(h,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Ip(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&gg(s.remoteStore,o.targetId),Op(s,o.targetId)}).catch(jo)):(Op(s,o.targetId),await Ip(s.localStore,o.targetId,!0))}async function iO(i,e){const t=Ce(i),s=t.ka.get(e),o=t.qa.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),gg(t.remoteStore,s.targetId))}async function rO(i,e,t){const s=hO(i);try{const o=await function(h,d){const p=Ce(h),g=Ct.now(),b=d.reduce((C,P)=>C.add(P.key),Ve());let w,x;return p.persistence.runTransaction("Locally write mutations","readwrite",C=>{let P=pr(),$=Ve();return p.ds.getEntries(C,b).next(j=>{P=j,P.forEach((Q,Z)=>{Z.isValidDocument()||($=$.add(Q))})}).next(()=>p.localDocuments.getOverlayedDocuments(C,P)).next(j=>{w=j;const Q=[];for(const Z of d){const J=_N(Z,w.get(Z.key).overlayedDocument);J!=null&&Q.push(new As(Z.key,J,j1(J.value.mapValue),Qn.exists(!0)))}return p.mutationQueue.addMutationBatch(C,g,Q,d)}).next(j=>{x=j;const Q=j.applyToLocalDocumentSet(w,$);return p.documentOverlayCache.saveOverlays(C,j.batchId,Q)})}).then(()=>({batchId:x.batchId,changes:Q1(w)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,d,p){let g=h.Wa[h.currentUser.toKey()];g||(g=new ct(Ue)),g=g.insert(d,p),h.Wa[h.currentUser.toKey()]=g}(s,o.batchId,t),await Iu(s,o.changes),await bf(s.remoteStore)}catch(o){const l=bg(o,"Failed to persist write");t.reject(l)}}async function DT(i,e){const t=Ce(i);try{const s=await y4(t.localStore,e);e.targetChanges.forEach((o,l)=>{const h=t.Ka.get(l);h&&(Ye(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Ba=!0:o.modifiedDocuments.size>0?Ye(h.Ba):o.removedDocuments.size>0&&(Ye(h.Ba),h.Ba=!1))}),await Iu(t,s,e)}catch(s){await jo(s)}}function SE(i,e,t){const s=Ce(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.ka.forEach((l,h)=>{const d=h.view.sa(e);d.snapshot&&o.push(d.snapshot)}),function(h,d){const p=Ce(h);p.onlineState=d;let g=!1;p.queries.forEach((b,w)=>{for(const x of w.ta)x.sa(d)&&(g=!0)}),g&&Tg(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function sO(i,e,t){const s=Ce(i);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Ka.get(e),l=o&&o.key;if(l){let h=new ct(Te.comparator);h=h.insert(l,Jt.newNoDocument(l,Re.min()));const d=Ve().add(l),p=new vf(Re.min(),new Map,new ct(Ue),h,d);await DT(s,p),s.$a=s.$a.remove(l),s.Ka.delete(e),Sg(s)}else await Ip(s.localStore,e,!1).then(()=>Op(s,e,t)).catch(jo)}async function aO(i,e){const t=Ce(i),s=e.batch.batchId;try{const o=await g4(t.localStore,e);MT(t,s,null),kT(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Iu(t,o)}catch(o){await jo(o)}}async function oO(i,e,t){const s=Ce(i);try{const o=await function(h,d){const p=Ce(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let b;return p.mutationQueue.lookupMutationBatch(g,d).next(w=>(Ye(w!==null),b=w.keys(),p.mutationQueue.removeMutationBatch(g,w))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,b,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,b)).next(()=>p.localDocuments.getDocuments(g,b))})}(s.localStore,e);MT(s,e,t),kT(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Iu(s,o)}catch(o){await jo(o)}}function kT(i,e){(i.Ga.get(e)||[]).forEach(t=>{t.resolve()}),i.Ga.delete(e)}function MT(i,e,t){const s=Ce(i);let o=s.Wa[s.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function Op(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.qa.get(e))i.ka.delete(s),t&&i.La.Ja(s,t);i.qa.delete(e),i.isPrimaryClient&&i.Ua.br(e).forEach(s=>{i.Ua.containsKey(s)||PT(i,s)})}function PT(i,e){i.Qa.delete(e.path.canonicalString());const t=i.$a.get(e);t!==null&&(gg(i.remoteStore,t),i.$a=i.$a.remove(e),i.Ka.delete(t),Sg(i))}function AE(i,e,t){for(const s of t)s instanceof CT?(i.Ua.addReference(s.key,e),lO(i,s)):s instanceof NT?(me(wg,"Document no longer in limbo: "+s.key),i.Ua.removeReference(s.key,e),i.Ua.containsKey(s.key)||PT(i,s.key)):Ae()}function lO(i,e){const t=e.key,s=t.path.canonicalString();i.$a.get(t)||i.Qa.has(s)||(me(wg,"New document in limbo: "+t),i.Qa.add(s),Sg(i))}function Sg(i){for(;i.Qa.size>0&&i.$a.size<i.maxConcurrentLimboResolutions;){const e=i.Qa.values().next().value;i.Qa.delete(e);const t=new Te(st.fromString(e)),s=i.za.next();i.Ka.set(s,new W4(t)),i.$a=i.$a.insert(t,s),ET(i.remoteStore,new ls(Si(df(t.path)),s,"TargetPurposeLimboResolution",uf.ae))}}async function Iu(i,e,t){const s=Ce(i),o=[],l=[],h=[];s.ka.isEmpty()||(s.ka.forEach((d,p)=>{h.push(s.Ha(p,e,t).then(g=>{var b;if((g||t)&&s.isPrimaryClient){const w=g?!g.fromCache:(b=t==null?void 0:t.targetChanges.get(p.targetId))===null||b===void 0?void 0:b.current;s.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(g){o.push(g);const w=mg.Yi(p.targetId,g);l.push(w)}}))}),await Promise.all(h),s.La.p_(o),await async function(p,g){const b=Ce(p);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>te.forEach(g,x=>te.forEach(x.Hi,C=>b.persistence.referenceDelegate.addReference(w,x.targetId,C)).next(()=>te.forEach(x.Ji,C=>b.persistence.referenceDelegate.removeReference(w,x.targetId,C)))))}catch(w){if(!Uo(w))throw w;me(pg,"Failed to update sequence numbers: "+w)}for(const w of g){const x=w.targetId;if(!w.fromCache){const C=b.Ts.get(x),P=C.snapshotVersion,$=C.withLastLimboFreeSnapshotVersion(P);b.Ts=b.Ts.insert(x,$)}}}(s.localStore,l))}async function uO(i,e){const t=Ce(i);if(!t.currentUser.isEqual(e)){me(wg,"User change. New user:",e.toKey());const s=await gT(t.localStore,e);t.currentUser=e,function(l,h){l.Ga.forEach(d=>{d.forEach(p=>{p.reject(new _e(oe.CANCELLED,h))})}),l.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Iu(t,s.Rs)}}function cO(i,e){const t=Ce(i),s=t.Ka.get(e);if(s&&s.Ba)return Ve().add(s.key);{let o=Ve();const l=t.qa.get(e);if(!l)return o;for(const h of l){const d=t.ka.get(h);o=o.unionWith(d.view.Sa)}return o}}function VT(i){const e=Ce(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=DT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=cO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sO.bind(null,e),e.La.p_=K4.bind(null,e.eventManager),e.La.Ja=Q4.bind(null,e.eventManager),e}function hO(i){const e=Ce(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=aO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=oO.bind(null,e),e}class qh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=_f(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return p4(this.persistence,new f4,e.initialUser,this.serializer)}Xa(e){return new pT(dg.ri,this.serializer)}Za(e){return new T4}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qh.provider={build:()=>new qh};class fO extends qh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Ye(this.persistence.referenceDelegate instanceof Uh);const s=this.persistence.referenceDelegate.garbageCollector;return new WN(s,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new pT(s=>Uh.ri(s,t),this.serializer)}}class Dp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>SE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=uO.bind(null,this.syncEngine),await F4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new G4}()}createDatastore(e){const t=_f(e.databaseInfo.databaseId),s=function(l){return new R4(l)}(e.databaseInfo);return function(l,h,d,p){return new O4(l,h,d,p)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,l,h,d){return new k4(s,o,l,h,d)}(this.localStore,this.datastore,e.asyncQueue,t=>SE(this.syncEngine,t,0),function(){return vE.D()?new vE:new w4}())}createSyncEngine(e,t){return function(o,l,h,d,p,g,b){const w=new Z4(o,l,h,d,p,g);return b&&(w.ja=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=Ce(o);me(da,"RemoteStore shutting down."),l.W_.add(5),await Ru(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Dp.provider={build:()=>new Dp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):mr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs="FirestoreClient";class dO{constructor(e,t,s,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=Zt.UNAUTHENTICATED,this.clientId=I1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,async h=>{me(bs,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(me(bs,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=bg(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Zm(i,e){i.asyncQueue.verifyOperationInProgress(),me(bs,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await gT(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function xE(i,e){i.asyncQueue.verifyOperationInProgress();const t=await mO(i);me(bs,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener(s=>EE(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>EE(e.remoteStore,o)),i._onlineComponents=e}async function mO(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){me(bs,"Using user provided OfflineComponentProvider");try{await Zm(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===oe.FAILED_PRECONDITION||o.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Ro("Error using user provided cache. Falling back to memory cache: "+t),await Zm(i,new qh)}}else me(bs,"Using default OfflineComponentProvider"),await Zm(i,new fO(void 0));return i._offlineComponents}async function jT(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(me(bs,"Using user provided OnlineComponentProvider"),await xE(i,i._uninitializedComponentsProvider._online)):(me(bs,"Using default OnlineComponentProvider"),await xE(i,new Dp))),i._onlineComponents}function pO(i){return jT(i).then(e=>e.syncEngine)}async function kp(i){const e=await jT(i),t=e.eventManager;return t.onListen=J4.bind(null,e.syncEngine),t.onUnlisten=nO.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=eO.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=iO.bind(null,e.syncEngine),t}function gO(i,e,t={}){const s=new fs;return i.asyncQueue.enqueueAndForget(async()=>function(l,h,d,p,g){const b=new LT({next:x=>{b.su(),h.enqueueAndForget(()=>RT(l,w));const C=x.docs.has(d);!C&&x.fromCache?g.reject(new _e(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&x.fromCache&&p&&p.source==="server"?g.reject(new _e(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(x)},error:x=>g.reject(x)}),w=new IT(df(d.path),b,{includeMetadataChanges:!0,Ta:!0});return xT(l,w)}(await kp(i),i.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zT(i,e,t){if(!t)throw new _e(oe.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function yO(i,e,t,s){if(e===!0&&s===!0)throw new _e(oe.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function IE(i){if(!Te.isDocumentKey(i))throw new _e(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function CE(i){if(Te.isDocumentKey(i))throw new _e(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Ag(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ae()}function Yn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new _e(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ag(i);throw new _e(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT="firestore.googleapis.com",NE=!0;class OE{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new _e(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qT,this.ssl=NE}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:NE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=mT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<YN)throw new _e(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}yO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=UT((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new _e(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new _e(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new _e(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Tf{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new OE({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new OE(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new AC;switch(s.type){case"firstParty":return new CC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new _e(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=RE.get(t);s&&(me("ComponentProvider","Removing Datastore"),RE.delete(t),s.terminate())}(this),Promise.resolve()}}function vO(i,e,t,s={}){var o;const l=(i=Yn(i,Tf))._getSettings(),h=`${e}:${t}`;if(l.host!==qT&&l.host!==h&&Ro("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},l),{host:h,ssl:!1})),s.mockUserToken){let d,p;if(typeof s.mockUserToken=="string")d=s.mockUserToken,p=Zt.MOCK_USER;else{d=Hb(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const g=s.mockUserToken.sub||s.mockUserToken.user_id;if(!g)throw new _e(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Zt(g)}i._authCredentials=new xC(new R1(d,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new wf(this.firestore,e,this._query)}}class un{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ds(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new un(this.firestore,e,this._key)}}class ds extends wf{constructor(e,t,s){super(e,t,df(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new un(this.firestore,null,new Te(e))}withConverter(e){return new ds(this.firestore,e,this._path)}}function BT(i,e,...t){if(i=Je(i),zT("collection","path",e),i instanceof Tf){const s=st.fromString(e,...t);return CE(s),new ds(i,null,s)}{if(!(i instanceof un||i instanceof ds))throw new _e(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(st.fromString(e,...t));return CE(s),new ds(i.firestore,null,s)}}function xi(i,e,...t){if(i=Je(i),arguments.length===1&&(e=I1.newId()),zT("doc","path",e),i instanceof Tf){const s=st.fromString(e,...t);return IE(s),new un(i,null,new Te(s))}{if(!(i instanceof un||i instanceof ds))throw new _e(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(st.fromString(e,...t));return IE(s),new un(i.firestore,i instanceof ds?i.converter:null,new Te(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE="AsyncQueue";class kE{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new vT(this,"async_queue_retry"),this.Su=()=>{const s=Wm();s&&me(DE,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const t=Wm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Wm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new fs;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Uo(e))throw e;me(DE,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(h){let d=h.message||"";return h.stack&&(d=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),d}(s);throw mr("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=t,t}enqueueAfterDelay(e,t,s){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const o=Eg.createAndSchedule(this,e,t,s,l=>this.Fu(l));return this.fu.push(o),o}Du(){this.gu&&Ae()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function ME(i){return function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const l of s)if(l in o&&typeof o[l]=="function")return!0;return!1}(i,["next","error","complete"])}class Ts extends Tf{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new kE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new kE(e),this._firestoreClient=void 0,await e}}}function _O(i,e){const t=typeof i=="object"?i:af(),s=typeof i=="string"?i:kh,o=ws(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const l=zb("firestore");l&&vO(o,...l)}return o}function xg(i){if(i._terminated)throw new _e(oe.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||EO(i),i._firestoreClient}function EO(i){var e,t,s;const o=i._freezeSettings(),l=function(d,p,g,b){return new HC(d,p,g,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,UT(b.experimentalLongPollingOptions),b.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new dO(i._authCredentials,i._appCheckCredentials,i._queue,l,i._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mo($t.fromBase64String(e))}catch(t){throw new _e(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Mo($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new _e(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new _e(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new _e(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==o[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO=/^__.*__$/;class TO{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new As(e,this.data,this.fieldMask,t,this.fieldTransforms):new Au(e,this.data,t,this.fieldTransforms)}}class HT{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new As(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function FT(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae()}}class Af{constructor(e,t,s,o,l,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,l===void 0&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Af(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Ku(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Bh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(FT(this.Lu)&&bO.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class wO{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||_f(e)}ju(e,t,s,o=!1){return new Af({Lu:e,methodName:t,zu:s,path:Ft.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Cg(i){const e=i._freezeSettings(),t=_f(i._databaseId);return new wO(i._databaseId,!!e.ignoreUndefinedProperties,t)}function $T(i,e,t,s,o,l={}){const h=i.ju(l.merge||l.mergeFields?2:0,e,t,o);Dg("Data must be an object, but it was:",h,s);const d=GT(s,h);let p,g;if(l.merge)p=new xn(h.fieldMask),g=h.fieldTransforms;else if(l.mergeFields){const b=[];for(const w of l.mergeFields){const x=Mp(e,w,t);if(!h.contains(x))throw new _e(oe.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);QT(b,x)||b.push(x)}p=new xn(b),g=h.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,g=h.fieldTransforms;return new TO(new gn(d),p,g)}class xf extends Cu{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof xf}}function SO(i,e,t){return new Af({Lu:3,zu:e.settings.zu,methodName:i._methodName,Qu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Ng extends Cu{_toFieldTransform(e){return new tT(e.path,new yu)}isEqual(e){return e instanceof Ng}}class Og extends Cu{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=SO(this,e,!0),s=this.Hu.map(l=>Nu(l,t)),o=new Oo(s);return new tT(e.path,o)}isEqual(e){return e instanceof Og&&xo(this.Hu,e.Hu)}}function AO(i,e,t,s){const o=i.ju(1,e,t);Dg("Data must be an object, but it was:",o,s);const l=[],h=gn.empty();Ss(s,(p,g)=>{const b=kg(e,p,t);g=Je(g);const w=o.Ku(b);if(g instanceof xf)l.push(b);else{const x=Nu(g,w);x!=null&&(l.push(b),h.set(b,x))}});const d=new xn(l);return new HT(h,d,o.fieldTransforms)}function xO(i,e,t,s,o,l){const h=i.ju(1,e,t),d=[Mp(e,s,t)],p=[o];if(l.length%2!=0)throw new _e(oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<l.length;x+=2)d.push(Mp(e,l[x])),p.push(l[x+1]);const g=[],b=gn.empty();for(let x=d.length-1;x>=0;--x)if(!QT(g,d[x])){const C=d[x];let P=p[x];P=Je(P);const $=h.Ku(C);if(P instanceof xf)g.push(C);else{const j=Nu(P,$);j!=null&&(g.push(C),b.set(C,j))}}const w=new xn(g);return new HT(b,w,h.fieldTransforms)}function Nu(i,e){if(KT(i=Je(i)))return Dg("Unsupported field value:",e,i),GT(i,e);if(i instanceof Cu)return function(s,o){if(!FT(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const l=[];let h=0;for(const d of s){let p=Nu(d,o.Uu(h));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),h++}return{arrayValue:{values:l}}}(i,e)}return function(s,o){if((s=Je(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return dN(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=Ct.fromDate(s);return{timestampValue:jh(o.serializer,l)}}if(s instanceof Ct){const l=new Ct(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:jh(o.serializer,l)}}if(s instanceof Rg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Mo)return{bytesValue:oT(o.serializer,s._byteString)};if(s instanceof un){const l=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(l))throw o.Wu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:hg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Ig)return function(h,d){return{mapValue:{fields:{[V1]:{stringValue:L1},[Mh]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw d.Wu("VectorValues must only contain numeric values.");return og(d.serializer,g)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${Ag(s)}`)}(i,e)}function GT(i,e){const t={};return N1(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ss(i,(s,o)=>{const l=Nu(o,e.qu(s));l!=null&&(t[s]=l)}),{mapValue:{fields:t}}}function KT(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Ct||i instanceof Rg||i instanceof Mo||i instanceof un||i instanceof Cu||i instanceof Ig)}function Dg(i,e,t){if(!KT(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const s=Ag(t);throw s==="an object"?e.Wu(i+" a custom object"):e.Wu(i+" "+s)}}function Mp(i,e,t){if((e=Je(e))instanceof Sf)return e._internalPath;if(typeof e=="string")return kg(i,e);throw Bh("Field path arguments must be of type string or ",i,!1,void 0,t)}const RO=new RegExp("[~\\*/\\[\\]]");function kg(i,e,t){if(e.search(RO)>=0)throw Bh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Sf(...e.split("."))._internalPath}catch{throw Bh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Bh(i,e,t,s,o){const l=s&&!s.isEmpty(),h=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||h)&&(p+=" (found",l&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new _e(oe.INVALID_ARGUMENT,d+i+p)}function QT(i,e){return i.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(e,t,s,o,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new un(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new IO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(XT("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class IO extends YT{data(){return super.data()}}function XT(i,e){return typeof e=="string"?kg(i,e):e instanceof Sf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CO(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new _e(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class NO{convertValue(e,t="none"){switch(_s(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(vs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Ss(e,(o,l)=>{s[o]=this.convertValue(l,t)}),s}convertVectorValue(e){var t,s,o;const l=(o=(s=(t=e.fields)===null||t===void 0?void 0:t[Mh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>yt(h.doubleValue));return new Ig(l)}convertGeoPoint(e){return new Rg(yt(e.latitude),yt(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=hf(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(mu(e));default:return null}}convertTimestamp(e){const t=ys(e);return new Ct(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=st.fromString(e);Ye(dT(s));const o=new pu(s.get(1),s.get(3)),l=new Te(s.popFirst(5));return o.isEqual(t)||mr(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WT(i,e,t){let s;return s=i?i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ZT extends YT{constructor(e,t,s,o,l,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Eh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(XT("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Eh extends ZT{data(e={}){return super.data(e)}}class OO{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new iu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Eh(this._firestore,this._userDataWriter,s.key,s,new iu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new _e(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(d=>{const p=new Eh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new iu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const p=new Eh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new iu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,b=-1;return d.type!==0&&(g=h.indexOf(d.doc.key),h=h.delete(d.doc.key)),d.type!==1&&(h=h.add(d.doc),b=h.indexOf(d.doc.key)),{type:DO(d.type),doc:p,oldIndex:g,newIndex:b}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function DO(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bh(i){i=Yn(i,un);const e=Yn(i.firestore,Ts);return gO(xg(e),i._key).then(t=>tw(e,i,t))}class JT extends NO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new un(this.firestore,null,t)}}function ew(i,e,t){i=Yn(i,un);const s=Yn(i.firestore,Ts),o=WT(i.converter,e);return Rf(s,[$T(Cg(s),"setDoc",i._key,o,i.converter!==null,t).toMutation(i._key,Qn.none())])}function Mg(i,e,t,...s){i=Yn(i,un);const o=Yn(i.firestore,Ts),l=Cg(o);let h;return h=typeof(e=Je(e))=="string"||e instanceof Sf?xO(l,"updateDoc",i._key,e,t,s):AO(l,"updateDoc",i._key,e),Rf(o,[h.toMutation(i._key,Qn.exists(!0))])}function kO(i){return Rf(Yn(i.firestore,Ts),[new lg(i._key,Qn.none())])}function MO(i,e){const t=Yn(i.firestore,Ts),s=xi(i),o=WT(i.converter,e);return Rf(t,[$T(Cg(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Qn.exists(!1))]).then(()=>s)}function PE(i,...e){var t,s,o;i=Je(i);let l={includeMetadataChanges:!1,source:"default"},h=0;typeof e[h]!="object"||ME(e[h])||(l=e[h],h++);const d={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(ME(e[h])){const w=e[h];e[h]=(t=w.next)===null||t===void 0?void 0:t.bind(w),e[h+1]=(s=w.error)===null||s===void 0?void 0:s.bind(w),e[h+2]=(o=w.complete)===null||o===void 0?void 0:o.bind(w)}let p,g,b;if(i instanceof un)g=Yn(i.firestore,Ts),b=df(i._key.path),p={next:w=>{e[h]&&e[h](tw(g,i,w))},error:e[h+1],complete:e[h+2]};else{const w=Yn(i,wf);g=Yn(w.firestore,Ts),b=w._query;const x=new JT(g);p={next:C=>{e[h]&&e[h](new OO(g,x,w,C))},error:e[h+1],complete:e[h+2]},CO(i._query)}return function(x,C,P,$){const j=new LT($),Q=new IT(C,j,P);return x.asyncQueue.enqueueAndForget(async()=>xT(await kp(x),Q)),()=>{j.su(),x.asyncQueue.enqueueAndForget(async()=>RT(await kp(x),Q))}}(xg(g),b,d,p)}function Rf(i,e){return function(s,o){const l=new fs;return s.asyncQueue.enqueueAndForget(async()=>rO(await pO(s),o,l)),l.promise}(xg(i),e)}function tw(i,e,t){const s=t.docs.get(e._key),o=new JT(i);return new ZT(i,o,e._key,s,new iu(t.hasPendingWrites,t.fromCache),e.converter)}function PO(){return new Ng("serverTimestamp")}function nw(...i){return new Og("arrayUnion",i)}(function(e,t=!0){(function(o){Lo=o})(_a),si(new Xn("firestore",(s,{instanceIdentifier:o,options:l})=>{const h=s.getProvider("app").getImmediate(),d=new Ts(new RC(s.getProvider("auth-internal")),new NC(h,s.getProvider("app-check-internal")),function(g,b){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new _e(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pu(g.options.projectId,b)}(h,o),h);return l=Object.assign({useFetchStreams:t},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),yn(z_,q_,e),yn(z_,q_,"esm2017")})();const VO={apiKey:"AIzaSyByGaIQUI0PskrMs32RokqBaU6P3utZZJk",authDomain:"algo-arena-50b4f.firebaseapp.com",projectId:"algo-arena-50b4f",storageBucket:"algo-arena-50b4f.firebasestorage.app",messagingSenderId:"46784098077",appId:"1:46784098077:web:8c482ff1260c4ddaa1bbf4",measurementId:"G-F25G3J45DD"},iw=Xb(VO),VE=bC(iw),Ri=_O(iw);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LO=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),rw=(...i)=>i.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var jO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UO=N.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:o="",children:l,iconNode:h,...d},p)=>N.createElement("svg",{ref:p,...jO,width:e,height:e,stroke:i,strokeWidth:s?Number(t)*24/Number(e):t,className:rw("lucide",o),...d},[...h.map(([g,b])=>N.createElement(g,b)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=(i,e)=>{const t=N.forwardRef(({className:s,...o},l)=>N.createElement(UO,{ref:l,iconNode:e,className:rw(`lucide-${LO(i)}`,s),...o}));return t.displayName=`${i}`,t};/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zO=[["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 18H3",key:"1amg6g"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],qO=tt("AlignLeft",zO);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BO=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],HO=tt("ArrowRight",BO);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FO=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],$O=tt("Award",FO);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GO=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],sw=tt("Check",GO);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],QO=tt("CircleAlert",KO);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YO=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],aw=tt("CircleCheckBig",YO);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XO=[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]],ow=tt("Code",XO);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WO=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],ZO=tt("EyeOff",WO);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JO=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],eD=tt("Eye",JO);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tD=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],nD=tt("FileText",tD);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],rD=tt("Info",iD);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Jm=tt("LoaderCircle",sD);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],oD=tt("Lock",aD);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],LE=tt("LogIn",lD);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],cD=tt("Mail",uD);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],lw=tt("Maximize",hD);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],dD=tt("Menu",fD);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]],uw=tt("Minimize",mD);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],gD=tt("Save",pD);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],ep=tt("ShieldAlert",yD);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]],_D=tt("Terminal",vD);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],jE=tt("Trash2",ED);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],cw=tt("TrendingUp",bD);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Pg=tt("TriangleAlert",TD);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],SD=tt("UserCheck",wD);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Pp=tt("User",AD);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Vg=tt("X",xD);function Lg(i,e){var t={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(t[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(t[s[o]]=i[s[o]]);return t}function hw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const RD=hw,fw=new va("auth","Firebase",hw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hh=new sf("@firebase/auth");function ID(i,...e){Hh.logLevel<=Pe.WARN&&Hh.warn(`Auth (${_a}): ${i}`,...e)}function Th(i,...e){Hh.logLevel<=Pe.ERROR&&Hh.error(`Auth (${_a}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(i,...e){throw jg(i,...e)}function Ii(i,...e){return jg(i,...e)}function dw(i,e,t){const s=Object.assign(Object.assign({},RD()),{[e]:t});return new va("auth","Firebase",s).create(e,{appName:i.name})}function Ci(i){return dw(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jg(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return fw.create(i,...e)}function Ee(i,e,...t){if(!i)throw jg(e,...t)}function ur(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Th(e),new Error(e)}function gr(i,e){i||ur(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fh(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function CD(){return UE()==="http:"||UE()==="https:"}function UE(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ND(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(CD()||Fb()||"connection"in navigator)?navigator.onLine:!0}function OD(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e,t){this.shortDelay=e,this.longDelay=t,gr(t>e,"Short delay should be less than long delay!"),this.isMobile=Dx()||Px()}get(){return ND()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ug(i,e){gr(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ur("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ur("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ur("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD=new Ou(3e4,6e4);function vr(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function Pi(i,e,t,s,o={}){return pw(i,o,async()=>{let l={},h={};s&&(e==="GET"?h=s:l={body:JSON.stringify(s)});const d=Su(Object.assign({key:i.config.apiKey},h)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:e,headers:p},l);return Mx()||(g.referrerPolicy="no-referrer"),mw.fetch()(gw(i,i.config.apiHost,t,d),g)})}async function pw(i,e,t){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},DD),e);try{const o=new PD(i),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await l.json();if("needConfirmation"in h)throw uh(i,"account-exists-with-different-credential",h);if(l.ok&&!("errorMessage"in h))return h;{const d=l.ok?h.errorMessage:h.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw uh(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw uh(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw uh(i,"user-disabled",h);const b=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw dw(i,b,g);ai(i,b)}}catch(o){if(o instanceof Wn)throw o;ai(i,"network-request-failed",{message:String(o)})}}async function Du(i,e,t,s,o={}){const l=await Pi(i,e,t,s,o);return"mfaPendingCredential"in l&&ai(i,"multi-factor-auth-required",{_serverResponse:l}),l}function gw(i,e,t,s){const o=`${e}${t}?${s}`;return i.config.emulator?Ug(i.config,o):`${i.config.apiScheme}://${o}`}function MD(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class PD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Ii(this.auth,"network-request-failed")),kD.get())})}}function uh(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=Ii(i,e,s);return o.customData._tokenResponse=t,o}function zE(i){return i!==void 0&&i.enterprise!==void 0}class VD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return MD(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function LD(i,e){return Pi(i,"GET","/v2/recaptchaConfig",vr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jD(i,e){return Pi(i,"POST","/v1/accounts:delete",e)}async function yw(i,e){return Pi(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uu(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function UD(i,e=!1){const t=Je(i),s=await t.getIdToken(e),o=zg(s);Ee(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,h=l==null?void 0:l.sign_in_provider;return{claims:o,token:s,authTime:uu(tp(o.auth_time)),issuedAtTime:uu(tp(o.iat)),expirationTime:uu(tp(o.exp)),signInProvider:h||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function tp(i){return Number(i)*1e3}function zg(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return Th("JWT malformed, contained fewer than 3 sections"),null;try{const o=jb(t);return o?JSON.parse(o):(Th("Failed to decode base64 JWT payload"),null)}catch(o){return Th("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function qE(i){const e=zg(i);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Po(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Wn&&zD(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function zD({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=uu(this.lastLoginAt),this.creationTime=uu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $h(i){var e;const t=i.auth,s=await i.getIdToken(),o=await Po(i,yw(t,{idToken:s}));Ee(o==null?void 0:o.users.length,t,"internal-error");const l=o.users[0];i._notifyReloadListener(l);const h=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?vw(l.providerUserInfo):[],d=HD(i.providerData,h),p=i.isAnonymous,g=!(i.email&&l.passwordHash)&&!(d!=null&&d.length),b=p?g:!1,w={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Vp(l.createdAt,l.lastLoginAt),isAnonymous:b};Object.assign(i,w)}async function BD(i){const e=Je(i);await $h(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function HD(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function vw(i){return i.map(e=>{var{providerId:t}=e,s=Lg(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FD(i,e){const t=await pw(i,{},async()=>{const s=Su({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=i.config,h=gw(i,o,"/v1/token",`key=${l}`),d=await i._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",mw.fetch()(h,{method:"POST",headers:d,body:s})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function $D(i,e){return Pi(i,"POST","/v2/accounts:revokeToken",vr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):qE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const t=qE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:l}=await FD(e,t);this.updateTokensAndExpiration(s,o,Number(l))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:l}=t,h=new wo;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),l&&(Ee(typeof l=="number","internal-error",{appName:e}),h.expirationTime=l),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wo,this.toJSON())}_performRefresh(){return ur("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ns(i,e){Ee(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class cr{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,l=Lg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Vp(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await Po(this,this.stsTokenManager.getToken(this.auth,e));return Ee(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return UD(this,e)}reload(){return BD(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new cr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await $h(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pn(this.auth.app))return Promise.reject(Ci(this.auth));const e=await this.getIdToken();return await Po(this,jD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,l,h,d,p,g,b;const w=(s=t.displayName)!==null&&s!==void 0?s:void 0,x=(o=t.email)!==null&&o!==void 0?o:void 0,C=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,P=(h=t.photoURL)!==null&&h!==void 0?h:void 0,$=(d=t.tenantId)!==null&&d!==void 0?d:void 0,j=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,Q=(g=t.createdAt)!==null&&g!==void 0?g:void 0,Z=(b=t.lastLoginAt)!==null&&b!==void 0?b:void 0,{uid:J,emailVerified:le,isAnonymous:re,providerData:he,stsTokenManager:M}=t;Ee(J&&M,e,"internal-error");const I=wo.fromJSON(this.name,M);Ee(typeof J=="string",e,"internal-error"),ns(w,e.name),ns(x,e.name),Ee(typeof le=="boolean",e,"internal-error"),Ee(typeof re=="boolean",e,"internal-error"),ns(C,e.name),ns(P,e.name),ns($,e.name),ns(j,e.name),ns(Q,e.name),ns(Z,e.name);const A=new cr({uid:J,auth:e,email:x,emailVerified:le,displayName:w,isAnonymous:re,photoURL:P,phoneNumber:C,tenantId:$,stsTokenManager:I,createdAt:Q,lastLoginAt:Z});return he&&Array.isArray(he)&&(A.providerData=he.map(R=>Object.assign({},R))),j&&(A._redirectEventId=j),A}static async _fromIdTokenResponse(e,t,s=!1){const o=new wo;o.updateFromServerResponse(t);const l=new cr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await $h(l),l}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Ee(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?vw(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),d=new wo;d.updateFromIdToken(s);const p=new cr({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Vp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE=new Map;function hr(i){gr(i instanceof Function,"Expected a class definition");let e=BE.get(i);return e?(gr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,BE.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}_w.type="NONE";const HE=_w;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wh(i,e,t){return`firebase:${i}:${e}:${t}`}class So{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:l}=this.auth;this.fullUserKey=wh(this.userKey,o.apiKey,l),this.fullPersistenceKey=wh("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?cr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new So(hr(HE),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=o[0]||hr(HE);const h=wh(s,e.config.apiKey,e.name);let d=null;for(const g of t)try{const b=await g._get(h);if(b){const w=cr._fromJSON(e,b);g!==l&&(d=w),l=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new So(l,e,s):(l=p[0],d&&await l._set(h,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(h)}catch{}})),new So(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ww(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ew(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Aw(e))return"Blackberry";if(xw(e))return"Webos";if(bw(e))return"Safari";if((e.includes("chrome/")||Tw(e))&&!e.includes("edge/"))return"Chrome";if(Sw(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function Ew(i=en()){return/firefox\//i.test(i)}function bw(i=en()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Tw(i=en()){return/crios\//i.test(i)}function ww(i=en()){return/iemobile/i.test(i)}function Sw(i=en()){return/android/i.test(i)}function Aw(i=en()){return/blackberry/i.test(i)}function xw(i=en()){return/webos/i.test(i)}function qg(i=en()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function GD(i=en()){var e;return qg(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function KD(){return Vx()&&document.documentMode===10}function Rw(i=en()){return qg(i)||Sw(i)||xw(i)||Aw(i)||/windows phone/i.test(i)||ww(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(i,e=[]){let t;switch(i){case"Browser":t=FE(en());break;case"Worker":t=`${FE(en())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${_a}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=l=>new Promise((h,d)=>{try{const p=e(l);h(p)}catch(p){d(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YD(i,e={}){return Pi(i,"GET","/v2/passwordPolicy",vr(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD=6;class WD{constructor(e){var t,s,o,l;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:XD,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,l,h,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $E(this),this.idTokenSubscription=new $E(this),this.beforeStateQueue=new QD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=hr(t)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await So.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await yw(this,{idToken:e}),s=await cr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(pn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===d)&&(p!=null&&p.user)&&(o=p.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await $h(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=OD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pn(this.app))return Promise.reject(Ci(this));const t=e?Je(e):null;return t&&Ee(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pn(this.app)?Promise.reject(Ci(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pn(this.app)?Promise.reject(Ci(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(hr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await YD(this),t=new WD(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new va("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await $D(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&hr(e)||this._popupRedirectResolver;Ee(t,this,"argument-error"),this.redirectPersistenceManager=await So.create(this,[hr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let h=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(d,this,"internal-error"),d.then(()=>{h||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(t);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Iw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&ID(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function xs(i){return Je(i)}class $E{constructor(e){this.auth=e,this.observer=null,this.addObserver=Hx(t=>this.observer=t)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let If={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function JD(i){If=i}function Cw(i){return If.loadJS(i)}function ek(){return If.recaptchaEnterpriseScript}function tk(){return If.gapiScript}function nk(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class ik{constructor(){this.enterprise=new rk}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class rk{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const sk="recaptcha-enterprise",Nw="NO_RECAPTCHA";class ak{constructor(e){this.type=sk,this.auth=xs(e)}async verify(e="verify",t=!1){async function s(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(h,d)=>{LD(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new VD(p);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,h(g.siteKey)}}).catch(p=>{d(p)})})}function o(l,h,d){const p=window.grecaptcha;zE(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(g=>{h(g)}).catch(()=>{h(Nw)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new ik().execute("siteKey",{action:"verify"}):new Promise((l,h)=>{s(this.auth).then(d=>{if(!t&&zE(window.grecaptcha))o(d,l,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=ek();p.length!==0&&(p+=d),Cw(p).then(()=>{o(d,l,h)}).catch(g=>{h(g)})}}).catch(d=>{h(d)})})}}async function GE(i,e,t,s=!1,o=!1){const l=new ak(i);let h;if(o)h=Nw;else try{h=await l.verify(t)}catch{h=await l.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:h}):Object.assign(d,{captchaResponse:h}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Gh(i,e,t,s,o){var l;if(!((l=i._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await GE(i,e,t,t==="getOobCode");return s(i,h)}else return s(i,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await GE(i,e,t,t==="getOobCode");return s(i,d)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ok(i,e){const t=ws(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(xo(l,e??{}))return o;ai(o,"already-initialized")}return t.initialize({options:e})}function lk(i,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(hr);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function uk(i,e,t){const s=xs(i);Ee(s._canInitEmulator,s,"emulator-config-failed"),Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,l=Ow(e),{host:h,port:d}=ck(e),p=d===null?"":`:${d}`;s.config.emulator={url:`${l}//${h}${p}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:h,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})}),hk()}function Ow(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function ck(i){const e=Ow(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const l=o[1];return{host:l,port:KE(s.substr(l.length+1))}}else{const[l,h]=s.split(":");return{host:l,port:KE(h)}}}function KE(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function hk(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ur("not implemented")}_getIdTokenResponse(e){return ur("not implemented")}_linkToIdToken(e,t){return ur("not implemented")}_getReauthenticationResolver(e){return ur("not implemented")}}async function fk(i,e){return Pi(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dk(i,e){return Du(i,"POST","/v1/accounts:signInWithPassword",vr(i,e))}async function Dw(i,e){return Pi(i,"POST","/v1/accounts:sendOobCode",vr(i,e))}async function mk(i,e){return Dw(i,e)}async function pk(i,e){return Dw(i,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gk(i,e){return Du(i,"POST","/v1/accounts:signInWithEmailLink",vr(i,e))}async function yk(i,e){return Du(i,"POST","/v1/accounts:signInWithEmailLink",vr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u extends Bg{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new _u(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new _u(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gh(e,t,"signInWithPassword",dk);case"emailLink":return gk(e,{email:this._email,oobCode:this._password});default:ai(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gh(e,s,"signUpPassword",fk);case"emailLink":return yk(e,{idToken:t,email:this._email,oobCode:this._password});default:ai(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ao(i,e){return Du(i,"POST","/v1/accounts:signInWithIdp",vr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vk="http://localhost";class ma extends Bg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ma(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ai("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,l=Lg(t,["providerId","signInMethod"]);if(!s||!o)return null;const h=new ma(s,o);return h.idToken=l.idToken||void 0,h.accessToken=l.accessToken||void 0,h.secret=l.secret,h.nonce=l.nonce,h.pendingToken=l.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return Ao(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Ao(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ao(e,t)}buildRequest(){const e={requestUri:vk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Su(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _k(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Ek(i){const e=Zl(Jl(i)).link,t=e?Zl(Jl(e)).deep_link_id:null,s=Zl(Jl(i)).deep_link_id;return(s?Zl(Jl(s)).link:null)||s||t||e||i}class Cf{constructor(e){var t,s,o,l,h,d;const p=Zl(Jl(e)),g=(t=p.apiKey)!==null&&t!==void 0?t:null,b=(s=p.oobCode)!==null&&s!==void 0?s:null,w=_k((o=p.mode)!==null&&o!==void 0?o:null);Ee(g&&b&&w,"argument-error"),this.apiKey=g,this.operation=w,this.code=b,this.continueUrl=(l=p.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(h=p.languageCode)!==null&&h!==void 0?h:null,this.tenantId=(d=p.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=Ek(e);try{return new Cf(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(){this.providerId=Ta.PROVIDER_ID}static credential(e,t){return _u._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=Cf.parseLink(t);return Ee(s,"argument-error"),_u._fromEmailAndCode(e,s.code,s.tenantId)}}Ta.PROVIDER_ID="password";Ta.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ta.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku extends kw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends ku{constructor(){super("facebook.com")}static credential(e){return ma._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return rs.credential(e.oauthAccessToken)}catch{return null}}}rs.FACEBOOK_SIGN_IN_METHOD="facebook.com";rs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends ku{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ma._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return ss.credential(t,s)}catch{return null}}}ss.GOOGLE_SIGN_IN_METHOD="google.com";ss.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends ku{constructor(){super("github.com")}static credential(e){return ma._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return as.credential(e.oauthAccessToken)}catch{return null}}}as.GITHUB_SIGN_IN_METHOD="github.com";as.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os extends ku{constructor(){super("twitter.com")}static credential(e,t){return ma._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return os.credential(t,s)}catch{return null}}}os.TWITTER_SIGN_IN_METHOD="twitter.com";os.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bk(i,e){return Du(i,"POST","/v1/accounts:signUp",vr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const l=await cr._fromIdTokenResponse(e,s,o),h=QE(s);return new pa({user:l,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=QE(s);return new pa({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function QE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh extends Wn{constructor(e,t,s,o){var l;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Kh.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Kh(e,t,s,o)}}function Mw(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Kh._fromErrorAndOperation(i,l,e,s):l})}async function Tk(i,e,t=!1){const s=await Po(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return pa._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wk(i,e,t=!1){const{auth:s}=i;if(pn(s.app))return Promise.reject(Ci(s));const o="reauthenticate";try{const l=await Po(i,Mw(s,o,e,i),t);Ee(l.idToken,s,"internal-error");const h=zg(l.idToken);Ee(h,s,"internal-error");const{sub:d}=h;return Ee(i.uid===d,s,"user-mismatch"),pa._forOperation(i,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&ai(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pw(i,e,t=!1){if(pn(i.app))return Promise.reject(Ci(i));const s="signIn",o=await Mw(i,s,e),l=await pa._fromIdTokenResponse(i,s,o);return t||await i._updateCurrentUser(l.user),l}async function Vw(i,e){return Pw(xs(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sk(i,e,t){var s;Ee(((s=t.url)===null||s===void 0?void 0:s.length)>0,i,"invalid-continue-uri"),Ee(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,i,"invalid-dynamic-link-domain"),Ee(typeof t.linkDomain>"u"||t.linkDomain.length>0,i,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(Ee(t.iOS.bundleId.length>0,i,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(Ee(t.android.packageName.length>0,i,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lw(i){const e=xs(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Ak(i,e,t){if(pn(i.app))return Promise.reject(Ci(i));const s=xs(i),h=await Gh(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",bk).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&Lw(i),p}),d=await pa._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(d.user),d}function xk(i,e,t){return pn(i.app)?Promise.reject(Ci(i)):Vw(Je(i),Ta.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Lw(i),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rk(i,e,t){const s=xs(i),o={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function l(h,d){Ee(d.handleCodeInApp,s,"argument-error"),d&&Sk(s,h,d)}l(o,t),await Gh(s,o,"getOobCode",pk)}function Ik(i,e){const t=Cf.parseLink(e);return(t==null?void 0:t.operation)==="EMAIL_SIGNIN"}async function Ck(i,e,t){if(pn(i.app))return Promise.reject(Ci(i));const s=Je(i),o=Ta.credentialWithLink(e,t||Fh());return Ee(o._tenantId===(s.tenantId||null),s,"tenant-id-mismatch"),Vw(s,o)}async function Nk(i,e){const t=Je(i),o={requestType:"VERIFY_EMAIL",idToken:await i.getIdToken()},{email:l}=await mk(t.auth,o);l!==i.email&&await i.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ok(i,e){return Pi(i,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lp(i,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const s=Je(i),l={idToken:await s.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},h=await Po(s,Ok(s.auth,l));s.displayName=h.displayName||null,s.photoURL=h.photoUrl||null;const d=s.providerData.find(({providerId:p})=>p==="password");d&&(d.displayName=s.displayName,d.photoURL=s.photoURL),await s._updateTokensIfNecessary(h)}function Dk(i,e,t,s){return Je(i).onIdTokenChanged(e,t,s)}function kk(i,e,t){return Je(i).beforeAuthStateChanged(e,t)}function Nf(i,e,t,s){return Je(i).onAuthStateChanged(e,t,s)}function Mk(i){return Je(i).signOut()}async function Pk(i){return Je(i).delete()}const Qh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Qh,"1"),this.storage.removeItem(Qh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vk=1e3,Lk=10;class Uw extends jw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Rw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,d,p)=>{this.notifyListeners(h,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},l=this.storage.getItem(s);KD()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,Lk):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},Vk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Uw.type="LOCAL";const jk=Uw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw extends jw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}zw.type="SESSION";const qw=zw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uk(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new Of(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:l}=t.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const d=Array.from(h).map(async g=>g(t.origin,l)),p=await Uk(d);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Of.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hg(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,h;return new Promise((d,p)=>{const g=Hg("",20);o.port1.start();const b=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(w){const x=w;if(x.data.eventId===g)switch(x.data.status){case"ack":clearTimeout(b),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(x.data.response);break;default:clearTimeout(b),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(){return window}function qk(i){Ni().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(){return typeof Ni().WorkerGlobalScope<"u"&&typeof Ni().importScripts=="function"}async function Bk(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Hk(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function Fk(){return Bw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw="firebaseLocalStorageDb",$k=1,Yh="firebaseLocalStorage",Fw="fbase_key";class Mu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Df(i,e){return i.transaction([Yh],e?"readwrite":"readonly").objectStore(Yh)}function Gk(){const i=indexedDB.deleteDatabase(Hw);return new Mu(i).toPromise()}function jp(){const i=indexedDB.open(Hw,$k);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Yh,{keyPath:Fw})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Yh)?e(s):(s.close(),await Gk(),e(await jp()))})})}async function YE(i,e,t){const s=Df(i,!0).put({[Fw]:e,value:t});return new Mu(s).toPromise()}async function Kk(i,e){const t=Df(i,!1).get(e),s=await new Mu(t).toPromise();return s===void 0?null:s.value}function XE(i,e){const t=Df(i,!0).delete(e);return new Mu(t).toPromise()}const Qk=800,Yk=3;class $w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>Yk)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Bw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Of._getInstance(Fk()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await Bk(),!this.activeServiceWorker)return;this.sender=new zk(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Hk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await jp();return await YE(e,Qh,"1"),await XE(e,Qh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>YE(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>Kk(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>XE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=Df(o,!1).getAll();return new Mu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Qk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$w.type="LOCAL";const Xk=$w;new Ou(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wk(i,e){return e?hr(e):(Ee(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg extends Bg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ao(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ao(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ao(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Zk(i){return Pw(i.auth,new Fg(i),i.bypassAuthState)}function Jk(i){const{auth:e,user:t}=i;return Ee(t,e,"internal-error"),wk(t,new Fg(i),i.bypassAuthState)}async function e3(i){const{auth:e,user:t}=i;return Ee(t,e,"internal-error"),Tk(t,new Fg(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e,t,s,o,l=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:l,error:h,type:d}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Zk;case"linkViaPopup":case"linkViaRedirect":return e3;case"reauthViaPopup":case"reauthViaRedirect":return Jk;default:ai(this.auth,"internal-error")}}resolve(e){gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t3=new Ou(2e3,1e4);class _o extends Gw{constructor(e,t,s,o,l){super(e,t,o,l),this.provider=s,this.authWindow=null,this.pollId=null,_o.currentPopupAction&&_o.currentPopupAction.cancel(),_o.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){gr(this.filter.length===1,"Popup operations only handle one event");const e=Hg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_o.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,t3.get())};e()}}_o.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n3="pendingRedirect",Sh=new Map;class i3 extends Gw{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Sh.get(this.auth._key());if(!e){try{const s=await r3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Sh.set(this.auth._key(),e)}return this.bypassAuthState||Sh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function r3(i,e){const t=o3(e),s=a3(i);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function s3(i,e){Sh.set(i._key(),e)}function a3(i){return hr(i._redirectPersistence)}function o3(i){return wh(n3,i.config.apiKey,i.name)}async function l3(i,e,t=!1){if(pn(i.app))return Promise.reject(Ci(i));const s=xs(i),o=Wk(s,e),h=await new i3(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u3=10*60*1e3;class c3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!h3(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!Kw(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(Ii(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=u3&&this.cachedEventUids.clear(),this.cachedEventUids.has(WE(e))}saveEventToCache(e){this.cachedEventUids.add(WE(e)),this.lastProcessedEventTime=Date.now()}}function WE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function Kw({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function h3(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Kw(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f3(i,e={}){return Pi(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,m3=/^https?/;async function p3(i){if(i.config.emulator)return;const{authorizedDomains:e}=await f3(i);for(const t of e)try{if(g3(t))return}catch{}ai(i,"unauthorized-domain")}function g3(i){const e=Fh(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!m3.test(t))return!1;if(d3.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y3=new Ou(3e4,6e4);function ZE(){const i=Ni().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function v3(i){return new Promise((e,t)=>{var s,o,l;function h(){ZE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ZE(),t(Ii(i,"network-request-failed"))},timeout:y3.get()})}if(!((o=(s=Ni().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=Ni().gapi)===null||l===void 0)&&l.load)h();else{const d=nk("iframefcb");return Ni()[d]=()=>{gapi.load?h():t(Ii(i,"network-request-failed"))},Cw(`${tk()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw Ah=null,e})}let Ah=null;function _3(i){return Ah=Ah||v3(i),Ah}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E3=new Ou(5e3,15e3),b3="__/auth/iframe",T3="emulator/auth/iframe",w3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},S3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function A3(i){const e=i.config;Ee(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?Ug(e,T3):`https://${i.config.authDomain}/${b3}`,s={apiKey:e.apiKey,appName:i.name,v:_a},o=S3.get(i.config.apiHost);o&&(s.eid=o);const l=i._getFrameworks();return l.length&&(s.fw=l.join(",")),`${t}?${Su(s).slice(1)}`}async function x3(i){const e=await _3(i),t=Ni().gapi;return Ee(t,i,"internal-error"),e.open({where:document.body,url:A3(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:w3,dontclear:!0},s=>new Promise(async(o,l)=>{await s.restyle({setHideOnLeave:!1});const h=Ii(i,"network-request-failed"),d=Ni().setTimeout(()=>{l(h)},E3.get());function p(){Ni().clearTimeout(d),o(s)}s.ping(p).then(p,()=>{l(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},I3=500,C3=600,N3="_blank",O3="http://localhost";class JE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function D3(i,e,t,s=I3,o=C3){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const p=Object.assign(Object.assign({},R3),{width:s.toString(),height:o.toString(),top:l,left:h}),g=en().toLowerCase();t&&(d=Tw(g)?N3:t),Ew(g)&&(e=e||O3,p.scrollbars="yes");const b=Object.entries(p).reduce((x,[C,P])=>`${x}${C}=${P},`,"");if(GD(g)&&d!=="_self")return k3(e||"",d),new JE(null);const w=window.open(e||"",d,b);Ee(w,i,"popup-blocked");try{w.focus()}catch{}return new JE(w)}function k3(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M3="__/auth/handler",P3="emulator/auth/handler",V3=encodeURIComponent("fac");async function eb(i,e,t,s,o,l){Ee(i.config.authDomain,i,"auth-domain-config-required"),Ee(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:_a,eventId:o};if(e instanceof kw){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",Bx(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,w]of Object.entries({}))h[b]=w}if(e instanceof ku){const b=e.getScopes().filter(w=>w!=="");b.length>0&&(h.scopes=b.join(","))}i.tenantId&&(h.tid=i.tenantId);const d=h;for(const b of Object.keys(d))d[b]===void 0&&delete d[b];const p=await i._getAppCheckToken(),g=p?`#${V3}=${encodeURIComponent(p)}`:"";return`${L3(i)}?${Su(d).slice(1)}${g}`}function L3({config:i}){return i.emulator?Ug(i,P3):`https://${i.authDomain}/${M3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const np="webStorageSupport";class j3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qw,this._completeRedirectFn=l3,this._overrideRedirectResult=s3}async _openPopup(e,t,s,o){var l;gr((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const h=await eb(e,t,s,Fh(),o);return D3(e,h,Hg())}async _openRedirect(e,t,s,o){await this._originValidation(e);const l=await eb(e,t,s,Fh(),o);return qk(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(gr(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await x3(e),s=new c3(e);return t.register("authEvent",o=>(Ee(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(np,{type:np},o=>{var l;const h=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[np];h!==void 0&&t(!!h),ai(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=p3(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Rw()||bw()||qg()}}const U3=j3;var tb="@firebase/auth",nb="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q3(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function B3(i){si(new Xn("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:h,authDomain:d}=s.options;Ee(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:d,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Iw(i)},g=new ZD(s,o,l,p);return lk(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),si(new Xn("auth-internal",e=>{const t=xs(e.getProvider("auth").getImmediate());return(s=>new z3(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),yn(tb,nb,q3(i)),yn(tb,nb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H3=5*60,F3=Bb("authIdTokenMaxAge")||H3;let ib=null;const $3=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>F3)return;const o=t==null?void 0:t.token;ib!==o&&(ib=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function kf(i=af()){const e=ws(i,"auth");if(e.isInitialized())return e.getImmediate();const t=ok(i,{popupRedirectResolver:U3,persistence:[Xk,jk,qw]}),s=Bb("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const h=$3(l.toString());kk(t,h,()=>h(t.currentUser)),Dk(t,d=>h(d))}}const o=Ub("auth");return o&&uk(t,`http://${o}`),t}function G3(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}JD({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const l=Ii("internal-error");l.customData=o,t(l)},s.type="text/javascript",s.charset="UTF-8",G3().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});B3("Browser");function K3(){const[i,e]=N.useState(!1),[t,s]=N.useState(null),[o,l]=N.useState(!0),h=Mi();N.useEffect(()=>{const g=kf(),b=Nf(g,w=>{s(!!w),l(!1)});return()=>b()},[]);const d=()=>e(!i),p=[{to:"/",label:"Home"},{to:"/blogs",label:"Blogs"},{to:"/contactus",label:"Contact Us"},{to:"/codeplayground",label:"Code Playground"}];return v.jsxs("nav",{className:"bg-gray-900 shadow-lg fixed top-0 left-0 w-full z-50 border-b border-gray-800",children:[v.jsxs("div",{className:"flex items-center justify-between py-3 sm:py-4 md:py-4 px-4 lg:px-8 relative",children:[v.jsxs(Gn,{to:"/",className:"text-white font-bold text-xl md:text-2xl relative z-50",children:["Algo",v.jsx("span",{className:"text-green-500",children:"Arena"})]}),v.jsxs("div",{className:"hidden md:flex items-center gap-2 lg:gap-6 flex-wrap",children:[p.map(({to:g,label:b})=>v.jsx(Gn,{to:g,className:`py-1.5 sm:py-2 px-2 lg:px-4 text-sm lg:text-lg font-medium rounded-xl transition duration-300 ${h.pathname===g?"text-green-400 bg-gray-800":"text-white hover:text-green-400"}`,children:b},g)),o?v.jsx("div",{className:"w-20 lg:w-26 h-8 sm:h-9 md:h-10 bg-gray-700 animate-pulse rounded-xl"}):t?v.jsxs(Gn,{to:"/profile",className:"flex items-center gap-1 lg:gap-2 py-1.5 sm:py-2 px-3 lg:px-4 text-sm lg:text-lg font-medium rounded-xl bg-white text-gray-900 hover:bg-gray-200 transition duration-300 shadow-sm border",children:[v.jsx(Pp,{size:18,className:"hidden sm:block"}),v.jsx("span",{children:"Profile"})]}):v.jsxs(Gn,{to:"/auth",className:`flex items-center gap-1 lg:gap-2 py-1.5 sm:py-2 px-3 lg:px-4 text-sm lg:text-lg font-medium rounded-xl transition duration-300 ml-1 lg:ml-2 ${h.pathname==="/auth"?"text-green-400 bg-gray-800":"bg-green-600 text-white hover:bg-green-700"}`,children:[v.jsx(LE,{size:18,className:"hidden sm:block"}),v.jsx("span",{children:"Login"})]})]}),!i&&v.jsx("button",{className:"md:hidden text-white relative z-50 focus:outline-none",onClick:d,children:v.jsx(dD,{size:24,className:"h-6 w-6 sm:h-7 sm:w-7"})})]}),v.jsxs("div",{className:`fixed top-0 right-0 h-full w-64 bg-gray-900 shadow-lg transform transition-transform duration-300 ease-in-out ${i?"translate-x-0":"translate-x-full"} md:hidden flex flex-col items-center py-10 space-y-6`,children:[v.jsx("button",{className:"absolute top-4 right-4 text-white",onClick:d,children:v.jsx(Vg,{size:24,className:"h-6 w-6 sm:h-7 sm:w-7"})}),p.map(({to:g,label:b})=>v.jsx(Gn,{to:g,className:`py-2 text-base sm:text-lg font-medium transition duration-300 ${h.pathname===g?"text-green-400":"text-white hover:text-green-400"}`,onClick:()=>e(!1),children:b},g)),o?v.jsx("div",{className:"w-32 sm:w-36 h-10 sm:h-12 bg-gray-700 animate-pulse rounded-xl"}):t?v.jsxs(Gn,{to:"/profile",className:"flex items-center gap-2 py-2 px-5 sm:px-6 text-base sm:text-lg font-medium rounded-xl bg-white text-gray-900 hover:bg-gray-200 transition duration-300 shadow-sm border",onClick:()=>e(!1),children:[v.jsx(Pp,{size:20,className:"sm:h-5 sm:w-5"}),v.jsx("span",{children:"Profile"})]}):v.jsxs(Gn,{to:"/auth",className:`flex items-center gap-2 py-2 px-5 sm:px-6 text-base sm:text-lg font-medium rounded-xl transition duration-300 ${h.pathname==="/auth"?"text-green-400":"bg-green-600 text-white hover:bg-green-700"}`,onClick:()=>e(!1),children:[v.jsx(LE,{size:20,className:"sm:h-5 sm:w-5"}),v.jsx("span",{children:"Login"})]})]})]})}var ip={exports:{}},rp,rb;function Q3(){if(rb)return rp;rb=1;var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return rp=i,rp}var sp,sb;function Y3(){if(sb)return sp;sb=1;var i=Q3();function e(){}function t(){}return t.resetWarningCache=e,sp=function(){function s(h,d,p,g,b,w){if(w!==i){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}s.isRequired=s;function o(){return s}var l={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:o,element:s,elementType:s,instanceOf:o,node:s,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:t,resetWarningCache:e};return l.PropTypes=l,l},sp}var ab;function X3(){return ab||(ab=1,ip.exports=Y3()()),ip.exports}var W3=X3();const pe=Eb(W3);var Qw={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},ob=Rn.createContext&&Rn.createContext(Qw),Z3=["attr","size","title"];function J3(i,e){if(i==null)return{};var t=eM(i,e),s,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(i);for(o=0;o<l.length;o++)s=l[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(i,s)&&(t[s]=i[s])}return t}function eM(i,e){if(i==null)return{};var t={};for(var s in i)if(Object.prototype.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;t[s]=i[s]}return t}function Xh(){return Xh=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=t[s])}return i},Xh.apply(this,arguments)}function lb(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),t.push.apply(t,s)}return t}function Wh(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?lb(Object(t),!0).forEach(function(s){tM(i,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):lb(Object(t)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(t,s))})}return i}function tM(i,e,t){return e=nM(e),e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function nM(i){var e=iM(i,"string");return typeof e=="symbol"?e:e+""}function iM(i,e){if(typeof i!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var s=t.call(i,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function Yw(i){return i&&i.map((e,t)=>Rn.createElement(e.tag,Wh({key:t},e.attr),Yw(e.child)))}function cn(i){return e=>Rn.createElement(rM,Xh({attr:Wh({},i.attr)},e),Yw(i.child))}function rM(i){var e=t=>{var{attr:s,size:o,title:l}=i,h=J3(i,Z3),d=o||t.size||"1em",p;return t.className&&(p=t.className),i.className&&(p=(p?p+" ":"")+i.className),Rn.createElement("svg",Xh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,h,{className:p,style:Wh(Wh({color:i.color||t.color},t.style),i.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&Rn.createElement("title",null,l),i.children)};return ob!==void 0?Rn.createElement(ob.Consumer,null,t=>e(t)):e(Qw)}function sM(i){return cn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M162.4 196c4.8-4.9 6.2-5.1 36.4-5.1 27.2 0 28.1.1 32.1 2.1 5.8 2.9 8.3 7 8.3 13.6 0 5.9-2.4 10-7.6 13.4-2.8 1.8-4.5 1.9-31.1 2.1-16.4.1-29.5-.2-31.5-.8-10.3-2.9-14.1-17.7-6.6-25.3zm61.4 94.5c-53.9 0-55.8.2-60.2 4.1-3.5 3.1-5.7 9.4-5.1 13.9.7 4.7 4.8 10.1 9.2 12 2.2 1 14.1 1.7 56.3 1.2l47.9-.6 9.2-1.5c9-5.1 10.5-17.4 3.1-24.4-5.3-4.7-5-4.7-60.4-4.7zm223.4 130.1c-3.5 28.4-23 50.4-51.1 57.5-7.2 1.8-9.7 1.9-172.9 1.8-157.8 0-165.9-.1-172-1.8-8.4-2.2-15.6-5.5-22.3-10-5.6-3.8-13.9-11.8-17-16.4-3.8-5.6-8.2-15.3-10-22C.1 423 0 420.3 0 256.3 0 93.2 0 89.7 1.8 82.6 8.1 57.9 27.7 39 53 33.4c7.3-1.6 332.1-1.9 340-.3 21.2 4.3 37.9 17.1 47.6 36.4 7.7 15.3 7-1.5 7.3 180.6.2 115.8 0 164.5-.7 170.5zm-85.4-185.2c-1.1-5-4.2-9.6-7.7-11.5-1.1-.6-8-1.3-15.5-1.7-12.4-.6-13.8-.8-17.8-3.1-6.2-3.6-7.9-7.6-8-18.3 0-20.4-8.5-39.4-25.3-56.5-12-12.2-25.3-20.5-40.6-25.1-3.6-1.1-11.8-1.5-39.2-1.8-42.9-.5-52.5.4-67.1 6.2-27 10.7-46.3 33.4-53.4 62.4-1.3 5.4-1.6 14.2-1.9 64.3-.4 62.8 0 72.1 4 84.5 9.7 30.7 37.1 53.4 64.6 58.4 9.2 1.7 122.2 2.1 133.7.5 20.1-2.7 35.9-10.8 50.7-25.9 10.7-10.9 17.4-22.8 21.8-38.5 3.2-10.9 2.9-88.4 1.7-93.9z"},child:[]}]})(i)}function Xw(i){return cn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(i)}function Ww(i){return cn({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm121.8 169.9l-40.7 191.8c-3 13.6-11.1 16.9-22.4 10.5l-62-45.7-29.9 28.8c-3.3 3.3-6.1 6.1-12.5 6.1l4.4-63.1 114.9-103.8c5-4.4-1.1-6.9-7.7-2.5l-142 89.4-61.2-19.1c-13.3-4.2-13.6-13.3 2.8-19.7l239.1-92.2c11.1-4 20.8 2.7 17.2 19.5z"},child:[]}]})(i)}function Zw(i){return cn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(i)}function Jw(i){return cn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"},child:[]}]})(i)}function aM(i){return cn({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"},child:[]}]})(i)}function oM(i){return cn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 0H64C28.7 0 0 28.7 0 64v288c0 35.3 28.7 64 64 64h96v84c0 9.8 11.2 15.5 19.1 9.7L304 416h144c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64z"},child:[]}]})(i)}function eS(i){return cn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M510.52 255.82c-69.97-.85-126.47-57.69-126.47-127.86-70.17 0-127-56.49-127.86-126.45-27.26-4.14-55.13.3-79.72 12.82l-69.13 35.22a132.221 132.221 0 0 0-57.79 57.81l-35.1 68.88a132.645 132.645 0 0 0-12.82 80.95l12.08 76.27a132.521 132.521 0 0 0 37.16 72.96l54.77 54.76a132.036 132.036 0 0 0 72.71 37.06l76.71 12.15c27.51 4.36 55.7-.11 80.53-12.76l69.13-35.21a132.273 132.273 0 0 0 57.79-57.81l35.1-68.88c12.56-24.64 17.01-52.58 12.91-79.91zM176 368c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm32-160c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm160 128c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"},child:[]}]})(i)}function tS(i){return cn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(i)}function lM(i){return cn({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zM64 72c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8V72zm0 64c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8v-16zm192.81 248H304c8.84 0 16 7.16 16 16s-7.16 16-16 16h-47.19c-16.45 0-31.27-9.14-38.64-23.86-2.95-5.92-8.09-6.52-10.17-6.52s-7.22.59-10.02 6.19l-7.67 15.34a15.986 15.986 0 0 1-14.31 8.84c-.38 0-.75-.02-1.14-.05-6.45-.45-12-4.75-14.03-10.89L144 354.59l-10.61 31.88c-5.89 17.66-22.38 29.53-41 29.53H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h12.39c4.83 0 9.11-3.08 10.64-7.66l18.19-54.64c3.3-9.81 12.44-16.41 22.78-16.41s19.48 6.59 22.77 16.41l13.88 41.64c19.77-16.19 54.05-9.7 66 14.16 2.02 4.06 5.96 6.5 10.16 6.5zM377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z"},child:[]}]})(i)}function uM(i){return cn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.694 292.093L500.27 416.248A63.997 63.997 0 0 1 444.989 448H45.025c-18.523 0-30.064-20.093-20.731-36.093l72.424-124.155A64 64 0 0 1 152 256h399.964c18.523 0 30.064 20.093 20.73 36.093zM152 224h328v-48c0-26.51-21.49-48-48-48H272l-64-64H48C21.49 64 0 85.49 0 112v278.046l69.077-118.418C86.214 242.25 117.989 224 152 224z"},child:[]}]})(i)}function cM(i){return cn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(i)}function hM(i){return cn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"},child:[]}]})(i)}function fM(i){return cn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(i)}function dM(i){return cn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"},child:[]}]})(i)}const xh=({isOpen:i,onClose:e,title:t,children:s})=>i?v.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto bg-black bg-opacity-75 flex justify-center items-center",children:v.jsxs("div",{className:"relative bg-gray-800 w-full max-w-3xl m-4 rounded-lg shadow-xl",children:[v.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-700",children:[v.jsx("h3",{className:"text-xl font-bold text-white",children:t}),v.jsx("button",{onClick:e,className:"p-1 text-gray-400 hover:text-white",children:v.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),v.jsx("div",{className:"p-6 max-h-[70vh] overflow-y-auto",children:v.jsx("div",{className:"text-gray-300 space-y-4",children:s})}),v.jsx("div",{className:"p-4 border-t border-gray-700 flex justify-end",children:v.jsx("button",{onClick:e,className:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600",children:"Close"})})]})}):null;xh.propTypes={isOpen:pe.bool.isRequired,onClose:pe.func.isRequired,title:pe.string.isRequired,children:pe.node.isRequired};const nS=({visible:i,onAccept:e,onCustomize:t})=>i?v.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-gray-800 border-t border-gray-700 p-4 md:p-6 z-40",children:v.jsxs("div",{className:"max-w-6xl mx-auto flex flex-col md:flex-row items-center justify-between gap-4",children:[v.jsxs("div",{className:"text-gray-300 text-sm md:text-base flex-1",children:[v.jsxs("p",{className:"mb-2",children:[v.jsx(eS,{className:"inline mr-2 text-green-500"})," We use cookies to enhance your experience on our website. By continuing to use this site, you consent to our use of cookies."]}),v.jsxs("p",{children:["Learn more in our"," ",v.jsx("button",{className:"text-green-500 hover:underline",onClick:t,children:"Cookie Policy"})]})]}),v.jsxs("div",{className:"flex gap-3",children:[v.jsx("button",{onClick:e,className:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600",children:"Accept All"}),v.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-700 text-white rounded hover:bg-gray-600",children:"Customize"})]})]})}):null;nS.propTypes={visible:pe.bool.isRequired,onAccept:pe.func.isRequired,onCustomize:pe.func.isRequired};const mM=()=>v.jsx("div",{className:"flex space-x-4",children:[{icon:v.jsx(Ww,{}),url:"https://web.telegram.org/"},{icon:v.jsx(Xw,{}),url:"https://www.instagram.com/"},{icon:v.jsx(Zw,{}),url:"https://x.com/"},{icon:v.jsx(Jw,{}),url:"https://www.youtube.com/"}].map((i,e)=>v.jsx("a",{href:i.url,target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white text-xl","aria-label":`Social media link ${e+1}`,children:i.icon},e))}),pM=()=>v.jsxs("div",{children:[v.jsxs("h3",{className:"text-white font-semibold text-lg mb-4 flex items-center",children:[v.jsx(uM,{className:"mr-2"})," Problem Categories"]}),v.jsx("ul",{className:"space-y-2",children:["Easy Problems","Medium Problems","Hard Problems","All Categories"].map((i,e)=>v.jsx("li",{children:v.jsx(Gn,{to:"/codeplayground",className:"text-gray-400 hover:text-green-500 transition-colors",children:i})},e))})]}),gM=()=>v.jsxs("div",{children:[v.jsxs("h3",{className:"text-white font-semibold text-lg mb-4 flex items-center",children:[v.jsx(aM,{className:"mr-2"})," Links"]}),v.jsx("ul",{className:"space-y-2",children:[{icon:v.jsx(cM,{className:"mr-2"}),text:"Home",path:"/"},{icon:v.jsx(sM,{className:"mr-2"}),text:"Blogs",path:"/blogs"},{icon:v.jsx(tS,{className:"mr-2"}),text:"Contact Us",path:"/contactus"},{icon:v.jsx(fM,{className:"mr-2"}),text:"Code Playground",path:"/codeplayground"}].map((i,e)=>v.jsx("li",{children:v.jsxs(Gn,{to:i.path,className:"text-gray-400 hover:text-green-500 transition-colors flex items-center",children:[i.icon," ",i.text]})},e))})]}),yM=()=>{const i=new Date().getFullYear(),[e,t]=N.useState(""),[s,o]=N.useState(!1),[l,h]=N.useState({success:!1,message:"Get the Latest News Delivered to Your Inbox!"}),[d,p]=N.useState(null),[g,b]=N.useState(!1);N.useEffect(()=>{localStorage.getItem("cookiesAccepted")||b(!0)},[]);const w=()=>{localStorage.setItem("cookiesAccepted","true"),b(!1)},x=P=>t(P.target.value),C=async P=>{if(P.preventDefault(),!e||!/^\S+@\S+\.\S+$/.test(e)){h({success:!1,message:"Please enter a valid email address"});return}o(!0),h(null);try{const $=xi(Ri,"FooterSection","NewsLetter");await Mg($,{Emails:nw(e)}),t(""),h({success:!0,message:"Successfully subscribed!"})}catch($){console.error("Error adding email: ",$),h({success:!1,message:"Failed to subscribe. Please try again later."})}finally{o(!1)}};return v.jsxs("footer",{className:"bg-gray-900 text-gray-300",children:[v.jsx("div",{className:"max-w-6xl mx-auto px-4 py-8",children:v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[v.jsxs("div",{className:"mb-6 md:mb-0",children:[v.jsx(Gn,{to:"/",className:"flex items-center mb-4",children:v.jsxs("span",{className:"text-white font-bold text-xl",children:["Algo",v.jsx("span",{className:"text-green-500",children:"Arena"})]})}),v.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Master algorithms and ace coding interviews with our progressive learning platform."}),v.jsx(mM,{})]}),v.jsx(pM,{}),v.jsx(gM,{})]})}),v.jsx("div",{className:"border-t border-gray-800",children:v.jsx("div",{className:"max-w-6xl mx-auto px-4 py-6",children:v.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center",children:[v.jsxs("div",{className:"mb-4 md:mb-0",children:[v.jsx("h4",{className:"text-white font-medium mb-2",children:"Stay updated with AlgoArena"}),v.jsx("p",{className:"text-sm text-gray-400",children:"Get notified about new problems and features"})]}),v.jsxs("div",{className:"flex flex-col items-center",children:[v.jsxs("form",{onSubmit:C,className:"flex flex-col sm:flex-row gap-2",children:[v.jsx("input",{type:"email",placeholder:"Enter your email",value:e,onChange:x,disabled:s,className:"bg-gray-800 text-white px-4 py-2 rounded focus:outline-none focus:ring-2 focus:ring-green-500","aria-label":"Email for newsletter",required:!0}),v.jsx("button",{type:"submit",disabled:s,className:`${s?"bg-gray-600":"bg-green-600 hover:bg-green-700"} text-white px-4 py-2 rounded transition-colors`,children:s?"Subscribing...":"Subscribe"})]}),l&&v.jsx("p",{className:`text-sm mt-2 ${l.message==="Get the Latest News Delivered to Your Inbox!"?"text-white":l.success?"text-green-400":"text-red-400"}`,children:l.message})]})]})})}),v.jsx("div",{className:"bg-gray-950 py-4",children:v.jsx("div",{className:"max-w-6xl mx-auto px-4",children:v.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center",children:[v.jsxs("p",{className:"text-sm text-gray-500 mb-2 sm:mb-0",children:[" ",i," AlgoArena. All rights reserved."]}),v.jsx("div",{className:"flex space-x-6",children:[{icon:v.jsx(dM,{className:"mr-1"}),text:"Privacy",policyId:"privacy"},{icon:v.jsx(lM,{className:"mr-1"}),text:"Terms",policyId:"terms"},{icon:v.jsx(eS,{className:"mr-1"}),text:"Cookies",policyId:"cookie"}].map((P,$)=>v.jsxs("button",{onClick:()=>p(P.policyId),className:"text-sm text-gray-500 hover:text-gray-400 transition-colors flex items-center",children:[P.icon," ",P.text]},$))})]})})}),v.jsx(nS,{visible:g,onAccept:w,onCustomize:()=>p("cookie")}),v.jsxs(xh,{isOpen:d==="privacy",onClose:()=>p(null),title:"Privacy Policy",children:[v.jsx("h4",{className:"text-lg font-semibold mb-3 text-green-500",children:"Our Commitment to Your Privacy"}),v.jsx("p",{className:"mb-3",children:"At AlgoArena, we take your privacy seriously. This Privacy Policy outlines how we collect, use, store, and protect your personal information when you use our platform."}),v.jsx("h4",{className:"text-lg font-semibold mb-3 text-green-500",children:"Information We Collect"}),v.jsx("p",{className:"mb-3",children:"We collect information that you provide directly to us, such as your name, email address, and company information when you submit interview questions or contact us. We also collect usage data, including your IP address, browser type, and pages visited."}),v.jsx("h4",{className:"text-lg font-semibold mb-3 text-green-500",children:"How We Use Your Information"}),v.jsx("p",{className:"mb-3",children:"We use your information to provide and improve our services, respond to your inquiries, send updates about our platform, and analyze how users interact with our website to enhance user experience."}),v.jsx("h4",{className:"text-lg font-semibold mb-3 text-green-500",children:"Data Security"}),v.jsx("p",{className:"mb-3",children:"We implement appropriate security measures to protect your personal information from unauthorized access, alteration, or disclosure. Your data is stored on secure servers and we regularly review our security practices."}),v.jsx("h4",{className:"text-lg font-semibold mb-3 text-green-500",children:"Your Rights"}),v.jsx("p",{children:"You have the right to access, correct, or delete your personal information. You may also object to our processing of your data or request that we restrict how we use it. To exercise these rights, please contact us at privacy@algoarena.com."})]}),v.jsxs(xh,{isOpen:d==="terms",onClose:()=>p(null),title:"Terms of Service",children:[v.jsx("h4",{className:"text-lg font-semibold mb-3 text-green-500",children:"Terms of Service Agreement"}),v.jsx("p",{className:"mb-3",children:"Welcome to AlgoArena. By accessing or using our platform, you agree to be bound by these Terms of Service. Please read them carefully."}),v.jsx("h4",{className:"text-lg font-semibold mb-3 text-green-500",children:"Use of Our Services"}),v.jsx("p",{className:"mb-3",children:"You may use our services only as permitted by these terms and applicable laws. You are responsible for ensuring that your use of our platform complies with all relevant regulations."}),v.jsx("h4",{className:"text-lg font-semibold mb-3 text-green-500",children:"User Content"}),v.jsx("p",{className:"mb-3",children:"When you submit content to our platform, you grant AlgoArena a worldwide, non-exclusive, royalty-free license to use, reproduce, modify, and distribute that content for the purpose of providing and improving our services."}),v.jsx("h4",{className:"text-lg font-semibold mb-3 text-green-500",children:"Intellectual Property"}),v.jsx("p",{className:"mb-3",children:"All content, features, and functionality of our platform, including but not limited to text, graphics, logos, icons, and software, are owned by AlgoArena and are protected by copyright, trademark, and other intellectual property laws."}),v.jsx("h4",{className:"text-lg font-semibold mb-3 text-green-500",children:"Limitation of Liability"}),v.jsx("p",{children:"AlgoArena shall not be liable for any indirect, incidental, special, consequential, or punitive damages arising out of or relating to your use of our platform. Our liability is limited to the maximum extent permitted by law."})]}),v.jsxs(xh,{isOpen:d==="cookie",onClose:()=>p(null),title:"Cookie Policy",children:[v.jsx("h4",{className:"text-lg font-semibold mb-3 text-green-500",children:"Our Use of Cookies"}),v.jsx("p",{className:"mb-3",children:"AlgoArena uses cookies and similar technologies to enhance your experience on our platform, analyze usage patterns, and deliver personalized content."}),v.jsx("h4",{className:"text-lg font-semibold mb-3 text-green-500",children:"What Are Cookies?"}),v.jsx("p",{className:"mb-3",children:"Cookies are small text files that are placed on your device when you visit our website. They allow us to recognize your device and remember certain information about your visit, such as your preferences and actions on our site."}),v.jsx("h4",{className:"text-lg font-semibold mb-3 text-green-500",children:"Types of Cookies We Use"}),v.jsxs("ul",{className:"list-disc pl-5 mb-3 space-y-2",children:[v.jsxs("li",{children:[v.jsx("span",{className:"font-medium",children:"Essential Cookies:"})," These are necessary for the website to function properly and cannot be switched off."]}),v.jsxs("li",{children:[v.jsx("span",{className:"font-medium",children:"Performance Cookies:"})," These help us understand how visitors interact with our website, allowing us to improve the user experience."]}),v.jsxs("li",{children:[v.jsx("span",{className:"font-medium",children:"Functional Cookies:"})," These enable enhanced functionality and personalization, such as remembering your preferences."]}),v.jsxs("li",{children:[v.jsx("span",{className:"font-medium",children:"Targeting Cookies:"})," These may be set by our advertising partners to display ads that are relevant to your interests."]})]}),v.jsx("h4",{className:"text-lg font-semibold mb-3 text-green-500",children:"Managing Cookies"}),v.jsx("p",{children:"You can control and/or delete cookies as you wish through your browser settings. You can delete all cookies that are already on your device and set most browsers to prevent them from being placed. However, doing so may affect your ability to use certain features of our website."})]})]})},vM=N.memo(yM);function _M(){const{pathname:i}=Mi();return N.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[i]),null}const ub={Easy:{badge:"bg-green-600 text-white",button:"bg-green-500 text-white hover:bg-green-600",buttonText:"It could be easy for you."},Medium:{badge:"bg-yellow-500 text-gray-900",button:"bg-yellow-500 text-gray-900 hover:bg-yellow-600",buttonText:"Needs your focus to crack it."},Hard:{badge:"bg-red-600 text-white",button:"bg-red-600 text-white hover:bg-red-700",buttonText:"Push your limits to solve this one!"}},Up=N.memo(()=>v.jsxs("span",{className:"inline-flex gap-1",children:[v.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-bounce"}),v.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-bounce animation-delay-200"}),v.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-bounce animation-delay-400"})]}));Up.displayName="TypingDots";const $g=N.memo(({icon:i,title:e,desc:t})=>v.jsxs("div",{className:"flex flex-col items-center px-2",children:[v.jsx("div",{className:"p-3 sm:p-4 bg-white rounded-full",children:i}),v.jsx("h3",{className:"text-base md:text-lg font-semibold mt-2 sm:mt-3 text-center",children:e}),v.jsx("p",{className:"text-gray-400 mt-1 sm:mt-2 text-sm md:text-base text-center",children:t})]}));$g.displayName="Step";$g.propTypes={icon:pe.element.isRequired,title:pe.string.isRequired,desc:pe.string.isRequired};const Gg=N.memo(({problem:i})=>{const e=ub[i.difficulty]||ub.Medium;return v.jsxs("div",{className:"bg-gray-800 p-4 md:p-6 rounded-lg shadow-lg text-center space-y-3 md:space-y-4 h-full flex flex-col justify-between",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"text-lg md:text-xl font-semibold text-white",children:i.title}),v.jsx("span",{className:`inline-block px-3 py-1 text-xs md:text-sm font-semibold rounded-full mt-2 ${e.badge}`,children:i.difficulty}),v.jsx("p",{className:"text-gray-300 text-sm md:text-base mt-2",children:i.description})]}),v.jsx("button",{className:`mt-2 px-3 py-1.5 md:px-4 md:py-2 rounded-lg text-sm md:text-base font-semibold transition ${e.button}`,children:e.buttonText})]})});Gg.displayName="ProblemCard";Gg.propTypes={problem:pe.shape({title:pe.string.isRequired,difficulty:pe.string.isRequired,description:pe.string.isRequired}).isRequired};const Kg=N.memo(({title:i,desc:e})=>v.jsxs("div",{className:"bg-gray-800 p-4 md:p-6 rounded-lg shadow-lg border border-green-500 h-full",children:[v.jsx("h3",{className:"text-lg md:text-xl font-semibold text-white",children:i}),v.jsx("p",{className:"text-gray-400 mt-2 text-sm md:text-base",children:e})]}));Kg.displayName="FeatureBox";Kg.propTypes={title:pe.string.isRequired,desc:pe.string.isRequired};const EM=[{title:"Practice That Matters",desc:"Carefully crafted problems that mirror real-world coding interviews."},{title:"Learn By Doing",desc:"No lengthy tutorialsimprove through hands-on problem solving."},{title:"Track Your Progress",desc:"Watch your skills grow as you advance through difficulty levels."},{title:"Built For Everyone",desc:"Whether you're a student, job seeker, or experienced developer."}],bM=[{icon:v.jsx(cw,{size:28,className:"text-green-500"}),title:"Choose Your Level",desc:"Select from Easy, Medium, or Hard challenges."},{icon:v.jsx(ow,{size:28,className:"text-green-500"}),title:"Solve Problems",desc:"Write, test, and optimize your code in our editor."},{icon:v.jsx(aw,{size:28,className:"text-green-500"}),title:"Get Instant Feedback",desc:"Receive immediate feedback with test cases."},{icon:v.jsx(SD,{size:28,className:"text-green-500"}),title:"Level Up",desc:"Unlock more challenges as you progress."}],TM=()=>{const[i,e]=N.useState(null),[t,s]=N.useState(null),[o,l]=N.useState(null);return N.useEffect(()=>{const h=xi(Ri,"HomePage","HeroSection"),d=xi(Ri,"HomePage","Featured Problems"),p=PE(h,b=>{var w,x;if(b.exists()){const C=b.data();e((w=C==null?void 0:C.HeroSectionQuotes)==null?void 0:w[C==null?void 0:C.WhichQoute]),s((x=C==null?void 0:C.HeroSectionMessage)==null?void 0:x[C==null?void 0:C.WhichMessage])}}),g=PE(d,b=>{var w;b.exists()&&l((w=b.data())==null?void 0:w.FeaturedProblemsArray)});return()=>{p(),g()}},[]),{heroQuote:i,heroMessage:t,featuredProblems:o}},zp=N.memo(()=>{const i=tf(),e=()=>{i("/codeplayground")};return v.jsx("button",{onClick:e,className:"mt-4 md:mt-5 px-4 py-2 md:px-6 md:py-3 bg-green-500 text-white rounded-lg text-sm md:text-base font-semibold hover:bg-green-600 transition cursor-pointer",children:"Start Coding Now"})});zp.displayName="ActionButton";const iS=()=>{const{heroQuote:i,heroMessage:e,featuredProblems:t}=TM(),[s,o]=N.useState(0);return N.useEffect(()=>{const l=()=>{const h=document.querySelector("nav");h&&o(h.offsetHeight)};return l(),window.addEventListener("resize",l),()=>{window.removeEventListener("resize",l)}},[]),v.jsxs("div",{className:"bg-gray-900 text-white",style:{paddingTop:s?`${s}px`:"3.5rem"},children:[v.jsxs("section",{className:"text-center py-10 md:py-16 lg:py-20 px-4 bg-gray-900 text-white",children:[v.jsxs("h1",{className:"text-2xl md:text-3xl lg:text-4xl font-bold",children:["Master Algorithms,"," ",v.jsx("span",{className:"text-green-500",children:i||v.jsx(Up,{})})]}),v.jsx("p",{className:"text-base md:text-lg mt-3 text-gray-300 max-w-2xl mx-auto",children:e||v.jsx(Up,{})}),v.jsx(zp,{})]}),v.jsxs("section",{className:"py-10 md:py-16 text-center bg-gray-900 text-white px-4",children:[v.jsx("h2",{className:"text-xl md:text-2xl lg:text-3xl font-bold mb-6 md:mb-8 text-green-500",children:"How It Works"}),v.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-6 lg:gap-8 px-2 md:px-6 lg:px-10",children:bM.map((l,h)=>v.jsx($g,{icon:l.icon,title:l.title,desc:l.desc},h))})]}),v.jsxs("section",{className:"py-10 md:py-16 bg-gray-900 text-white text-center px-4",children:[v.jsx("h2",{className:"text-xl md:text-2xl lg:text-3xl font-bold mb-6 md:mb-8 text-green-500",children:"Featured Problems"}),v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6 px-2 md:px-6 lg:px-10",children:t===null?Array.from({length:3},(l,h)=>v.jsx("div",{className:"h-32 md:h-40 bg-gray-700 animate-pulse rounded-lg"},h)):t.map((l,h)=>v.jsx(Gg,{problem:l},h))})]}),v.jsxs("section",{className:"py-10 md:py-16 text-center bg-gray-900 text-white px-4",children:[v.jsxs("h2",{className:"text-xl md:text-2xl lg:text-3xl font-bold mb-6 md:mb-8 text-green-500",children:["Why ",v.jsx("span",{className:"text-green-500",children:"AlgoArena?"})]}),v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 md:gap-6 lg:gap-8 px-2 md:px-6 lg:px-10",children:EM.map((l,h)=>v.jsx(Kg,{title:l.title,desc:l.desc},h))})]}),v.jsxs("section",{className:"text-center py-10 md:py-16 bg-gray-900 text-white px-4",children:[v.jsxs("h2",{className:"text-xl md:text-2xl lg:text-3xl font-bold",children:["Ready to ",v.jsx("span",{className:"text-green-500",children:"sharpen"})," your algorithm skills?"]}),v.jsx(zp,{})]})]})};iS.displayName="Home";function wM(){return v.jsx("div",{className:"min-h-screen bg-slate-50 w-full flex items-center justify-center",children:v.jsxs("div",{className:"flex flex-col items-start max-w-3xl gap-5",children:[v.jsx("h1",{className:"text-6xl font-bold text-black text-center mt-20",children:"Blogs"}),v.jsx("p",{children:"This is a Blogs page"})]})})}const Qg=N.memo(({icon:i,href:e,label:t})=>v.jsx("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center p-3 bg-gray-800 rounded-full text-gray-400 hover:text-white transition-colors","aria-label":t,children:i}));Qg.displayName="SocialLink";Qg.propTypes={icon:pe.element.isRequired,href:pe.string.isRequired,label:pe.string.isRequired};const Yg=N.memo(({icon:i,title:e,description:t})=>v.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg border border-green-500 flex flex-col items-center text-center",children:[v.jsx("div",{className:"p-4 bg-gray-700 rounded-full mb-4",children:i}),v.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:e}),v.jsx("p",{className:"text-gray-400 text-sm",children:t})]}));Yg.displayName="ContactOption";Yg.propTypes={icon:pe.element.isRequired,title:pe.string.isRequired,description:pe.string.isRequired};const is=N.memo(({id:i,name:e,label:t,type:s="text",value:o,onChange:l,placeholder:h,required:d=!1,rows:p,options:g})=>s==="select"?v.jsxs("div",{children:[v.jsx("label",{htmlFor:i,className:"block text-sm font-medium text-gray-300 mb-1",children:t}),v.jsx("select",{id:i,name:e,value:o,onChange:l,className:"w-full p-3 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-white",required:d,children:g.map(b=>v.jsx("option",{value:b.value,children:b.label},b.value))})]}):s==="textarea"?v.jsxs("div",{children:[v.jsx("label",{htmlFor:i,className:"block text-sm font-medium text-gray-300 mb-1",children:t}),v.jsx("textarea",{id:i,name:e,value:o,onChange:l,rows:p||6,required:d,className:"w-full p-3 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-white",placeholder:h})]}):v.jsxs("div",{children:[v.jsx("label",{htmlFor:i,className:"block text-sm font-medium text-gray-300 mb-1",children:t}),v.jsx("input",{type:s,id:i,name:e,value:o,onChange:l,required:d,className:"w-full p-3 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-white",placeholder:h})]}));is.displayName="FormField";is.propTypes={id:pe.string.isRequired,name:pe.string.isRequired,label:pe.string.isRequired,type:pe.oneOf(["text","email","textarea","select"]),value:pe.string.isRequired,onChange:pe.func.isRequired,placeholder:pe.string,required:pe.bool,rows:pe.number,options:pe.arrayOf(pe.shape({value:pe.string.isRequired,label:pe.string.isRequired}))};const Xg=N.memo(({isSubmitting:i})=>v.jsx("button",{type:"submit",disabled:i,className:"px-6 py-3 bg-green-500 text-white rounded-lg font-semibold hover:bg-green-600 transition disabled:opacity-70 disabled:cursor-not-allowed flex items-center gap-2",children:i?v.jsxs(v.Fragment,{children:[v.jsx("span",{className:"inline-block w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),v.jsx("span",{children:"Submitting..."})]}):v.jsxs(v.Fragment,{children:[v.jsx(hM,{size:18}),v.jsx("span",{children:"Submit Question"})]})}));Xg.displayName="SubmitButton";Xg.propTypes={isSubmitting:pe.bool.isRequired};const Wg=N.memo(({status:i})=>i?v.jsx("div",{className:`p-4 mb-6 rounded-lg ${i.type==="success"?"bg-green-900 text-green-300":"bg-red-900 text-red-300"}`,children:i.message}):null);Wg.displayName="StatusMessage";Wg.propTypes={status:pe.shape({type:pe.oneOf(["success","error"]).isRequired,message:pe.string.isRequired})};const rS=()=>{const[i,e]=N.useState({name:"",email:"",company:"",questionTitle:"",questionDescription:"",difficulty:"Medium"}),[t,s]=N.useState(!1),[o,l]=N.useState(null),[h,d]=N.useState(0),p=[{value:"Easy",label:"Easy"},{value:"Medium",label:"Medium"},{value:"Hard",label:"Hard"}],g=[{icon:v.jsx(Ww,{size:24}),href:"https://web.telegram.org/",label:"Telegram"},{icon:v.jsx(Xw,{size:24}),href:"https://www.instagram.com/",label:"Instagram"},{icon:v.jsx(Zw,{size:24}),href:"https://x.com/",label:"Twitter"},{icon:v.jsx(Jw,{size:24}),href:"https://www.youtube.com/",label:"Youtube"}],b=[{icon:v.jsx(tS,{size:28,className:"text-green-500"}),title:"Email Us",description:"Have a general inquiry? Our team is ready to answer your questions at support@algoarena.com"},{icon:v.jsx(oM,{size:28,className:"text-green-500"}),title:"Submit an Interview Question",description:"Share a coding challenge you faced in an interview to help others prepare."}];N.useEffect(()=>{const C=document.querySelector("nav");return C&&d(C.offsetHeight),()=>{}},[]);const w=C=>{const{name:P,value:$}=C.target;e(j=>({...j,[P]:$}))},x=async C=>{C.preventDefault(),s(!0);try{await MO(BT(Ri,"SubmittedQuestions"),{...i,createdAt:PO(),status:"pending"}),e({name:"",email:"",company:"",questionTitle:"",questionDescription:"",difficulty:"Medium"}),l({type:"success",message:"Thank you! Your question has been submitted successfully."});const P=setTimeout(()=>{l(null)},5e3);return()=>clearTimeout(P)}catch(P){console.error("Error submitting question:",P),l({type:"error",message:"There was an error submitting your question. Please try again."})}finally{s(!1)}};return v.jsxs("div",{className:"bg-gray-900 text-white",style:{paddingTop:h?`${h}px`:"3.5rem"},children:[v.jsxs("section",{className:"text-center py-10 md:py-16 px-4 bg-gray-900 text-white",children:[v.jsxs("h1",{className:"text-2xl md:text-3xl lg:text-4xl font-bold",children:["Get in touch with Algo",v.jsx("span",{className:"text-green-500",children:"Arena"})]}),v.jsx("p",{className:"text-base md:text-lg mt-3 text-gray-300 max-w-2xl mx-auto",children:"Have a question from a technical interview? Want to contribute or give feedback? We would love to hear from you!"})]}),v.jsx("section",{className:"py-10 bg-gray-900 px-4",children:v.jsx("div",{className:"max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-6",children:b.map((C,P)=>v.jsx(Yg,{icon:C.icon,title:C.title,description:C.description},P))})}),v.jsx("section",{className:"py-10 md:py-16 bg-gray-900 px-4",children:v.jsxs("div",{className:"max-w-3xl mx-auto bg-gray-800 rounded-lg shadow-lg p-6 md:p-8",children:[v.jsxs("h2",{className:"text-xl md:text-2xl font-bold mb-6 text-center",children:["Submit a"," ",v.jsx("span",{className:"text-green-500",children:"Technical Interview Question"})]}),v.jsx(Wg,{status:o}),v.jsxs("form",{onSubmit:x,className:"space-y-6",children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[v.jsx(is,{id:"name",name:"name",label:"Your Name",value:i.name,onChange:w,required:!0,placeholder:"John Doe"}),v.jsx(is,{id:"email",name:"email",type:"email",label:"Email Address",value:i.email,onChange:w,required:!0,placeholder:"johndoe@example.com"})]}),v.jsx(is,{id:"company",name:"company",label:"Company (Optional)",value:i.company,onChange:w,placeholder:"Where was this question asked?"}),v.jsx(is,{id:"questionTitle",name:"questionTitle",label:"Question Title",value:i.questionTitle,onChange:w,required:!0,placeholder:"e.g., 'Implement a Binary Search Tree'"}),v.jsx(is,{id:"difficulty",name:"difficulty",type:"select",label:"Difficulty Level",value:i.difficulty,onChange:w,options:p}),v.jsx(is,{id:"questionDescription",name:"questionDescription",type:"textarea",label:"Question Description",value:i.questionDescription,onChange:w,required:!0,rows:6,placeholder:"Please provide the full question details, including any constraints, input/output examples, and expected time/space complexity."}),v.jsx("div",{className:"flex justify-center",children:v.jsx(Xg,{isSubmitting:t})})]})]})}),v.jsxs("section",{className:"py-10 md:py-16 bg-gray-900 text-white text-center px-4",children:[v.jsx("h2",{className:"text-xl md:text-2xl font-bold mb-8 text-white",children:"Connect With Us"}),v.jsx("div",{className:"flex justify-center space-x-6 mb-8",children:g.map((C,P)=>v.jsx(Qg,{icon:C.icon,href:C.href,label:C.label},P))})]})]})};rS.displayName="Contactus";const SM=N.memo(rS);function AM(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function cb(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),t.push.apply(t,s)}return t}function hb(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?cb(Object(t),!0).forEach(function(s){AM(i,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):cb(Object(t)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(t,s))})}return i}function xM(i,e){if(i==null)return{};var t={},s=Object.keys(i),o,l;for(l=0;l<s.length;l++)o=s[l],!(e.indexOf(o)>=0)&&(t[o]=i[o]);return t}function RM(i,e){if(i==null)return{};var t=xM(i,e),s,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(i);for(o=0;o<l.length;o++)s=l[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(i,s)&&(t[s]=i[s])}return t}function IM(i,e){return CM(i)||NM(i,e)||OM(i,e)||DM()}function CM(i){if(Array.isArray(i))return i}function NM(i,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(i)))){var t=[],s=!0,o=!1,l=void 0;try{for(var h=i[Symbol.iterator](),d;!(s=(d=h.next()).done)&&(t.push(d.value),!(e&&t.length===e));s=!0);}catch(p){o=!0,l=p}finally{try{!s&&h.return!=null&&h.return()}finally{if(o)throw l}}return t}}function OM(i,e){if(i){if(typeof i=="string")return fb(i,e);var t=Object.prototype.toString.call(i).slice(8,-1);if(t==="Object"&&i.constructor&&(t=i.constructor.name),t==="Map"||t==="Set")return Array.from(i);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return fb(i,e)}}function fb(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,s=new Array(e);t<e;t++)s[t]=i[t];return s}function DM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kM(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function db(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),t.push.apply(t,s)}return t}function mb(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?db(Object(t),!0).forEach(function(s){kM(i,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):db(Object(t)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(t,s))})}return i}function MM(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return function(s){return e.reduceRight(function(o,l){return l(o)},s)}}function ru(i){return function e(){for(var t=this,s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];return o.length>=i.length?i.apply(this,o):function(){for(var h=arguments.length,d=new Array(h),p=0;p<h;p++)d[p]=arguments[p];return e.apply(t,[].concat(o,d))}}}function Zh(i){return{}.toString.call(i).includes("Object")}function PM(i){return!Object.keys(i).length}function Eu(i){return typeof i=="function"}function VM(i,e){return Object.prototype.hasOwnProperty.call(i,e)}function LM(i,e){return Zh(e)||ms("changeType"),Object.keys(e).some(function(t){return!VM(i,t)})&&ms("changeField"),e}function jM(i){Eu(i)||ms("selectorType")}function UM(i){Eu(i)||Zh(i)||ms("handlerType"),Zh(i)&&Object.values(i).some(function(e){return!Eu(e)})&&ms("handlersType")}function zM(i){i||ms("initialIsRequired"),Zh(i)||ms("initialType"),PM(i)&&ms("initialContent")}function qM(i,e){throw new Error(i[e]||i.default)}var BM={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},ms=ru(qM)(BM),ch={changes:LM,selector:jM,handler:UM,initial:zM};function HM(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};ch.initial(i),ch.handler(e);var t={current:i},s=ru(GM)(t,e),o=ru($M)(t),l=ru(ch.changes)(i),h=ru(FM)(t);function d(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(b){return b};return ch.selector(g),g(t.current)}function p(g){MM(s,o,l,h)(g)}return[d,p]}function FM(i,e){return Eu(e)?e(i.current):e}function $M(i,e){return i.current=mb(mb({},i.current),e),e}function GM(i,e,t){return Eu(e)?e(i.current):Object.keys(t).forEach(function(s){var o;return(o=e[s])===null||o===void 0?void 0:o.call(e,i.current[s])}),t}var KM={create:HM},QM={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs"}};function YM(i){return function e(){for(var t=this,s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];return o.length>=i.length?i.apply(this,o):function(){for(var h=arguments.length,d=new Array(h),p=0;p<h;p++)d[p]=arguments[p];return e.apply(t,[].concat(o,d))}}}function XM(i){return{}.toString.call(i).includes("Object")}function WM(i){return i||pb("configIsRequired"),XM(i)||pb("configType"),i.urls?(ZM(),{paths:{vs:i.urls.monacoBase}}):i}function ZM(){console.warn(sS.deprecation)}function JM(i,e){throw new Error(i[e]||i.default)}var sS={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},pb=YM(JM)(sS),e6={config:WM},t6=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return function(o){return t.reduceRight(function(l,h){return h(l)},o)}};function aS(i,e){return Object.keys(e).forEach(function(t){e[t]instanceof Object&&i[t]&&Object.assign(e[t],aS(i[t],e[t]))}),hb(hb({},i),e)}var n6={type:"cancelation",msg:"operation is manually canceled"};function ap(i){var e=!1,t=new Promise(function(s,o){i.then(function(l){return e?o(n6):s(l)}),i.catch(o)});return t.cancel=function(){return e=!0},t}var i6=KM.create({config:QM,isInitialized:!1,resolve:null,reject:null,monaco:null}),oS=IM(i6,2),Pu=oS[0],Mf=oS[1];function r6(i){var e=e6.config(i),t=e.monaco,s=RM(e,["monaco"]);Mf(function(o){return{config:aS(o.config,s),monaco:t}})}function s6(){var i=Pu(function(e){var t=e.monaco,s=e.isInitialized,o=e.resolve;return{monaco:t,isInitialized:s,resolve:o}});if(!i.isInitialized){if(Mf({isInitialized:!0}),i.monaco)return i.resolve(i.monaco),ap(op);if(window.monaco&&window.monaco.editor)return lS(window.monaco),i.resolve(window.monaco),ap(op);t6(a6,l6)(u6)}return ap(op)}function a6(i){return document.body.appendChild(i)}function o6(i){var e=document.createElement("script");return i&&(e.src=i),e}function l6(i){var e=Pu(function(s){var o=s.config,l=s.reject;return{config:o,reject:l}}),t=o6("".concat(e.config.paths.vs,"/loader.js"));return t.onload=function(){return i()},t.onerror=e.reject,t}function u6(){var i=Pu(function(t){var s=t.config,o=t.resolve,l=t.reject;return{config:s,resolve:o,reject:l}}),e=window.require;e.config(i.config),e(["vs/editor/editor.main"],function(t){lS(t),i.resolve(t)},function(t){i.reject(t)})}function lS(i){Pu().monaco||Mf({monaco:i})}function c6(){return Pu(function(i){var e=i.monaco;return e})}var op=new Promise(function(i,e){return Mf({resolve:i,reject:e})}),uS={config:r6,init:s6,__getMonacoInstance:c6},h6={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},lp=h6,f6={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},d6=f6;function m6({children:i}){return Rn.createElement("div",{style:d6.container},i)}var p6=m6,g6=p6;function y6({width:i,height:e,isEditorReady:t,loading:s,_ref:o,className:l,wrapperProps:h}){return Rn.createElement("section",{style:{...lp.wrapper,width:i,height:e},...h},!t&&Rn.createElement(g6,null,s),Rn.createElement("div",{ref:o,style:{...lp.fullWidth,...!t&&lp.hide},className:l}))}var v6=y6,cS=N.memo(v6);function _6(i){N.useEffect(i,[])}var hS=_6;function E6(i,e,t=!0){let s=N.useRef(!0);N.useEffect(s.current||!t?()=>{s.current=!1}:i,e)}var An=E6;function cu(){}function Eo(i,e,t,s){return b6(i,s)||T6(i,e,t,s)}function b6(i,e){return i.editor.getModel(fS(i,e))}function T6(i,e,t,s){return i.editor.createModel(e,t,s?fS(i,s):void 0)}function fS(i,e){return i.Uri.parse(e)}function w6({original:i,modified:e,language:t,originalLanguage:s,modifiedLanguage:o,originalModelPath:l,modifiedModelPath:h,keepCurrentOriginalModel:d=!1,keepCurrentModifiedModel:p=!1,theme:g="light",loading:b="Loading...",options:w={},height:x="100%",width:C="100%",className:P,wrapperProps:$={},beforeMount:j=cu,onMount:Q=cu}){let[Z,J]=N.useState(!1),[le,re]=N.useState(!0),he=N.useRef(null),M=N.useRef(null),I=N.useRef(null),A=N.useRef(Q),R=N.useRef(j),V=N.useRef(!1);hS(()=>{let se=uS.init();return se.then(X=>(M.current=X)&&re(!1)).catch(X=>(X==null?void 0:X.type)!=="cancelation"&&console.error("Monaco initialization: error:",X)),()=>he.current?Ke():se.cancel()}),An(()=>{if(he.current&&M.current){let se=he.current.getOriginalEditor(),X=Eo(M.current,i||"",s||t||"text",l||"");X!==se.getModel()&&se.setModel(X)}},[l],Z),An(()=>{if(he.current&&M.current){let se=he.current.getModifiedEditor(),X=Eo(M.current,e||"",o||t||"text",h||"");X!==se.getModel()&&se.setModel(X)}},[h],Z),An(()=>{let se=he.current.getModifiedEditor();se.getOption(M.current.editor.EditorOption.readOnly)?se.setValue(e||""):e!==se.getValue()&&(se.executeEdits("",[{range:se.getModel().getFullModelRange(),text:e||"",forceMoveMarkers:!0}]),se.pushUndoStop())},[e],Z),An(()=>{var se,X;(X=(se=he.current)==null?void 0:se.getModel())==null||X.original.setValue(i||"")},[i],Z),An(()=>{let{original:se,modified:X}=he.current.getModel();M.current.editor.setModelLanguage(se,s||t||"text"),M.current.editor.setModelLanguage(X,o||t||"text")},[t,s,o],Z),An(()=>{var se;(se=M.current)==null||se.editor.setTheme(g)},[g],Z),An(()=>{var se;(se=he.current)==null||se.updateOptions(w)},[w],Z);let U=N.useCallback(()=>{var de;if(!M.current)return;R.current(M.current);let se=Eo(M.current,i||"",s||t||"text",l||""),X=Eo(M.current,e||"",o||t||"text",h||"");(de=he.current)==null||de.setModel({original:se,modified:X})},[t,e,o,i,s,l,h]),k=N.useCallback(()=>{var se;!V.current&&I.current&&(he.current=M.current.editor.createDiffEditor(I.current,{automaticLayout:!0,...w}),U(),(se=M.current)==null||se.editor.setTheme(g),J(!0),V.current=!0)},[w,g,U]);N.useEffect(()=>{Z&&A.current(he.current,M.current)},[Z]),N.useEffect(()=>{!le&&!Z&&k()},[le,Z,k]);function Ke(){var X,de,fe,xe;let se=(X=he.current)==null?void 0:X.getModel();d||((de=se==null?void 0:se.original)==null||de.dispose()),p||((fe=se==null?void 0:se.modified)==null||fe.dispose()),(xe=he.current)==null||xe.dispose()}return Rn.createElement(cS,{width:C,height:x,isEditorReady:Z,loading:b,_ref:I,className:P,wrapperProps:$})}var S6=w6;N.memo(S6);function A6(i){let e=N.useRef();return N.useEffect(()=>{e.current=i},[i]),e.current}var x6=A6,hh=new Map;function R6({defaultValue:i,defaultLanguage:e,defaultPath:t,value:s,language:o,path:l,theme:h="light",line:d,loading:p="Loading...",options:g={},overrideServices:b={},saveViewState:w=!0,keepCurrentModel:x=!1,width:C="100%",height:P="100%",className:$,wrapperProps:j={},beforeMount:Q=cu,onMount:Z=cu,onChange:J,onValidate:le=cu}){let[re,he]=N.useState(!1),[M,I]=N.useState(!0),A=N.useRef(null),R=N.useRef(null),V=N.useRef(null),U=N.useRef(Z),k=N.useRef(Q),Ke=N.useRef(),se=N.useRef(s),X=x6(l),de=N.useRef(!1),fe=N.useRef(!1);hS(()=>{let B=uS.init();return B.then(ne=>(A.current=ne)&&I(!1)).catch(ne=>(ne==null?void 0:ne.type)!=="cancelation"&&console.error("Monaco initialization: error:",ne)),()=>R.current?D():B.cancel()}),An(()=>{var ne,ae,ce,be;let B=Eo(A.current,i||s||"",e||o||"",l||t||"");B!==((ne=R.current)==null?void 0:ne.getModel())&&(w&&hh.set(X,(ae=R.current)==null?void 0:ae.saveViewState()),(ce=R.current)==null||ce.setModel(B),w&&((be=R.current)==null||be.restoreViewState(hh.get(l))))},[l],re),An(()=>{var B;(B=R.current)==null||B.updateOptions(g)},[g],re),An(()=>{!R.current||s===void 0||(R.current.getOption(A.current.editor.EditorOption.readOnly)?R.current.setValue(s):s!==R.current.getValue()&&(fe.current=!0,R.current.executeEdits("",[{range:R.current.getModel().getFullModelRange(),text:s,forceMoveMarkers:!0}]),R.current.pushUndoStop(),fe.current=!1))},[s],re),An(()=>{var ne,ae;let B=(ne=R.current)==null?void 0:ne.getModel();B&&o&&((ae=A.current)==null||ae.editor.setModelLanguage(B,o))},[o],re),An(()=>{var B;d!==void 0&&((B=R.current)==null||B.revealLine(d))},[d],re),An(()=>{var B;(B=A.current)==null||B.editor.setTheme(h)},[h],re);let xe=N.useCallback(()=>{var B;if(!(!V.current||!A.current)&&!de.current){k.current(A.current);let ne=l||t,ae=Eo(A.current,s||i||"",e||o||"",ne||"");R.current=(B=A.current)==null?void 0:B.editor.create(V.current,{model:ae,automaticLayout:!0,...g},b),w&&R.current.restoreViewState(hh.get(ne)),A.current.editor.setTheme(h),d!==void 0&&R.current.revealLine(d),he(!0),de.current=!0}},[i,e,t,s,o,l,g,b,w,h,d]);N.useEffect(()=>{re&&U.current(R.current,A.current)},[re]),N.useEffect(()=>{!M&&!re&&xe()},[M,re,xe]),se.current=s,N.useEffect(()=>{var B,ne;re&&J&&((B=Ke.current)==null||B.dispose(),Ke.current=(ne=R.current)==null?void 0:ne.onDidChangeModelContent(ae=>{fe.current||J(R.current.getValue(),ae)}))},[re,J]),N.useEffect(()=>{if(re){let B=A.current.editor.onDidChangeMarkers(ne=>{var ce;let ae=(ce=R.current.getModel())==null?void 0:ce.uri;if(ae&&ne.find(be=>be.path===ae.path)){let be=A.current.editor.getModelMarkers({resource:ae});le==null||le(be)}});return()=>{B==null||B.dispose()}}return()=>{}},[re,le]);function D(){var B,ne;(B=Ke.current)==null||B.dispose(),x?w&&hh.set(l,R.current.saveViewState()):(ne=R.current.getModel())==null||ne.dispose(),R.current.dispose()}return Rn.createElement(cS,{width:C,height:P,isEditorReady:re,loading:p,_ref:V,className:$,wrapperProps:j})}var I6=R6,C6=N.memo(I6),N6=C6;const dS=[{value:"easy",label:"Easy",icon:qO,color:"bg-green-600",hoverColor:"hover:bg-green-700",textColor:"text-green-500",description:"Great for beginners. Fundamental concepts and straightforward solutions."},{value:"medium",label:"Medium",icon:cw,color:"bg-yellow-600",hoverColor:"hover:bg-yellow-700",textColor:"text-yellow-500",description:"Intermediate challenge. Requires good problem-solving skills."},{value:"hard",label:"Hard",icon:$O,color:"bg-red-600",hoverColor:"hover:bg-red-700",textColor:"text-red-500",description:"Advanced problems. Tests in-depth knowledge and optimization skills."}],Zg=N.memo(({difficulty:i,isSelected:e,onSelect:t})=>{const{value:s,label:o,icon:l,color:h,hoverColor:d,textColor:p,description:g}=i,b=N.useCallback(()=>{t(s)},[t,s]);return v.jsxs("div",{className:`cursor-pointer p-2 sm:p-4 rounded-lg border-2 transition-all ${e?`border-${p.split("-")[1]}-500 shadow-lg`:"border-gray-700 hover:border-gray-500"} flex flex-col`,onClick:b,children:[v.jsxs("div",{className:"flex items-center mb-2 sm:mb-3",children:[v.jsx("div",{className:`p-1 sm:p-2 rounded-md ${h} mr-2 sm:mr-3`,children:v.jsx(l,{size:14,className:"sm:w-4 sm:h-4"})}),v.jsx("h3",{className:`text-xs sm:text-sm font-bold ${p}`,children:o})]}),v.jsx("p",{className:"text-xs sm:text-sm text-gray-400 flex-grow mb-2 sm:mb-3",children:g}),v.jsx("button",{className:`px-3 py-1.5 sm:px-4 sm:py-2 rounded-md text-white font-medium text-xs sm:text-sm ${h} ${d} transition-colors w-full`,children:o})]})});Zg.displayName="DifficultyCard";Zg.propTypes={difficulty:pe.object.isRequired,isSelected:pe.bool.isRequired,onSelect:pe.func.isRequired};const Jg=N.memo(({question:i,difficulty:e,isSolved:t,onMarkSolved:s,isSubmitting:o})=>{if(!i)return v.jsx("div",{className:"p-2 text-center text-gray-400",children:"No question available. Please select a difficulty level."});const l=dS.find(w=>w.value===e),{label:h,textColor:d}=l||{},{title:p,description:g,example:b}=i;return v.jsxs("div",{className:"p-2",children:[v.jsxs("div",{className:"flex items-center justify-between gap-1 sm:gap-2 mb-2",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[h&&v.jsx("span",{className:`px-1 py-0.5 sm:px-2 sm:py-1 rounded-md ${d} bg-opacity-20 text-xs sm:text-sm font-medium`,children:h}),v.jsx("h2",{className:"text-base sm:text-xl font-bold",children:p})]}),v.jsx("button",{onClick:s,disabled:t||o,className:`flex items-center gap-1 px-3 py-1 rounded-md text-xs sm:text-sm font-medium transition-colors ${t?"bg-green-700 text-white cursor-not-allowed":o?"bg-gray-600 text-gray-300 cursor-wait":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:t?v.jsxs(v.Fragment,{children:[v.jsx(sw,{size:14,className:"sm:w-4 sm:h-4"})," Solved"]}):v.jsxs(v.Fragment,{children:[v.jsx(gD,{size:14,className:"sm:w-4 sm:h-4"})," Mark as Solved"]})})]}),v.jsxs("div",{className:"prose prose-invert max-w-none",children:[v.jsx("p",{className:"mb-3 sm:mb-4 text-sm sm:text-base",children:g}),v.jsxs("div",{className:"mb-3 sm:mb-4",children:[v.jsx("h3",{className:"text-sm sm:text-lg font-semibold mb-1 sm:mb-2",children:"Example:"}),v.jsx("pre",{className:"bg-gray-900 p-2 sm:p-3 rounded-lg overflow-x-auto whitespace-pre-wrap text-xs sm:text-sm",children:b})]})]})]})});Jg.displayName="QuestionContent";Jg.propTypes={question:pe.shape({id:pe.string,title:pe.string,description:pe.string,example:pe.string}),difficulty:pe.string.isRequired,isSolved:pe.bool,onMarkSolved:pe.func.isRequired,isSubmitting:pe.bool};const mS=N.memo(()=>v.jsxs("div",{className:"mt-4 sm:mt-8 p-2 sm:p-4 bg-gray-900 rounded-lg border border-gray-700",children:[v.jsx("h3",{className:"text-sm sm:text-lg font-semibold mb-2",children:"Coding Challenge Tips"}),v.jsxs("ul",{className:"list-disc pl-4 sm:pl-5 space-y-1 sm:space-y-2 text-xs sm:text-sm text-gray-300",children:[v.jsx("li",{children:"Read the problem statement carefully before starting"}),v.jsx("li",{children:"Consider edge cases in your solution"}),v.jsx("li",{children:"Test your code with various inputs"}),v.jsx("li",{children:"Optimize your solution if time permits"}),v.jsx("li",{children:"Start with a brute force approach, then refine"})]})]}));mS.displayName="CodingTips";const ey=({onToggleFullScreen:i,onDifficultySelected:e,onNextQuestion:t,onExitChallenge:s,initialDifficulty:o,initialQuestion:l,userId:h})=>{const[d,p]=N.useState(o),[g,b]=N.useState(!o),[w,x]=N.useState(0),[C,P]=N.useState(l),[$,j]=N.useState({easy:[],medium:[],hard:[]}),[Q,Z]=N.useState(!1),[J,le]=N.useState(null),[re,he]=N.useState([]),[M,I]=N.useState(!1),[A,R]=N.useState(!1),[V,U]=N.useState(!1),k=N.useCallback(async()=>{if(h){Z(!0),le(null);try{const B=BT(Ri,"Questions"),ne=async Se=>{const rt=xi(B,Se),De=await bh(rt);if(De.exists()){const Xe=De.data();return Object.keys(Xe).map(Le=>({id:Le,title:Xe[Le].question||Xe[Le].title,description:Xe[Le].description,example:Xe[Le].example}))}return[]},[ae,ce,be]=await Promise.all([ne("Easy"),ne("Medium"),ne("Hard")]);if(j({easy:ae,medium:ce,hard:be}),h){const Se=xi(Ri,"users",h),rt=await bh(Se);if(rt.exists()){const De=rt.data();De.solvedQuestions&&he(De.solvedQuestions)}}}catch(B){console.error("Error fetching data:",B),le("Failed to load questions. Please try again later.")}finally{Z(!1)}}},[h]);N.useEffect(()=>{k()},[k]),N.useEffect(()=>{var B;if(o&&((B=$[o])==null?void 0:B.length)>0){p(o),b(!1),Z(!0),R(!1);const ne=$[o],ae=ne.findIndex(ce=>!re.includes(ce.id));ae!==-1?(x(ae),P(ne[ae])):(R(!0),x(0),P(ne[0])),e&&e(o),Z(!1)}},[o,$,re,e]);const Ke=N.useCallback(B=>{var ne;if(((ne=$[B])==null?void 0:ne.length)>0){p(B),b(!1);const ae=$[B][0];P(ae),x(0),e&&e(B)}else le(`No questions available for ${B} difficulty.`)},[$,e]),se=N.useCallback(()=>{p(null),b(!0),x(0),P(null),s&&s()},[s]),X=N.useCallback(()=>{var B;if(d&&((B=$[d])==null?void 0:B.length)>0){Z(!0);const ne=$[d];let ae=(w+1)%ne.length;const ce=ae;let be=!1;for(;!be;){if(!re.includes(ne[ae].id)){be=!0;break}if(ae=(ae+1)%ne.length,ae===ce)break}R(!be);const Se=ne[ae];x(ae),P(Se),t&&t(Se),Z(!1)}},[d,$,w,re,t]),de=N.useMemo(()=>C&&re.includes(C.id),[C,re]),fe=N.useCallback(async()=>{if(!h){le("You need to be logged in to save your progress. Please sign in.");return}if(!(!C||de||M)){I(!0);try{const B=xi(Ri,"users",h);(await bh(B)).exists()?await Mg(B,{solvedQuestions:nw(C.id)}):await ew(B,{solvedQuestions:[C.id]}),he(ae=>[...ae,C.id])}catch(B){console.error("Error marking question as solved:",B),le("Failed to save progress. Please try again.")}finally{I(!1)}}},[h,C,de,M]),xe=()=>Q?v.jsx("div",{className:"flex justify-center items-center h-full",children:v.jsx("p",{className:"text-gray-400",children:"Loading questions..."})}):J?v.jsxs("div",{className:"p-4 text-center text-red-400",children:[v.jsx("p",{children:J}),v.jsx("button",{onClick:()=>le(null),className:"mt-2 px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded text-sm",children:"Dismiss"})]}):g?v.jsxs("div",{className:"p-1 sm:p-2",children:[v.jsx("h2",{className:"text-lg sm:text-xl font-bold mb-3 sm:mb-6 text-center",children:"Select Difficulty Level"}),v.jsx("div",{className:"grid grid-cols-1 gap-2 sm:gap-4",children:dS.map(B=>v.jsx(Zg,{difficulty:B,isSelected:d===B.value,onSelect:Ke},B.value))}),v.jsx(mS,{})]}):A?v.jsxs("div",{className:"flex flex-col justify-center items-center h-full p-4 text-center",children:[v.jsx("div",{className:"text-2xl text-green-500 mb-4",children:v.jsx(sw,{size:48})}),v.jsx("h2",{className:"text-xl font-bold mb-3 text-green-400",children:"Great! All available questions are solved."}),v.jsx("p",{className:"text-gray-400 mb-6",children:"You have completed all questions in this difficulty level."}),v.jsx("button",{onClick:se,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded font-medium text-sm transition-colors",children:"Choose Another Difficulty"})]}):v.jsx(Jg,{question:C,difficulty:d,isSolved:de,onMarkSolved:fe,isSubmitting:M}),D=()=>{U(B=>!B),i&&i()};return v.jsxs("div",{className:`p-1 sm:p-2 md:p-3 flex flex-col ${V?"fixed inset-0 z-50 bg-gray-900":"h-full"}`,children:[v.jsx("div",{className:"sticky top-0 bg-gray-800 z-10",children:v.jsxs("div",{className:"flex justify-between items-center pb-2 border-b border-gray-700 mb-2",children:[v.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[v.jsx(nD,{size:16,className:"sm:w-5 sm:h-5"}),v.jsx("span",{className:"font-medium text-sm sm:text-base",children:"Question"}),!g&&C&&re.length>0&&v.jsxs("span",{className:"text-xs bg-gray-700 px-2 py-0.5 rounded-full ml-2",children:["Solved ",re.length," questions"]})]}),v.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[!g&&v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:se,className:"px-2 py-1 sm:px-4 sm:py-1 bg-gray-700 hover:bg-gray-600 rounded font-medium text-xs sm:text-sm transition-colors",children:"Exit"}),!A&&v.jsx("button",{onClick:X,className:"px-2 py-1 sm:px-4 sm:py-1 bg-blue-600 hover:bg-blue-700 rounded font-medium text-xs sm:text-sm transition-colors",children:"Next"})]}),v.jsx("button",{onClick:D,className:"p-1 hover:bg-gray-700 rounded transition-colors","aria-label":V?"Exit fullscreen":"Toggle question fullscreen",children:V?v.jsx(uw,{size:16,className:"sm:w-5 sm:h-5"}):v.jsx(lw,{size:16,className:"sm:w-5 sm:h-5"})})]})]})}),v.jsx("div",{className:"flex-grow overflow-auto",children:xe()})]})};ey.propTypes={onToggleFullScreen:pe.func.isRequired,onDifficultySelected:pe.func,onNextQuestion:pe.func,onExitChallenge:pe.func,initialDifficulty:pe.string,initialQuestion:pe.object,userId:pe.string};ey.defaultProps={initialDifficulty:null,initialQuestion:null,userId:null};const O6=kf(),D6=[{value:"javascript",label:"JavaScript"},{value:"python",label:"Python"}],Xl={javascript:"// Start coding in JavaScript...",python:"# Start coding in Python..."},pS=({onClose:i})=>v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:v.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-lg p-4 sm:p-6 max-w-md w-full border border-yellow-600 animate-fadeIn",children:[v.jsxs("div",{className:"flex items-start justify-between mb-4",children:[v.jsxs("div",{className:"flex items-center",children:[v.jsx("div",{className:"p-2 rounded-full bg-yellow-600 mr-2 sm:mr-3",children:v.jsx(Pg,{size:20,className:"sm:w-6 sm:h-6"})}),v.jsx("h3",{className:"text-lg sm:text-xl font-bold text-white",children:"Select Difficulty First"})]}),v.jsx("button",{onClick:i,className:"text-gray-400 hover:text-white transition-colors","aria-label":"Close warning",children:v.jsx(Vg,{size:18,className:"sm:w-5 sm:h-5"})})]}),v.jsx("p",{className:"text-sm sm:text-base text-gray-300 mb-4",children:"Please select a difficulty level before coding. This will ensure you are working on an appropriate challenge."}),v.jsx("div",{className:"flex justify-end gap-3 mt-4",children:v.jsx("button",{onClick:i,className:"px-3 py-1.5 sm:px-4 sm:py-2 bg-gray-700 hover:bg-gray-600 rounded-md transition-colors text-white text-sm sm:text-base",children:"Close"})})]})});pS.propTypes={onClose:pe.func.isRequired};const Jh=N.memo(({icon:i,title:e,panel:t,onToggleFullScreen:s,runAction:o,languageSelector:l})=>{const h=s.activePanel===t;return v.jsxs("div",{className:"flex justify-between items-center pb-2 border-b border-gray-700 mb-2",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(i,{size:16,className:"sm:w-5 sm:h-5"}),v.jsx("span",{className:"font-medium text-sm sm:text-base",children:e})]}),v.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[l,o&&v.jsx("button",{onClick:o,className:"px-2 py-1 sm:px-4 sm:py-1 text-xs sm:text-sm bg-green-600 hover:bg-green-700 rounded font-medium transition-colors",children:"Run"}),v.jsx("button",{onClick:()=>s(t),className:"p-1 hover:bg-gray-700 rounded transition-colors","aria-label":`Toggle ${t} fullscreen`,children:h?v.jsx(uw,{size:16,className:"sm:w-5 sm:h-5"}):v.jsx(lw,{size:16,className:"sm:w-5 sm:h-5"})})]})]})});Jh.displayName="PanelHeader";Jh.propTypes={icon:pe.elementType.isRequired,title:pe.string.isRequired,panel:pe.string.isRequired,onToggleFullScreen:pe.func.isRequired,runAction:pe.func,languageSelector:pe.node};const ty=N.memo(({language:i,onChange:e})=>v.jsx("select",{value:i,onChange:e,className:"px-1 py-1 sm:px-2 sm:py-1 text-xs sm:text-sm bg-gray-700 border border-gray-600 rounded","aria-label":"Select programming language",children:D6.map(t=>v.jsx("option",{value:t.value,children:t.label},t.value))}));ty.displayName="LanguageSelector";ty.propTypes={language:pe.string.isRequired,onChange:pe.func.isRequired};const k6=()=>{const[i,e]=N.useState(()=>localStorage.getItem("savedCode")||Xl.javascript),[t,s]=N.useState("Output will appear here..."),[o,l]=N.useState(null),[h,d]=N.useState("javascript"),[p,g]=N.useState(!1),[b,w]=N.useState(()=>!!localStorage.getItem("selectedDifficulty")),[x,C]=N.useState(!1),[P,$]=N.useState("vertical"),[j,Q]=N.useState(()=>{const D=localStorage.getItem("currentQuestion");return D?JSON.parse(D):null}),[Z,J]=N.useState(()=>localStorage.getItem("selectedDifficulty")||null),le=N.useRef(null),[re,he]=N.useState(null),[M,I]=N.useState(null);N.useEffect(()=>{const D=Nf(O6,B=>{I(B||null)});return()=>D()},[]),N.useEffect(()=>{localStorage.setItem("savedCode",i)},[i]),N.useEffect(()=>{j&&localStorage.setItem("currentQuestion",JSON.stringify(j))},[j]),N.useEffect(()=>{const D=()=>{window.innerWidth<768?$("horizontal"):$("vertical")};return D(),window.addEventListener("resize",D),()=>{window.removeEventListener("resize",D)}},[]),N.useEffect(()=>{(async()=>{const B=await window.loadPyodide();he(B)})()},[]),N.useEffect(()=>{C(!b)},[b]);const A=D=>{le.current=D,D.onKeyDown(()=>{!b&&!p&&g(!0)})},R=D=>{localStorage.setItem("selectedDifficulty",D),J(D),w(!0),C(!1),Q(null),localStorage.removeItem("currentQuestion")},V=D=>{Q(D),e(Xl[h]),s("Output will appear here...")},U=()=>{localStorage.removeItem("savedCode"),localStorage.removeItem("selectedDifficulty"),localStorage.removeItem("currentQuestion"),e(Xl.javascript),w(!1),C(!0),Q(null),J(null),s("Output will appear here...")};N.useEffect(()=>{const D=()=>{le.current&&le.current.layout()};D(),window.addEventListener("resize",D);const B=setTimeout(D,100);return()=>{window.removeEventListener("resize",D),clearTimeout(B)}},[o,P]);const k=D=>{const B=D.target.value;d(B),e(Xl[B]||Xl.javascript)},Ke=async()=>{if(!b){g(!0);return}try{if(h==="javascript"){let D=[];const B=console.log;console.log=(...ne)=>{D.push(ne.join(" ")),B(...ne)};try{const ne=new Function(i)();ne!==void 0&&D.push(String(ne))}catch(ne){D.push(`Error: ${ne.message}`)}console.log=B,s(D.join(`
`))}else if(h==="python"){if(!re){s("Loading Python environment...");return}re.runPython(`
          import sys
          from io import StringIO
          sys.stdout = StringIO()
        `),await re.runPythonAsync(i);const D=re.runPython("sys.stdout.getvalue()");s(D)}}catch(D){s(`Error: ${D.message}`)}},se=D=>{l(o===D?null:D)};se.activePanel=o;const X=o==="editor",de=o==="output",fe=o==="question",xe=v.jsx(ty,{language:h,onChange:k});return v.jsxs("div",{className:"flex flex-col h-screen bg-gray-900 text-white overflow-hidden p-1 sm:p-2 md:p-4 gap-1 sm:gap-2 md:gap-4",children:[p&&!b&&v.jsx(pS,{onClose:()=>g(!1)}),v.jsxs("div",{className:`flex ${P==="vertical"?"flex-row":"flex-col"} h-full w-full gap-1 sm:gap-2 md:gap-4`,children:[!fe&&v.jsxs("div",{className:`flex flex-col ${fe?"hidden":X||de?"w-full":P==="vertical"?"w-full md:w-2/3":"w-full h-3/5"} h-full gap-1 sm:gap-2 md:gap-4 overflow-hidden`,children:[!de&&v.jsx("div",{className:`bg-gray-800 rounded-lg overflow-hidden ${X?"h-full":P==="vertical"?"h-1/2 md:h-3/5":"h-full"} flex flex-col`,children:v.jsxs("div",{className:"p-1 sm:p-2 md:p-3 flex flex-col h-full",children:[v.jsx(Jh,{icon:ow,title:"Editor",panel:"editor",onToggleFullScreen:se,runAction:Ke,languageSelector:xe}),v.jsxs("div",{className:"flex-grow overflow-hidden relative",children:[v.jsx(N6,{height:"100%",language:h,value:i,onChange:e,theme:"vs-dark",onMount:A,options:{minimap:{enabled:!1},scrollBeyondLastLine:!1,fontSize:14,automaticLayout:!0,readOnly:x}}),!b&&!fe&&v.jsx("div",{className:"absolute inset-0 bg-gray-900 bg-opacity-70 flex items-center justify-center",children:v.jsxs("div",{className:"text-center p-2 sm:p-4 rounded-lg",children:[v.jsx(Pg,{size:30,className:"mx-auto mb-2 text-yellow-500 sm:w-10 sm:h-10"}),v.jsx("p",{className:"text-sm sm:text-lg font-semibold px-2",children:"Please select a difficulty level in the question panel to start coding"})]})})]})]})}),!X&&v.jsx("div",{className:`bg-gray-800 rounded-lg ${de?"h-full":P==="vertical"?"h-1/2 md:h-2/5":"h-full"} flex flex-col overflow-hidden`,children:v.jsxs("div",{className:"p-1 sm:p-2 md:p-3 flex flex-col h-full",children:[v.jsx(Jh,{icon:_D,title:"Output",panel:"output",onToggleFullScreen:se}),v.jsx("pre",{className:"flex-grow overflow-auto bg-gray-900 p-1 sm:p-2 md:p-3 rounded-lg text-xs sm:text-sm",children:b?t:"Select a difficulty level before running code."})]})})]}),!X&&!de&&v.jsx("div",{className:`bg-gray-800 rounded-lg ${fe?"w-full h-full":P==="vertical"?"w-full md:w-1/3 h-full":"w-full h-2/5"} overflow-auto`,children:v.jsx(ey,{onToggleFullScreen:se,onDifficultySelected:R,onNextQuestion:V,onExitChallenge:U,initialDifficulty:Z,initialQuestion:j,userId:M==null?void 0:M.uid})})]})]})},mo=kf(),M6=()=>{const i=tf(),[e,t]=N.useState(!0),[s,o]=N.useState(!1),[l,h]=N.useState({email:"",username:"",password:""}),[d,p]=N.useState(!1),[g,b]=N.useState(!1),[w,x]=N.useState(""),[C,P]=N.useState(""),[$,j]=N.useState(!1),[Q,Z]=N.useState(null);console.log(Q);const J=N.useCallback(()=>{i("/profile")},[i]);N.useEffect(()=>{const A=Nf(mo,R=>{R&&J()});return()=>A()},[J]),N.useEffect(()=>{if(Ik(mo,window.location.href)){let A=localStorage.getItem("emailForSignIn");A||(A=window.prompt("Please provide your email for confirmation")),j(!0);const R=localStorage.getItem("isNewUser")==="true",V=localStorage.getItem("usernameForSignIn");Ck(mo,A,window.location.href).then(U=>R&&V&&U.user?Lp(U.user,{displayName:V}).then(()=>U):U).then(U=>{localStorage.removeItem("emailForSignIn"),localStorage.removeItem("isNewUser"),localStorage.removeItem("usernameForSignIn"),P(`Successfully ${R?"created account":"signed in"} with email link!`),console.log("User signed in:",U.user)}).catch(U=>{x("Error signing in with email link: "+U.message)}).finally(()=>{j(!1)})}},[]);const le=A=>{const{name:R,value:V}=A.target;h(U=>({...U,[R]:V})),x(""),P(""),b(!1)},re=A=>{A.preventDefault(),j(!0),d?he():e?xk(mo,l.email,l.password).then(R=>{Z(R.user.uid),P("Successfully signed in!")}).catch(R=>{R.code==="auth/invalid-credential"?x("Invalid email or password. Please try again."):x("Error signing in: "+R.message)}).finally(()=>{j(!1)}):Ak(mo,l.email,l.password).then(R=>Lp(R.user,{displayName:l.username}).then(()=>R)).then(R=>{Z(R.user.uid),P("Account created successfully!")}).catch(R=>{R.code==="auth/email-already-in-use"?x("Email is already in use. Please use a different email or sign in."):R.code==="auth/weak-password"?x("Password is too weak. Please use a stronger password."):x("Error creating account: "+R.message)}).finally(()=>{j(!1)})},he=()=>{const A={url:window.location.origin+window.location.pathname,handleCodeInApp:!0};Rk(mo,l.email,A).then(()=>{localStorage.setItem("emailForSignIn",l.email),e?(localStorage.removeItem("usernameForSignIn"),localStorage.setItem("isNewUser","false")):(localStorage.setItem("usernameForSignIn",l.username),localStorage.setItem("isNewUser","true")),b(!0),P(`A sign-in link has been sent to ${l.email}`)}).catch(R=>{x("Error sending email link: "+R.message)}).finally(()=>{j(!1)})},M=()=>{t(!e),p(!1),b(!1),x(""),P(""),j(!1),h({email:"",username:e?"":l.username,password:""})},I=()=>{p(!d),x(""),P("")};return v.jsxs("div",{className:"flex flex-col md:flex-row h-[calc(100vh-76px)] bg-gray-900 text-white overflow-hidden",children:[v.jsx("div",{className:"w-full md:w-1/2 h-full flex items-center justify-center p-4 md:p-8 lg:p-12",children:v.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[v.jsxs("div",{className:"mb-8 text-center",children:[v.jsx("h1",{className:"text-2xl font-bold mb-2",children:e?"Welcome Back":"Create Account"}),v.jsx("p",{className:"text-gray-400",children:e?"Sign in to access your account":"Sign up to get started with coding"})]}),g?v.jsxs("div",{className:"bg-gray-700 p-4 rounded-lg text-center",children:[v.jsx(rD,{size:32,className:"mx-auto mb-4 text-blue-400"}),v.jsx("h3",{className:"text-lg font-medium mb-2",children:"Check Your Email"}),v.jsxs("p",{className:"mb-4",children:["We have sent a sign-in link to ",v.jsx("strong",{children:l.email}),". Click the link to complete the"," ",e?"sign-in":"registration"," process."]}),v.jsx("button",{onClick:()=>b(!1),className:"text-blue-500 hover:underline",children:"Use a different email"})]}):v.jsxs("form",{onSubmit:re,className:"space-y-5",children:[!e&&v.jsxs("div",{className:"space-y-2",children:[v.jsx("label",{className:"block text-sm font-medium",htmlFor:"username",children:"Username"}),v.jsxs("div",{className:"relative",children:[v.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:v.jsx(Pp,{size:18,className:"text-gray-500"})}),v.jsx("input",{type:"text",id:"username",name:"username",value:l.username,onChange:le,className:"bg-gray-700 border border-gray-600 text-white rounded-lg block w-full pl-10 p-2.5 focus:border-blue-500 focus:ring-blue-500 focus:outline-none",placeholder:"username",required:!e})]})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx("label",{className:"block text-sm font-medium",htmlFor:"email",children:"Email"}),v.jsxs("div",{className:"relative",children:[v.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:v.jsx(cD,{size:18,className:"text-gray-500"})}),v.jsx("input",{type:"email",id:"email",name:"email",value:l.email,onChange:le,className:"bg-gray-700 border border-gray-600 text-white rounded-lg block w-full pl-10 p-2.5 focus:border-blue-500 focus:ring-blue-500 focus:outline-none",placeholder:"name@example.com",required:!0})]})]}),!d&&v.jsxs("div",{className:"space-y-2",children:[v.jsx("label",{className:"block text-sm font-medium",htmlFor:"password",children:"Password"}),v.jsxs("div",{className:"relative",children:[v.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:v.jsx(oD,{size:18,className:"text-gray-500"})}),v.jsx("input",{type:s?"text":"password",id:"password",name:"password",value:l.password,onChange:le,className:"bg-gray-700 border border-gray-600 text-white rounded-lg block w-full pl-10 pr-10 p-2.5 focus:border-blue-500 focus:ring-blue-500 focus:outline-none",placeholder:"",required:!d}),v.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 flex items-center pr-3",onClick:()=>o(!s),children:s?v.jsx(ZO,{size:18,className:"text-gray-500 hover:text-gray-300"}):v.jsx(eD,{size:18,className:"text-gray-500 hover:text-gray-300"})})]}),e&&v.jsx("div",{className:"flex justify-end",children:v.jsx("a",{href:"#",className:"text-sm text-blue-500 hover:underline",children:"Forgot password?"})})]}),w&&v.jsx("div",{className:"bg-red-900/50 border border-red-800 text-red-100 px-4 py-2 rounded-md",children:w}),C&&v.jsx("div",{className:"bg-green-900/50 border border-green-800 text-green-100 px-4 py-2 rounded-md",children:C}),v.jsxs("button",{type:"submit",disabled:$,className:`w-full flex items-center justify-center gap-2 bg-green-600 hover:bg-green-700 focus:ring-4 focus:ring-green-800 font-medium rounded-lg px-5 py-2.5 text-white transition-all duration-200 ${$?"opacity-70 cursor-not-allowed":""}`,children:[$?v.jsx("span",{className:"inline-block w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}):null,d?`Send ${e?"Sign-in":"Registration"} Link`:e?"Sign In":"Sign Up",!$&&v.jsx(HO,{size:18})]}),v.jsx("div",{className:"text-center mt-4",children:v.jsxs("p",{className:"text-sm text-gray-400",children:[e?"Don't have an account?":"Already have an account?",v.jsx("button",{type:"button",onClick:M,className:"ml-1 text-green-500 hover:underline focus:outline-none",children:e?"Sign Up":"Sign In"})]})}),v.jsxs("div",{className:"relative flex items-center justify-center",children:[v.jsx("hr",{className:"w-full border-gray-600"}),v.jsx("span",{className:"absolute bg-gray-800 px-2 text-gray-400 text-sm",children:"OR"})]}),v.jsx("button",{type:"button",onClick:I,className:"w-full flex items-center justify-center gap-2 bg-gray-700 hover:bg-gray-600 focus:ring-4 focus:ring-gray-600 font-medium rounded-lg px-5 py-2.5 text-white transition-all duration-200",children:d?"Use Password Instead":`${e?"Sign In":"Sign Up"} Without Password`})]})]})}),v.jsx("div",{className:"hidden md:flex md:w-1/2 bg-gray-800 h-full",children:v.jsx("div",{className:"flex flex-col items-center justify-center w-full p-8 lg:p-12",children:v.jsxs("div",{className:"max-w-lg text-center",children:[v.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Code Anywhere, Anytime"}),v.jsx("p",{className:"text-xl mb-8 text-gray-300",children:"Join our coding platform and take your programming skills to the next level"}),v.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-8",children:[v.jsxs("div",{className:"bg-gray-900 p-5 rounded-lg",children:[v.jsx("h3",{className:"font-bold mb-2",children:"Multi-language Support"}),v.jsx("p",{className:"text-gray-400",children:"JavaScript, Python, Java, C++, and more!"})]}),v.jsxs("div",{className:"bg-gray-900 p-5 rounded-lg",children:[v.jsx("h3",{className:"font-bold mb-2",children:"Interactive Challenges"}),v.jsx("p",{className:"text-gray-400",children:"Practice with real-world coding problems"})]}),v.jsxs("div",{className:"bg-gray-900 p-5 rounded-lg",children:[v.jsx("h3",{className:"font-bold mb-2",children:"Collaborative Editing"}),v.jsx("p",{className:"text-gray-400",children:"Code together in real-time with team members"})]}),v.jsxs("div",{className:"bg-gray-900 p-5 rounded-lg",children:[v.jsx("h3",{className:"font-bold mb-2",children:"Cloud Saves"}),v.jsx("p",{className:"text-gray-400",children:"Access your projects from any device"})]})]})]})})})]})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS="firebasestorage.googleapis.com",yS="storageBucket",P6=2*60*1e3,V6=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt extends Wn{constructor(e,t,s=0){super(up(e),`Firebase Storage: ${t} (${up(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Kt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return up(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Gt;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Gt||(Gt={}));function up(i){return"storage/"+i}function L6(){const i="An unknown error occurred, please check the error payload for server response.";return new Kt(Gt.UNKNOWN,i)}function j6(i){return new Kt(Gt.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")}function U6(i){return new Kt(Gt.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function z6(){const i="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Kt(Gt.UNAUTHENTICATED,i)}function q6(){return new Kt(Gt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function B6(i){return new Kt(Gt.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")}function H6(){return new Kt(Gt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function F6(){return new Kt(Gt.CANCELED,"User canceled the upload/download.")}function $6(i){return new Kt(Gt.INVALID_URL,"Invalid URL '"+i+"'.")}function G6(i){return new Kt(Gt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function K6(){return new Kt(Gt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+yS+"' property when initializing the app?")}function qp(i){return new Kt(Gt.INVALID_ARGUMENT,i)}function vS(){return new Kt(Gt.APP_DELETED,"The Firebase app was deleted.")}function Q6(i){return new Kt(Gt.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Wl(i){throw new Kt(Gt.INTERNAL_ERROR,"Internal error: "+i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=Kn.makeFromUrl(e,t)}catch{return new Kn(e,"")}if(s.path==="")return s;throw G6(e)}static makeFromUrl(e,t){let s=null;const o="([A-Za-z0-9.\\-_]+)";function l(le){le.path.charAt(le.path.length-1)==="/"&&(le.path_=le.path_.slice(0,-1))}const h="(/(.*))?$",d=new RegExp("^gs://"+o+h,"i"),p={bucket:1,path:3};function g(le){le.path_=decodeURIComponent(le.path)}const b="v[A-Za-z0-9_]+",w=t.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",C=new RegExp(`^https?://${w}/${b}/b/${o}/o${x}`,"i"),P={bucket:1,path:3},$=t===gS?"(?:storage.googleapis.com|storage.cloud.google.com)":t,j="([^?#]*)",Q=new RegExp(`^https?://${$}/${o}/${j}`,"i"),J=[{regex:d,indices:p,postModify:l},{regex:C,indices:P,postModify:g},{regex:Q,indices:{bucket:1,path:2},postModify:g}];for(let le=0;le<J.length;le++){const re=J[le],he=re.regex.exec(e);if(he){const M=he[re.indices.bucket];let I=he[re.indices.path];I||(I=""),s=new Kn(M,I),re.postModify(s);break}}if(s==null)throw $6(e);return s}}class Y6{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X6(i,e,t){let s=1,o=null,l=null,h=!1,d=0;function p(){return d===2}let g=!1;function b(...j){g||(g=!0,e.apply(null,j))}function w(j){o=setTimeout(()=>{o=null,i(C,p())},j)}function x(){l&&clearTimeout(l)}function C(j,...Q){if(g){x();return}if(j){x(),b.call(null,j,...Q);return}if(p()||h){x(),b.call(null,j,...Q);return}s<64&&(s*=2);let J;d===1?(d=2,J=0):J=(s+Math.random())*1e3,w(J)}let P=!1;function $(j){P||(P=!0,x(),!g&&(o!==null?(j||(d=2),clearTimeout(o),w(0)):j||(d=1)))}return w(0),l=setTimeout(()=>{h=!0,$(!0)},t),$}function W6(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z6(i){return i!==void 0}function gb(i,e,t,s){if(s<e)throw qp(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>t)throw qp(`Invalid value for '${i}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J6(i,e,t){let s=e;return t==null&&(s=`https://${e}`),`${t}://${s}/v0${i}`}function e5(i){const e=encodeURIComponent;let t="?";for(const s in i)if(i.hasOwnProperty(s)){const o=e(s)+"="+e(i[s]);t=t+o+"&"}return t=t.slice(0,-1),t}var ua;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(ua||(ua={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t5(i,e){const t=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,l=e.indexOf(i)!==-1;return t||o||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n5{constructor(e,t,s,o,l,h,d,p,g,b,w,x=!0){this.url_=e,this.method_=t,this.headers_=s,this.body_=o,this.successCodes_=l,this.additionalRetryCodes_=h,this.callback_=d,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=b,this.connectionFactory_=w,this.retry=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,P)=>{this.resolve_=C,this.reject_=P,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new fh(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const h=d=>{const p=d.loaded,g=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&l.addUploadProgressListener(h),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(h),this.pendingConnection_=null;const d=l.getErrorCode()===ua.NO_ERROR,p=l.getStatus();if(!d||t5(p,this.additionalRetryCodes_)&&this.retry){const b=l.getErrorCode()===ua.ABORT;s(!1,new fh(!1,null,b));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new fh(g,l))})},t=(s,o)=>{const l=this.resolve_,h=this.reject_,d=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());Z6(p)?l(p):l()}catch(p){h(p)}else if(d!==null){const p=L6();p.serverResponse=d.getErrorText(),this.errorCallback_?h(this.errorCallback_(d,p)):h(p)}else if(o.canceled){const p=this.appDelete_?vS():F6();h(p)}else{const p=H6();h(p)}};this.canceled_?t(!1,new fh(!1,null,!0)):this.backoffId_=X6(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&W6(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class fh{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function i5(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function r5(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function s5(i,e){e&&(i["X-Firebase-GMPID"]=e)}function a5(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function o5(i,e,t,s,o,l,h=!0){const d=e5(i.urlParams),p=i.url+d,g=Object.assign({},i.headers);return s5(g,e),i5(g,t),r5(g,l),a5(g,s),new n5(p,i.method,g,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l5(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function u5(i,e){const t=e.split("/").filter(s=>s.length>0).join("/");return i.length===0?t:i+"/"+t}function c5(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}class h5{constructor(e,t,s,o){this.url=e,this.method=t,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function f5(i){function e(t,s){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=q6():o=z6():t.getStatus()===402?o=U6(i.bucket):t.getStatus()===403?o=B6(i.path):o=s,o.status=t.getStatus(),o.serverResponse=s.serverResponse,o}return e}function d5(i){const e=f5(i);function t(s,o){let l=e(s,o);return s.getStatus()===404&&(l=j6(i.path)),l.serverResponse=o.serverResponse,l}return t}function m5(i,e){const t=e.fullServerUrl(),s=J6(t,i.host,i._protocol),o="DELETE",l=i.maxOperationRetryTime;function h(p,g){}const d=new h5(s,o,h,l);return d.successCodes=[200,204],d.errorHandler=d5(e),d}class p5{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ua.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ua.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ua.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,s,o){if(this.sent_)throw Wl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),o!==void 0)for(const l in o)o.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,o[l].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Wl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Wl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Wl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Wl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class g5 extends p5{initXhr(){this.xhr_.responseType="text"}}function y5(){return new g5}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e,t){this._service=e,t instanceof Kn?this._location=t:this._location=Kn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new ga(e,t)}get root(){const e=new Kn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return c5(this._location.path)}get storage(){return this._service}get parent(){const e=l5(this._location.path);if(e===null)return null;const t=new Kn(this._location.bucket,e);return new ga(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw Q6(e)}}function v5(i){i._throwIfRoot("deleteObject");const e=m5(i.storage,i._location);return i.storage.makeRequestWithTokens(e,y5)}function _5(i,e){const t=u5(i._location.path,e),s=new Kn(i._location.bucket,t);return new ga(i.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E5(i){return/^[A-Za-z]+:\/\//.test(i)}function b5(i,e){return new ga(i,e)}function _S(i,e){if(i instanceof ny){const t=i;if(t._bucket==null)throw K6();const s=new ga(t,t._bucket);return e!=null?_S(s,e):s}else return e!==void 0?_5(i,e):i}function T5(i,e){if(e&&E5(e)){if(i instanceof ny)return b5(i,e);throw qp("To use ref(service, url), the first argument must be a Storage instance.")}else return _S(i,e)}function yb(i,e){const t=e==null?void 0:e[yS];return t==null?null:Kn.makeFromBucketSpec(t,i)}function w5(i,e,t,s={}){i.host=`${e}:${t}`,i._protocol="http";const{mockUserToken:o}=s;o&&(i._overrideAuthToken=typeof o=="string"?o:Hb(o,i.app.options.projectId))}class ny{constructor(e,t,s,o,l){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=o,this._firebaseVersion=l,this._bucket=null,this._host=gS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=P6,this._maxUploadRetryTime=V6,this._requests=new Set,o!=null?this._bucket=Kn.makeFromBucketSpec(o,this._host):this._bucket=yb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Kn.makeFromBucketSpec(this._url,e):this._bucket=yb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){gb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){gb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ga(this,e)}_makeRequest(e,t,s,o,l=!0){if(this._deleted)return new Y6(vS());{const h=o5(e,this._appId,s,o,t,this._firebaseVersion,l);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,t){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,o).getPromise()}}const vb="@firebase/storage",_b="0.13.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES="storage";function S5(i){return i=Je(i),v5(i)}function A5(i,e){return i=Je(i),T5(i,e)}function x5(i=af(),e){i=Je(i);const s=ws(i,ES).getImmediate({identifier:e}),o=zb("storage");return o&&R5(s,...o),s}function R5(i,e,t,s={}){w5(i,e,t,s)}function I5(i,{instanceIdentifier:e}){const t=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new ny(t,s,o,e,_a)}function C5(){si(new Xn(ES,I5,"PUBLIC").setMultipleInstances(!0)),yn(vb,_b,""),yn(vb,_b,"esm2017")}C5();function N5(){const i=kf(),e=x5(),t=tf(),[s,o]=N.useState(null),[l,h]=N.useState({displayName:"",email:"",bio:"",location:"",profession:"",githubLink:""}),[d,p]=N.useState(!0),[g,b]=N.useState(!1),[w,x]=N.useState({show:!1,message:"",type:""}),[C,P]=N.useState(!1),[$,j]=N.useState(!1),[Q,Z]=N.useState(!1),[J,le]=N.useState(!1),[re,he]=N.useState(!1);N.useEffect(()=>{const se=Nf(i,async X=>{if(X){o(X);try{const de=xi(Ri,"users",X.uid),fe=await bh(de),xe=fe.exists()?fe.data():{};h({displayName:X.displayName||"",email:X.email||"",bio:xe.bio||"",location:xe.location||"",profession:xe.profession||"",githubLink:xe.githubLink||""}),fe.exists()||await ew(de,{displayName:X.displayName||"",email:X.email||"",bio:"",location:"",profession:"",githubLink:""})}catch(de){console.error("Error fetching user data:",de),M("Error loading profile","error")}}else t("/auth");p(!1)});return()=>se()},[i,t]);const M=(se,X)=>{x({show:!0,message:se,type:X}),setTimeout(()=>x({show:!1,message:"",type:""}),5e3)},I=()=>{Mk(i).then(()=>t("/auth")).catch(se=>{console.error("Error signing out:",se),M("Error signing out","error")})},A=async()=>{if(s)try{Z(!0),await Nk(s),await new Promise(se=>setTimeout(se,1500)),M("Verification email sent","success"),P(!1)}catch(se){console.error("Error sending verification email:",se),M("Failed to send verification email","error")}finally{Z(!1)}},R=()=>{if(!s.emailVerified){P(!0);return}b(!0)},V=()=>{if(!s.emailVerified){M("Please verify your email before deleting account","error"),P(!0);return}j(!0)},U=se=>{const{name:X,value:de}=se.target;h(fe=>({...fe,[X]:de}))},k=async()=>{try{le(!0),await Lp(s,{displayName:l.displayName});const se=xi(Ri,"users",s.uid);await Mg(se,{displayName:l.displayName,bio:l.bio,location:l.location,profession:l.profession,githubLink:l.githubLink}),await new Promise(X=>setTimeout(X,1e3)),b(!1),M("Profile updated","success")}catch(se){console.error("Error updating profile:",se),M("Error updating profile","error")}finally{le(!1)}},Ke=async()=>{try{if(he(!0),await new Promise(se=>setTimeout(se,2e3)),s.photoURL&&s.photoURL.includes("firebase")){const se=A5(e,`profile_photos/${s.uid}`);await S5(se)}await kO(xi(Ri,"users",s.uid)),await Pk(s),M("Account deleted","success"),t("/auth")}catch(se){console.error("Error deleting account:",se),M("Error deleting account","error")}finally{he(!1),j(!1)}};return d?v.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:v.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-green-500"})}):v.jsxs("div",{className:"min-h-screen bg-gray-900 text-white p-4",children:[w.show&&v.jsx("div",{className:`fixed top-5 right-5 p-4 rounded-lg z-50 ${w.type==="success"?"bg-green-500":"bg-red-500"}`,children:v.jsxs("div",{className:"flex items-center justify-between space-x-4",children:[w.type==="success"?v.jsx(aw,{}):v.jsx(QO,{}),v.jsx("p",{children:w.message}),v.jsx("button",{onClick:()=>x({show:!1,message:"",type:""}),children:v.jsx(Vg,{})})]})}),C&&v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:v.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg max-w-md w-full",children:[v.jsxs("div",{className:"flex items-center justify-center mb-4",children:[v.jsx(ep,{className:"text-yellow-500 mr-2",size:24}),v.jsx("h2",{className:"text-xl font-bold text-yellow-500",children:"Email Verification Required"})]}),v.jsx("p",{className:"text-gray-300 text-center mb-4",children:"Please verify your email address to edit your profile or delete your account."}),v.jsxs("div",{className:"flex justify-center space-x-4",children:[v.jsx("button",{onClick:()=>P(!1),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg",disabled:Q,children:"Close"}),v.jsx("button",{onClick:A,className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg flex items-center",disabled:Q,children:Q?v.jsxs(v.Fragment,{children:[v.jsx(Jm,{className:"mr-2 animate-spin"}),"Sending..."]}):"Send Verification Email"})]})]})}),$&&v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:v.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg max-w-md w-full",children:[v.jsxs("div",{className:"flex items-center justify-center mb-4",children:[v.jsx(Pg,{className:"text-red-500 mr-2",size:24}),v.jsx("h2",{className:"text-xl font-bold text-red-500",children:"Confirm Account Deletion"})]}),v.jsx("p",{className:"text-gray-300 text-center mb-4",children:"Are you sure you want to delete your account? This action cannot be undone and will permanently remove all your data."}),v.jsxs("div",{className:"flex justify-center space-x-4",children:[v.jsx("button",{onClick:()=>j(!1),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg",disabled:re,children:"Cancel"}),v.jsx("button",{onClick:Ke,className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg flex items-center",disabled:re,children:re?v.jsxs(v.Fragment,{children:[v.jsx(Jm,{className:"mr-2 animate-spin"}),"Deleting..."]}):v.jsxs(v.Fragment,{children:[v.jsx(jE,{className:"inline mr-2"})," Confirm Delete"]})})]})]})}),v.jsxs("div",{className:"max-w-2xl mx-auto bg-gray-800 rounded-lg p-6",children:[v.jsxs("div",{className:"flex justify-between items-center mb-6",children:[v.jsx("h1",{className:"text-2xl font-bold",children:"Profile"}),!s.emailVerified&&v.jsxs("div",{className:"flex items-center text-yellow-500",children:[v.jsx(ep,{className:"mr-2"}),v.jsx("span",{className:"text-sm",children:"Email Not Verified"})]}),v.jsxs("div",{className:"flex space-x-2",children:[!g&&v.jsx("button",{onClick:R,className:"bg-green-500 hover:bg-green-600 px-3 py-1.5 rounded-lg",disabled:!1,children:"Edit"}),g&&v.jsx("button",{onClick:k,className:"bg-blue-500 hover:bg-blue-600 px-3 py-1.5 rounded-lg flex items-center",disabled:J,children:J?v.jsxs(v.Fragment,{children:[v.jsx(Jm,{className:"mr-2 animate-spin"}),"Saving..."]}):"Save"}),v.jsx("button",{onClick:I,className:"bg-gray-600 hover:bg-gray-700 px-3 py-1.5 rounded-lg",children:"Sign Out"})]})]}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries({displayName:"Name",email:"Email",location:"Location",profession:"Profession",githubLink:"GitHub",bio:"Bio"}).map(([se,X])=>v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:X}),g?se==="bio"?v.jsx("textarea",{name:se,value:l[se],onChange:U,className:"w-full bg-gray-700 rounded-lg p-2"}):se==="email"?v.jsx("p",{children:l[se]}):v.jsx("input",{type:"text",name:se,value:l[se],onChange:U,className:"w-full bg-gray-700 rounded-lg p-2"}):v.jsx("p",{children:l[se]||"Not set"})]},se))}),v.jsxs("div",{className:"mt-8 border border-red-600 p-4 rounded-lg",children:[v.jsx("h3",{className:"text-red-500 mb-2",children:"Delete Account"}),v.jsxs("button",{onClick:V,className:"bg-red-600 hover:bg-red-700 text-white px-3 py-1.5 rounded-lg flex items-center",children:[v.jsx(jE,{className:"inline mr-2"})," Delete Permanently"]}),!s.emailVerified&&v.jsxs("div",{className:"mt-2 text-yellow-500 flex items-center",children:[v.jsx(ep,{className:"mr-2"}),v.jsx("span",{className:"text-sm",children:"Email verification required to delete account"})]})]})]})]})}function O5(){const i=Mi(),[e,t]=N.useState(0);N.useEffect(()=>{E1(VE,"user_visit",{timestamp:Date.now()}),wC(VE,{user_type:"new",device_type:window.innerWidth<768?"mobile":"desktop",country:"India"})},[]);const s=N.useMemo(()=>()=>{const o=document.querySelector("nav");if(o){const l=o.offsetHeight;l!==e&&t(l)}},[e]);return N.useEffect(()=>{s(),window.addEventListener("resize",s);const o=new MutationObserver(s),l=document.querySelector("nav");return l&&o.observe(l,{attributes:!0,childList:!0,subtree:!0}),()=>{window.removeEventListener("resize",s),o.disconnect()}},[s]),v.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[v.jsx(K3,{}),v.jsx(_M,{}),v.jsx("div",{style:{paddingTop:e?`${e}px`:"5rem"},children:v.jsxs(FA,{children:[v.jsx(sa,{path:"/",element:v.jsx(iS,{})}),v.jsx(sa,{path:"/blogs",element:v.jsx(wM,{})}),v.jsx(sa,{path:"/contactus",element:v.jsx(SM,{})}),v.jsx(sa,{path:"/codeplayground",element:v.jsx(k6,{})}),v.jsx(sa,{path:"/auth",element:v.jsx(M6,{})}),v.jsx(sa,{path:"/profile",element:v.jsx(N5,{})})]})}),i.pathname!=="/codeplayground"&&i.pathname!=="/auth"&&v.jsx(vM,{})]})}eA.createRoot(document.getElementById("root")).render(v.jsx(N.StrictMode,{children:v.jsx(mx,{children:v.jsx(O5,{})})}));
